(self.webpackChunkmti_app=self.webpackChunkmti_app||[]).push([[179],{8255:e=>{function t(e){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=()=>[],t.resolve=t,t.id=8255,e.exports=t},7716:(e,t,n)=>{"use strict";n.d(t,{deG:()=>on,tb:()=>Ll,AFp:()=>Dl,ip1:()=>xl,CZH:()=>Al,hGG:()=>xc,z2F:()=>yc,sBO:()=>Da,Sil:()=>Hl,_Vd:()=>ea,EJc:()=>Vl,SBq:()=>ra,qLn:()=>wi,vpe:()=>cl,gxx:()=>ls,tBr:()=>Tn,XFs:()=>A,OlP:()=>sn,zs3:()=>Ss,ZZ4:()=>Sa,aQg:()=>Ia,soG:()=>Ml,YKP:()=>qa,v3s:()=>bc,h0i:()=>Ua,PXZ:()=>pc,R0b:()=>Wl,FiY:()=>xn,Lbi:()=>Nl,g9A:()=>Pl,n_E:()=>hl,Qsj:()=>aa,FYo:()=>oa,JOm:()=>Ii,Tiy:()=>ca,q3G:()=>mi,tp0:()=>An,EAV:()=>Sc,Rgc:()=>La,dDg:()=>nc,DyG:()=>an,q4F:()=>ha,GfV:()=>ua,s_b:()=>ja,ifc:()=>L,eFA:()=>fc,G48:()=>hc,Gpc:()=>p,f3M:()=>kn,X6Q:()=>uc,_c5:()=>Ec,VLi:()=>sc,c2e:()=>Fl,zSh:()=>us,wAp:()=>qo,vHH:()=>g,EiD:()=>pi,mCW:()=>Kn,qzn:()=>Un,JVY:()=>Bn,pB0:()=>Zn,eBb:()=>zn,L6k:()=>jn,LAX:()=>Gn,cg1:()=>Mo,Tjo:()=>Ic,kL8:()=>Vo,yhl:()=>qn,dqk:()=>q,sIi:()=>Ps,CqO:()=>Xs,QGY:()=>Qs,F4k:()=>Js,RDi:()=>Ie,AaK:()=>u,z3N:()=>Vn,qOj:()=>Is,TTD:()=>ye,_Bn:()=>Qo,xp6:()=>dr,uIk:()=>Ms,Gre:()=>Ro,ekj:()=>_o,Suo:()=>Sl,Xpm:()=>Q,lG2:()=>re,Yz7:()=>b,cJS:()=>w,oAB:()=>te,Yjl:()=>se,Y36:()=>Bs,_UZ:()=>Hs,GkF:()=>Ws,BQk:()=>$s,ynx:()=>Ys,qZA:()=>Zs,TgZ:()=>Gs,EpF:()=>Ks,n5z:()=>Xt,Ikx:()=>Oo,LFG:()=>Sn,$8M:()=>tn,NdJ:()=>eo,CRH:()=>kl,kcU:()=>_t,O4$:()=>gt,oxw:()=>so,ALo:()=>ol,lcZ:()=>al,Hsn:()=>lo,F$t:()=>ao,Q6J:()=>js,DdM:()=>il,VKq:()=>rl,iGM:()=>wl,MAs:()=>qs,Jf7:()=>Si,CHM:()=>ze,LSH:()=>gi,kYT:()=>ne,Udp:()=>go,WFA:()=>to,d8E:()=>Po,YNc:()=>Us,_uU:()=>xo,Oqu:()=>Ao,hij:()=>Do,Gf:()=>Cl});var i=n(9765),r=n(5319),s=n(7574),o=n(6682),a=n(8819);function l(e){for(let t in e)if(e[t]===l)return t;throw Error("Could not find renamed property on target object.")}function c(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function u(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(u).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function h(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const d=l({__forward_ref__:l});function p(e){return e.__forward_ref__=p,e.toString=function(){return u(this())},e}function f(e){return m(e)?e():e}function m(e){return"function"==typeof e&&e.hasOwnProperty(d)&&e.__forward_ref__===p}class g extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function _(e){return"string"==typeof e?e:null==e?"":String(e)}function y(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():_(e)}function v(e,t){const n=t?` in ${t}`:"";throw new g("201",`No provider for ${y(e)} found${n}`)}function b(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function w(e){return{providers:e.providers||[],imports:e.imports||[]}}function C(e){return S(e,I)||S(e,T)}function S(e,t){return e.hasOwnProperty(t)?e[t]:null}function k(e){return e&&(e.hasOwnProperty(E)||e.hasOwnProperty(x))?e[E]:null}const I=l({"\u0275prov":l}),E=l({"\u0275inj":l}),T=l({ngInjectableDef:l}),x=l({ngInjectorDef:l});var A=(()=>((A=A||{})[A.Default=0]="Default",A[A.Host=1]="Host",A[A.Self=2]="Self",A[A.SkipSelf=4]="SkipSelf",A[A.Optional=8]="Optional",A))();let D;function R(e){const t=D;return D=e,t}function O(e,t,n){const i=C(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&A.Optional?null:void 0!==t?t:void v(u(e),"Injector")}function P(e){return{toString:e}.toString()}var N=(()=>((N=N||{})[N.OnPush=0]="OnPush",N[N.Default=1]="Default",N))(),L=(()=>((L=L||{})[L.Emulated=0]="Emulated",L[L.None=2]="None",L[L.ShadowDom=3]="ShadowDom",L))();const F="undefined"!=typeof globalThis&&globalThis,M="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,U="undefined"!=typeof global&&global,q=F||U||M||V,B={},j=[],z=l({"\u0275cmp":l}),G=l({"\u0275dir":l}),Z=l({"\u0275pipe":l}),H=l({"\u0275mod":l}),Y=l({"\u0275loc":l}),$=l({"\u0275fac":l}),W=l({__NG_ELEMENT_ID__:l});let K=0;function Q(e){return P(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===N.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||j,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||L.Emulated,id:"c",styles:e.styles||j,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,r=e.features,s=e.pipes;return n.id+=K++,n.inputs=ie(e.inputs,t),n.outputs=ie(e.outputs),r&&r.forEach(e=>e(n)),n.directiveDefs=i?()=>("function"==typeof i?i():i).map(J):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(X):null,n})}function J(e){return oe(e)||function(e){return e[G]||null}(e)}function X(e){return function(e){return e[Z]||null}(e)}const ee={};function te(e){return P(()=>{const t={type:e.type,bootstrap:e.bootstrap||j,declarations:e.declarations||j,imports:e.imports||j,exports:e.exports||j,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ee[e.id]=e.type),t})}function ne(e,t){return P(()=>{const n=ae(e,!0);n.declarations=t.declarations||j,n.imports=t.imports||j,n.exports=t.exports||j})}function ie(e,t){if(null==e)return B;const n={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,t&&(t[r]=s)}return n}const re=Q;function se(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function oe(e){return e[z]||null}function ae(e,t){const n=e[H]||null;if(!n&&!0===t)throw new Error(`Type ${u(e)} does not have '\u0275mod' property.`);return n}const le=20,ce=10;function ue(e){return Array.isArray(e)&&"object"==typeof e[1]}function he(e){return Array.isArray(e)&&!0===e[1]}function de(e){return 0!=(8&e.flags)}function pe(e){return 2==(2&e.flags)}function fe(e){return 1==(1&e.flags)}function me(e){return null!==e.template}function ge(e,t){return e.hasOwnProperty($)?e[$]:null}class _e{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function ye(){return ve}function ve(e){return e.type.prototype.ngOnChanges&&(e.setInput=we),be}function be(){const e=Ce(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===B)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function we(e,t,n,i){const r=Ce(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:B,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[n],l=o[a];s[a]=new _e(l&&l.currentValue,t,o===B),e[i]=t}function Ce(e){return e.__ngSimpleChanges__||null}ye.ngInherit=!0;const Se="http://www.w3.org/2000/svg";let ke;function Ie(e){ke=e}function Ee(e){return!!e.listen}const Te={createRenderer:(e,t)=>void 0!==ke?ke:"undefined"!=typeof document?document:void 0};function xe(e){for(;Array.isArray(e);)e=e[0];return e}function Ae(e,t){return xe(t[e])}function De(e,t){return xe(t[e.index])}function Re(e,t){return e.data[t]}function Oe(e,t){return e[t]}function Pe(e,t){const n=t[e];return ue(n)?n:n[0]}function Ne(e){return 4==(4&e[2])}function Le(e){return 128==(128&e[2])}function Fe(e,t){return null==t?null:e[t]}function Me(e){e[18]=0}function Ve(e,t){e[5]+=t;let n=e,i=e[3];for(;null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}const Ue={lFrame:ct(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function qe(){return Ue.bindingsEnabled}function Be(){return Ue.lFrame.lView}function je(){return Ue.lFrame.tView}function ze(e){return Ue.lFrame.contextLView=e,e[8]}function Ge(){let e=Ze();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ze(){return Ue.lFrame.currentTNode}function He(e,t){const n=Ue.lFrame;n.currentTNode=e,n.isParent=t}function Ye(){return Ue.lFrame.isParent}function $e(){Ue.lFrame.isParent=!1}function We(){return Ue.isInCheckNoChangesMode}function Ke(e){Ue.isInCheckNoChangesMode=e}function Qe(){const e=Ue.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Je(){return Ue.lFrame.bindingIndex++}function Xe(e){const t=Ue.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function et(e,t){const n=Ue.lFrame;n.bindingIndex=n.bindingRootIndex=e,tt(t)}function tt(e){Ue.lFrame.currentDirectiveIndex=e}function nt(e){const t=Ue.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function it(){return Ue.lFrame.currentQueryIndex}function rt(e){Ue.lFrame.currentQueryIndex=e}function st(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function ot(e,t,n){if(n&A.SkipSelf){let i=t,r=e;for(;i=i.parent,!(null!==i||n&A.Host||(i=st(r),null===i)||(r=r[15],10&i.type)););if(null===i)return!1;t=i,e=r}const i=Ue.lFrame=lt();return i.currentTNode=t,i.lView=e,!0}function at(e){const t=lt(),n=e[1];Ue.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function lt(){const e=Ue.lFrame,t=null===e?null:e.child;return null===t?ct(e):t}function ct(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function ut(){const e=Ue.lFrame;return Ue.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ht=ut;function dt(){const e=ut();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function pt(){return Ue.lFrame.selectedIndex}function ft(e){Ue.lFrame.selectedIndex=e}function mt(){const e=Ue.lFrame;return Re(e.tView,e.selectedIndex)}function gt(){Ue.lFrame.currentNamespace=Se}function _t(){Ue.lFrame.currentNamespace=null}function yt(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:r,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=t;i&&(e.contentHooks||(e.contentHooks=[])).push(-n,i),r&&((e.contentHooks||(e.contentHooks=[])).push(n,r),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,r)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),o&&((e.viewHooks||(e.viewHooks=[])).push(n,o),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,o)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function vt(e,t,n){Ct(e,t,3,n)}function bt(e,t,n,i){(3&e[2])===n&&Ct(e,t,n,i)}function wt(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Ct(e,t,n,i){const r=null!=i?i:-1,s=t.length-1;let o=0;for(let a=void 0!==i?65535&e[18]:0;a<s;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=i&&o>=i)break}else t[a]<0&&(e[18]+=65536),(o<r||-1==r)&&(St(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function St(e,t,n,i){const r=n[i]<0,s=n[i+1],o=e[r?-n[i]:n[i]];if(r){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const kt=-1;class It{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Et(e,t,n){const i=Ee(e);let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const o=n[r++],a=n[r++],l=n[r++];i?e.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=s,a=n[++r];xt(o)?i&&e.setProperty(t,o,a):i?e.setAttribute(t,o,a):t.setAttribute(o,a),r++}}return r}function Tt(e){return 3===e||4===e||6===e}function xt(e){return 64===e.charCodeAt(0)}function At(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?n=r:0===n||Dt(e,n,r,null,-1===n||2===n?t[++i]:null)}}return e}function Dt(e,t,n,i,r){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const n=e[s++];if("number"==typeof n){if(n===t){o=-1;break}if(n>t){o=s-1;break}}}for(;s<e.length;){const t=e[s];if("number"==typeof t)break;if(t===n){if(null===i)return void(null!==r&&(e[s+1]=r));if(i===e[s+1])return void(e[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==i&&e.splice(s++,0,i),null!==r&&e.splice(s++,0,r)}function Rt(e){return e!==kt}function Ot(e){return 32767&e}function Pt(e,t){let n=e>>16,i=t;for(;n>0;)i=i[15],n--;return i}let Nt=!0;function Lt(e){const t=Nt;return Nt=e,t}let Ft=0;function Mt(e,t){const n=Ut(e,t);if(-1!==n)return n;const i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,Vt(i.data,e),Vt(t,null),Vt(i.blueprint,null));const r=qt(e,t),s=e.injectorIndex;if(Rt(r)){const e=Ot(r),n=Pt(r,t),i=n[1].data;for(let r=0;r<8;r++)t[s+r]=n[e+r]|i[e+r]}return t[s+8]=r,s}function Vt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Ut(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function qt(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;null!==r;){const e=r[1],t=e.type;if(i=2===t?e.declTNode:1===t?r[6]:null,null===i)return kt;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return kt}function Bt(e,t,n){!function(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(W)&&(i=n[W]),null==i&&(i=n[W]=Ft++);const r=255&i;t.data[e+(r>>5)]|=1<<r}(e,t,n)}function jt(e,t,n){if(n&A.Optional)return e;v(t,"NodeInjector")}function zt(e,t,n,i){if(n&A.Optional&&void 0===i&&(i=null),0==(n&(A.Self|A.Host))){const r=e[9],s=R(void 0);try{return r?r.get(t,i,n&A.Optional):O(t,i,n&A.Optional)}finally{R(s)}}return jt(i,t,n)}function Gt(e,t,n,i=A.Default,r){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(W)?e[W]:void 0;return"number"==typeof t?t>=0?255&t:Ht:t}(n);if("function"==typeof s){if(!ot(t,e,i))return i&A.Host?jt(r,n,i):zt(t,n,i,r);try{const e=s(i);if(null!=e||i&A.Optional)return e;v(n)}finally{ht()}}else if("number"==typeof s){let r=null,o=Ut(e,t),a=kt,l=i&A.Host?t[16][6]:null;for((-1===o||i&A.SkipSelf)&&(a=-1===o?qt(e,t):t[o+8],a!==kt&&Qt(i,!1)?(r=t[1],o=Ot(a),t=Pt(a,t)):o=-1);-1!==o;){const e=t[1];if(Kt(s,o,e.data)){const e=Yt(o,t,n,r,i,l);if(e!==Zt)return e}a=t[o+8],a!==kt&&Qt(i,t[1].data[o+8]===l)&&Kt(s,o,t)?(r=e,o=Ot(a),t=Pt(a,t)):o=-1}}}return zt(t,n,i,r)}const Zt={};function Ht(){return new Jt(Ge(),Be())}function Yt(e,t,n,i,r,s){const o=t[1],a=o.data[e+8],l=$t(a,o,n,null==i?pe(a)&&Nt:i!=o&&0!=(3&a.type),r&A.Host&&s===a);return null!==l?Wt(t,o,l,a):Zt}function $t(e,t,n,i,r){const s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,c=s>>20,u=r?a+c:e.directiveEnd;for(let h=i?a:a+c;h<u;h++){const e=o[h];if(h<l&&n===e||h>=l&&e.type===n)return h}if(r){const e=o[l];if(e&&me(e)&&e.type===n)return l}return null}function Wt(e,t,n,i){let r=e[n];const s=t.data;if(r instanceof It){const o=r;o.resolving&&function(e,t){throw new g("200",`Circular dependency in DI detected for ${e}`)}(y(s[n]));const a=Lt(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?R(o.injectImpl):null;ot(e,i,A.Default);try{r=e[n]=o.factory(void 0,s,e,i),t.firstCreatePass&&n>=i.directiveStart&&function(e,t,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const i=ve(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,i)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==l&&R(l),Lt(a),o.resolving=!1,ht()}}return r}function Kt(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Qt(e,t){return!(e&A.Self||e&A.Host&&t)}class Jt{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return Gt(this._tNode,this._lView,e,void 0,t)}}function Xt(e){return P(()=>{const t=e.prototype.constructor,n=t[$]||en(t),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const e=r[$]||en(r);if(e&&e!==n)return e;r=Object.getPrototypeOf(r)}return e=>new e})}function en(e){return m(e)?()=>{const t=en(f(e));return t&&t()}:ge(e)}function tn(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let i=0;for(;i<e;){const r=n[i];if(Tt(r))break;if(0===r)i+=2;else if("number"==typeof r)for(i++;i<e&&"string"==typeof n[i];)i++;else{if(r===t)return n[i+1];i+=2}}}return null}(Ge(),e)}const nn="__parameters__";function rn(e,t,n){return P(()=>{const i=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function r(...e){if(this instanceof r)return i.apply(this,e),this;const t=new r(...e);return n.annotation=t,n;function n(e,n,i){const r=e.hasOwnProperty(nn)?e[nn]:Object.defineProperty(e,nn,{value:[]})[nn];for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(t),e}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}class sn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=b({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const on=new sn("AnalyzeForEntryComponents"),an=Function;function ln(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)?(t===e&&(t=e.slice(0,n)),ln(i,t)):t!==e&&t.push(i)}return t}function cn(e,t){e.forEach(e=>Array.isArray(e)?cn(e,t):t(e))}function un(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function hn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function dn(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}function pn(e,t,n){let i=mn(e,t);return i>=0?e[1|i]=n:(i=~i,function(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(1===r)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function fn(e,t){const n=mn(e,t);if(n>=0)return e[1|n]}function mn(e,t){return function(e,t,n){let i=0,r=e.length>>1;for(;r!==i;){const n=i+(r-i>>1),s=e[n<<1];if(t===s)return n<<1;s>t?r=n:i=n+1}return~(r<<1)}(e,t)}const gn={},_n=/\n/gm,yn="__source",vn=l({provide:String,useValue:l});let bn;function wn(e){const t=bn;return bn=e,t}function Cn(e,t=A.Default){if(void 0===bn)throw new Error("inject() must be called from an injection context");return null===bn?O(e,void 0,t):bn.get(e,t&A.Optional?null:void 0,t)}function Sn(e,t=A.Default){return(D||Cn)(f(e),t)}const kn=Sn;function In(e){const t=[];for(let n=0;n<e.length;n++){const i=f(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let e,n=A.Default;for(let t=0;t<i.length;t++){const r=i[t],s=r.__NG_DI_FLAG__;"number"==typeof s?-1===s?e=r.token:n|=s:e=r}t.push(Sn(e,n))}else t.push(Sn(i))}return t}function En(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}const Tn=En(rn("Inject",e=>({token:e})),-1),xn=En(rn("Optional"),8),An=En(rn("SkipSelf"),4);let Dn;function Rn(e){var t;return(null===(t=function(){if(void 0===Dn&&(Dn=null,q.trustedTypes))try{Dn=q.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(t){}return Dn}())||void 0===t?void 0:t.createHTML(e))||e}class On{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Pn extends On{getTypeName(){return"HTML"}}class Nn extends On{getTypeName(){return"Style"}}class Ln extends On{getTypeName(){return"Script"}}class Fn extends On{getTypeName(){return"URL"}}class Mn extends On{getTypeName(){return"ResourceURL"}}function Vn(e){return e instanceof On?e.changingThisBreaksApplicationSecurity:e}function Un(e,t){const n=qn(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function qn(e){return e instanceof On&&e.getTypeName()||null}function Bn(e){return new Pn(e)}function jn(e){return new Nn(e)}function zn(e){return new Ln(e)}function Gn(e){return new Fn(e)}function Zn(e){return new Mn(e)}class Hn{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Rn(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class Yn{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Rn(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=Rn(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const n=t.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const $n=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Wn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Kn(e){return(e=String(e)).match($n)||e.match(Wn)?e:"unsafe:"+e}function Qn(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Jn(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Xn=Qn("area,br,col,hr,img,wbr"),ei=Qn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ti=Qn("rp,rt"),ni=Jn(ti,ei),ii=Jn(Xn,Jn(ei,Qn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jn(ti,Qn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ni),ri=Qn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),si=Qn("srcset"),oi=Jn(ri,si,Qn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ai=Qn("script,style,template");class li{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!ii.hasOwnProperty(t))return this.sanitizedSomething=!0,!ai.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r),t=e.name,s=t.toLowerCase();if(!oi.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=e.value;ri[s]&&(o=Kn(o)),si[s]&&(i=o,o=(i=String(i)).split(",").map(e=>Kn(e.trim())).join(", ")),this.buf.push(" ",t,'="',hi(o),'"')}var i;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();ii.hasOwnProperty(t)&&!Xn.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(hi(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const ci=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ui=/([^\#-~ |!])/g;function hi(e){return e.replace(/&/g,"&amp;").replace(ci,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(ui,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let di;function pi(e,t){let n=null;try{di=di||function(e){const t=new Yn(e);return function(){try{return!!(new window.DOMParser).parseFromString(Rn(""),"text/html")}catch(e){return!1}}()?new Hn(t):t}(e);let i=t?String(t):"";n=di.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=di.getInertBodyElement(i)}while(i!==s);return Rn((new li).sanitizeChildren(fi(n)||n))}finally{if(n){const e=fi(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function fi(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var mi=(()=>((mi=mi||{})[mi.NONE=0]="NONE",mi[mi.HTML=1]="HTML",mi[mi.STYLE=2]="STYLE",mi[mi.SCRIPT=3]="SCRIPT",mi[mi.URL=4]="URL",mi[mi.RESOURCE_URL=5]="RESOURCE_URL",mi))();function gi(e){const t=function(){const e=Be();return e&&e[12]}();return t?t.sanitize(mi.URL,e)||"":Un(e,"URL")?Vn(e):Kn(_(e))}function _i(e,t){e.__ngContext__=t}function yi(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function vi(e){return e.ngOriginalError}function bi(e,...t){e.error(...t)}class wi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),i=function(e){return e&&e.ngErrorLogger||bi}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?function(e){return e.ngDebugContext}(e)||this._findContext(vi(e)):null}_findOriginalError(e){let t=e&&vi(e);for(;t&&vi(t);)t=vi(t);return t||null}}const Ci=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function Si(e){return e.ownerDocument.defaultView}function ki(e){return e instanceof Function?e():e}var Ii=(()=>((Ii=Ii||{})[Ii.Important=1]="Important",Ii[Ii.DashCase=2]="DashCase",Ii))();function Ei(e,t){return(void 0)(e,t)}function Ti(e){const t=e[3];return he(t)?t[3]:t}function xi(e){return Di(e[13])}function Ai(e){return Di(e[4])}function Di(e){for(;null!==e&&!he(e);)e=e[4];return e}function Ri(e,t,n,i,r){if(null!=i){let s,o=!1;he(i)?s=i:ue(i)&&(o=!0,i=i[0]);const a=xe(i);0===e&&null!==n?null==r?Ui(t,n,a):Vi(t,n,a,r||null,!0):1===e&&null!==n?Vi(t,n,a,r||null,!0):2===e?function(e,t,n){const i=Bi(e,t);i&&function(e,t,n,i){Ee(e)?e.removeChild(t,n,i):t.removeChild(n)}(e,i,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,n,i,r){const s=n[7];s!==xe(n)&&Ri(t,e,i,s,r);for(let o=ce;o<n.length;o++){const r=n[o];Wi(r[1],r,e,t,i,s)}}(t,e,s,n,r)}}function Oi(e,t,n){return Ee(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Pi(e,t){const n=e[9],i=n.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,Ve(r,-1)),n.splice(i,1)}function Ni(e,t){if(e.length<=ce)return;const n=ce+t,i=e[n];if(i){const s=i[17];null!==s&&s!==e&&Pi(s,i),t>0&&(e[n-1][4]=i[4]);const o=hn(e,ce+t);Wi(i[1],r=i,r[11],2,null,null),r[0]=null,r[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}var r;return i}function Li(e,t){if(!(256&t[2])){const n=t[11];Ee(n)&&n.destroyNode&&Wi(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Fi(e[1],e);for(;t;){let n=null;if(ue(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)ue(t)&&Fi(t[1],t),t=t[3];null===t&&(t=e),ue(t)&&Fi(t[1],t),n=t&&t[4]}t=n}}(t)}}function Fi(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const e=t[n[i]];if(!(e instanceof It)){const t=n[i+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2){const i=e[t[n]],r=t[n+1];try{r.call(i)}finally{}}else try{t.call(e)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,i=t[7];let r=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const e=n[s+1],o="function"==typeof e?e(t):xe(t[e]),a=i[r=n[s+2]],l=n[s+3];"boolean"==typeof l?o.removeEventListener(n[s],a,l):l>=0?i[r=l]():i[r=-l].unsubscribe(),s+=2}else{const e=i[r=n[s+1]];n[s].call(e)}if(null!==i){for(let e=r+1;e<i.length;e++)(0,i[e])();t[7]=null}}(e,t),1===t[1].type&&Ee(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&he(t[3])){n!==t[3]&&Pi(n,t);const i=t[19];null!==i&&i.detachView(e)}}}function Mi(e,t,n){return function(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[0];if(2&i.flags){const t=e.data[i.directiveStart].encapsulation;if(t===L.None||t===L.Emulated)return null}return De(i,n)}(e,t.parent,n)}function Vi(e,t,n,i,r){Ee(e)?e.insertBefore(t,n,i,r):t.insertBefore(n,i,r)}function Ui(e,t,n){Ee(e)?e.appendChild(t,n):t.appendChild(n)}function qi(e,t,n,i,r){null!==i?Vi(e,t,n,i,r):Ui(e,t,n)}function Bi(e,t){return Ee(e)?e.parentNode(t):t.parentNode}function ji(e,t,n){return zi(e,t,n)}let zi=function(e,t,n){return 40&e.type?De(e,n):null};function Gi(e,t,n,i){const r=Mi(e,i,t),s=t[11],o=ji(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(n))for(let a=0;a<n.length;a++)qi(s,r,n[a],o,!1);else qi(s,r,n,o,!1)}function Zi(e,t){if(null!==t){const n=t.type;if(3&n)return De(t,e);if(4&n)return Yi(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return Zi(e,n);{const n=e[t.index];return he(n)?Yi(-1,n):xe(n)}}if(32&n)return Ei(t,e)()||xe(e[t.index]);{const n=Hi(e,t);return null!==n?Array.isArray(n)?n[0]:Zi(Ti(e[16]),n):Zi(e,t.next)}}return null}function Hi(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Yi(e,t){const n=ce+e+1;if(n<t.length){const e=t[n],i=e[1].firstChild;if(null!==i)return Zi(e,i)}return t[7]}function $i(e,t,n,i,r,s,o){for(;null!=n;){const a=i[n.index],l=n.type;if(o&&0===t&&(a&&_i(xe(a),i),n.flags|=4),64!=(64&n.flags))if(8&l)$i(e,t,n.child,i,r,s,!1),Ri(t,e,r,a,s);else if(32&l){const o=Ei(n,i);let l;for(;l=o();)Ri(t,e,r,l,s);Ri(t,e,r,a,s)}else 16&l?Ki(e,t,i,n,r,s):Ri(t,e,r,a,s);n=o?n.projectionNext:n.next}}function Wi(e,t,n,i,r,s){$i(n,i,e.firstChild,t,r,s,!1)}function Ki(e,t,n,i,r,s){const o=n[16],a=o[6].projection[i.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)Ri(t,e,r,a[l],s);else $i(e,t,a,o[3],r,s,!0)}function Qi(e,t,n){Ee(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Ji(e,t,n){Ee(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Xi(e,t,n){let i=e.length;for(;;){const r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const n=t.length;if(r+n===i||e.charCodeAt(r+n)<=32)return r}n=r+1}}const er="ng-template";function tr(e,t,n){let i=0;for(;i<e.length;){let r=e[i++];if(n&&"class"===r){if(r=e[i],-1!==Xi(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<e.length&&"string"==typeof(r=e[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function nr(e){return 4===e.type&&e.value!==er}function ir(e,t,n){return t===(4!==e.type||n?e.value:er)}function rr(e,t,n){let i=4;const r=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(Tt(e[t]))return t;return e.length}(r);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!ir(e,l,n)||""===l&&1===t.length){if(sr(i))return!1;o=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==e.attrs){if(!tr(e.attrs,c,n)){if(sr(i))return!1;o=!0}continue}const u=or(8&i?"class":l,r,nr(e),n);if(-1===u){if(sr(i))return!1;o=!0;continue}if(""!==c){let e;e=u>s?"":r[u+1].toLowerCase();const t=8&i?e:null;if(t&&-1!==Xi(t,c,0)||2&i&&c!==e){if(sr(i))return!1;o=!0}}}}else{if(!o&&!sr(i)&&!sr(l))return!1;if(o&&sr(l))continue;o=!1,i=l|1&i}}return sr(i)||o}function sr(e){return 0==(1&e)}function or(e,t,n,i){if(null===t)return-1;let r=0;if(i||!n){let n=!1;for(;r<t.length;){const i=t[r];if(i===e)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let e=t[++r];for(;"string"==typeof e;)e=t[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function ar(e,t,n=!1){for(let i=0;i<t.length;i++)if(rr(e,t[i],n))return!0;return!1}function lr(e,t){e:for(let n=0;n<t.length;n++){const i=t[n];if(e.length===i.length){for(let t=0;t<e.length;t++)if(e[t]!==i[t])continue e;return!0}}return!1}function cr(e,t){return e?":not("+t.trim()+")":t}function ur(e){let t=e[0],n=1,i=2,r="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&i){const t=e[++n];r+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""===r||sr(o)||(t+=cr(s,r),r=""),i=o,s=s||!sr(i);n++}return""!==r&&(t+=cr(s,r)),t}const hr={};function dr(e){pr(je(),Be(),pt()+e,We())}function pr(e,t,n,i){if(!i)if(3==(3&t[2])){const i=e.preOrderCheckHooks;null!==i&&vt(t,i,n)}else{const i=e.preOrderHooks;null!==i&&bt(t,i,0,n)}ft(n)}function fr(e,t){return e<<17|t<<2}function mr(e){return e>>17&32767}function gr(e){return 2|e}function _r(e){return(131068&e)>>2}function yr(e,t){return-131069&e|t<<2}function vr(e){return 1|e}function br(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],s=n[i+1];if(-1!==s){const n=e.data[s];rt(r),n.contentQueries(2,t[s],s)}}}function wr(e,t,n,i,r,s,o,a,l,c){const u=t.blueprint.slice();return u[0]=r,u[2]=140|i,Me(u),u[3]=u[15]=e,u[8]=n,u[10]=o||e&&e[10],u[11]=a||e&&e[11],u[12]=l||e&&e[12]||null,u[9]=c||e&&e[9]||null,u[6]=s,u[16]=2==t.type?e[16]:u,u}function Cr(e,t,n,i,r){let s=e.data[t];if(null===s)s=function(e,t,n,i,r){const s=Ze(),o=Ye(),a=e.data[t]=function(e,t,n,i,r,s){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,i,r);return null===e.firstChild&&(e.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(e,t,n,i,r),Ue.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;const e=function(){const e=Ue.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===e?-1:e.injectorIndex}return He(s,!0),s}function Sr(e,t,n,i){if(0===n)return-1;const r=t.length;for(let s=0;s<n;s++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function kr(e,t,n){at(t);try{const i=e.viewQuery;null!==i&&es(1,i,n);const r=e.template;null!==r&&Tr(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&br(e,t),e.staticViewQueries&&es(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)Wr(e,t[n])}(t,s)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),i}finally{t[2]&=-5,dt()}}function Ir(e,t,n,i){const r=t[2];if(256==(256&r))return;at(t);const s=We();try{Me(t),Ue.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&Tr(e,t,n,2,i);const o=3==(3&r);if(!s)if(o){const n=e.preOrderCheckHooks;null!==n&&vt(t,n,null)}else{const n=e.preOrderHooks;null!==n&&bt(t,n,0,null),wt(t,0)}if(function(e){for(let t=xi(e);null!==t;t=Ai(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],i=n[3];0==(1024&n[2])&&Ve(i,1),n[2]|=1024}}}(t),function(e){for(let t=xi(e);null!==t;t=Ai(t))for(let e=ce;e<t.length;e++){const n=t[e],i=n[1];Le(n)&&Ir(i,n,i.template,n[8])}}(t),null!==e.contentQueries&&br(e,t),!s)if(o){const n=e.contentCheckHooks;null!==n&&vt(t,n)}else{const n=e.contentHooks;null!==n&&bt(t,n,1),wt(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const i=n[e];if(i<0)ft(~i);else{const r=i,s=n[++e],o=n[++e];et(s,r),o(2,t[r])}}}finally{ft(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)Yr(e,t[n])}(t,a);const l=e.viewQuery;if(null!==l&&es(2,l,i),!s)if(o){const n=e.viewCheckHooks;null!==n&&vt(t,n)}else{const n=e.viewHooks;null!==n&&bt(t,n,2),wt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ve(t[3],-1))}finally{dt()}}function Er(e,t,n,i){const r=t[10],s=!We(),o=Ne(t);try{s&&!o&&r.begin&&r.begin(),o&&kr(e,t,i),Ir(e,t,n,i)}finally{s&&!o&&r.end&&r.end()}}function Tr(e,t,n,i,r){const s=pt(),o=2&i;try{ft(-1),o&&t.length>le&&pr(e,t,le,We()),n(i,r)}finally{ft(s)}}function xr(e,t,n){if(de(t)){const i=t.directiveEnd;for(let r=t.directiveStart;r<i;r++){const t=e.data[r];t.contentQueries&&t.contentQueries(1,n[r],r)}}}function Ar(e,t,n){qe()&&(function(e,t,n,i){const r=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||Mt(n,t),_i(i,t);const o=n.initialInputs;for(let a=r;a<s;a++){const i=e.data[a],s=me(i);s&&zr(t,n,i);const l=Wt(t,e,a,n);_i(l,t),null!==o&&Gr(0,a-r,l,i,0,o),s&&(Pe(n.index,t)[8]=l)}}(e,t,n,De(n,t)),128==(128&n.flags)&&function(e,t,n){const i=n.directiveStart,r=n.directiveEnd,s=n.index,o=Ue.lFrame.currentDirectiveIndex;try{ft(s);for(let n=i;n<r;n++){const i=e.data[n],r=t[n];tt(n),null===i.hostBindings&&0===i.hostVars&&null===i.hostAttrs||Vr(i,r)}}finally{ft(-1),tt(o)}}(e,t,n))}function Dr(e,t,n=De){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?n(t,e):e[o];e[r++]=a}}}function Rr(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Or(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Or(e,t,n,i,r,s,o,a,l,c){const u=le+i,h=u+r,d=function(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:hr);return n}(u,h),p="function"==typeof c?c():c;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function Pr(e,t,n,i){const r=ns(t);null===n?r.push(i):(r.push(n),e.firstCreatePass&&is(e).push(i,r.length-1))}function Nr(e,t,n){for(let i in e)if(e.hasOwnProperty(i)){const r=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,r):n[i]=[t,r]}return n}function Lr(e,t,n,i,r,s,o,a){const l=De(t,n);let c,u=t.inputs;var h;!a&&null!=u&&(c=u[i])?(os(e,n,c,i,r),pe(t)&&function(e,t){const n=Pe(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(i="class"===(h=i)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,r=null!=o?o(r,t.value||"",i):r,Ee(s)?s.setProperty(l,i,r):xt(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function Fr(e,t,n,i){let r=!1;if(qe()){const s=function(e,t,n){const i=e.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];ar(n,o.selectors,!1)&&(r||(r=[]),Bt(Mt(n,t),e,o.type),me(o)?(Ur(e,n),r.unshift(o)):r.push(o))}return r}(e,t,n),o=null===i?null:{"":-1};if(null!==s){r=!0,Br(n,e.data.length,s.length);for(let e=0;e<s.length;e++){const t=s[e];t.providersResolver&&t.providersResolver(t)}let i=!1,a=!1,l=Sr(e,t,s.length,null);for(let r=0;r<s.length;r++){const c=s[r];n.mergedAttrs=At(n.mergedAttrs,c.hostAttrs),jr(e,n,t,l,c),qr(l,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const u=c.type.prototype;!i&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),i=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function(e,t){const n=t.directiveEnd,i=e.data,r=t.attrs,s=[];let o=null,a=null;for(let l=t.directiveStart;l<n;l++){const e=i[l],n=e.inputs,c=null===r||nr(t)?null:Zr(n,r);s.push(c),o=Nr(n,l,o),a=Nr(e.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=o,t.outputs=a}(e,n)}o&&function(e,t,n){if(t){const i=e.localNames=[];for(let e=0;e<t.length;e+=2){const r=n[t[e+1]];if(null==r)throw new g("301",`Export of name '${t[e+1]}' not found!`);i.push(t[e],r)}}}(n,i,o)}return n.mergedAttrs=At(n.mergedAttrs,n.attrs),r}function Mr(e,t,n,i,r,s){const o=s.hostBindings;if(o){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const s=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(i,r,o)}}function Vr(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ur(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function qr(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;me(t)&&(n[""]=e)}}function Br(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function jr(e,t,n,i,r){e.data[i]=r;const s=r.factory||(r.factory=ge(r.type)),o=new It(s,me(r),null);e.blueprint[i]=o,n[i]=o,Mr(e,t,0,i,Sr(e,n,r.hostVars,hr),r)}function zr(e,t,n){const i=De(t,e),r=Rr(n),s=e[10],o=Kr(e,wr(e,r,null,n.onPush?64:16,i,t,s,s.createRenderer(i,n),null,null));e[t.index]=o}function Gr(e,t,n,i,r,s){const o=s[t];if(null!==o){const e=i.setInput;for(let t=0;t<o.length;){const r=o[t++],s=o[t++],a=o[t++];null!==e?i.setInput(n,a,r,s):n[s]=a}}}function Zr(e,t){let n=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;e.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,e[r],t[i+1])),i+=2}else i+=2;else i+=4}return n}function Hr(e,t,n,i){return new Array(e,!0,!1,t,null,0,i,n,null,null)}function Yr(e,t){const n=Pe(t,e);if(Le(n)){const e=n[1];80&n[2]?Ir(e,n,e.template,n[8]):n[5]>0&&$r(n)}}function $r(e){for(let n=xi(e);null!==n;n=Ai(n))for(let e=ce;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];Ir(e,t,e.template,t[8])}else t[5]>0&&$r(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const i=Pe(t[n],e);Le(i)&&i[5]>0&&$r(i)}}function Wr(e,t){const n=Pe(t,e),i=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n),kr(i,n,n[8])}function Kr(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Qr(e){for(;e;){e[2]|=64;const t=Ti(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function Jr(e,t,n){const i=t[10];i.begin&&i.begin();try{Ir(e,t,e.template,n)}catch(r){throw ss(t,r),r}finally{i.end&&i.end()}}function Xr(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],i=yi(n),r=i[1];Er(r,i,r.template,n)}}(e[8])}function es(e,t,n){rt(0),t(e,n)}const ts=(()=>Promise.resolve(null))();function ns(e){return e[7]||(e[7]=[])}function is(e){return e.cleanup||(e.cleanup=[])}function rs(e,t,n){return(null===e||me(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function ss(e,t){const n=e[9],i=n?n.get(wi,null):null;i&&i.handleError(t)}function os(e,t,n,i,r){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=t[o],c=e.data[o];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function as(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?s=e:1==s?r=h(r,e):2==s&&(i=h(i,e+": "+t[++o]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}const ls=new sn("INJECTOR",-1);class cs{get(e,t=gn){if(t===gn){const t=new Error(`NullInjectorError: No provider for ${u(e)}!`);throw t.name="NullInjectorError",t}return t}}const us=new sn("Set Injector scope."),hs={},ds={};let ps;function fs(){return void 0===ps&&(ps=new cs),ps}function ms(e,t=null,n=null,i){return new gs(e,n,t||fs(),i)}class gs{constructor(e,t,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];t&&cn(t,n=>this.processProvider(n,e,t)),cn([e],e=>this.processInjectorType(e,[],r)),this.records.set(ls,vs(void 0,this));const s=this.records.get(us);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof e?null:u(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=gn,n=A.Default){this.assertNotDestroyed();const i=wn(this),r=R(void 0);try{if(!(n&A.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(s=e)||"object"==typeof s&&s instanceof sn)&&C(e);t=n&&this.injectableDefInScope(n)?vs(_s(e),hs):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&A.Self?fs():this.parent).get(e,t=n&A.Optional&&t===gn?null:t)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(u(e)),i)throw o;return function(e,t,n,i){const r=e.ngTempTokenPath;throw t[yn]&&r.unshift(t[yn]),e.message=function(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let r=u(t);if(Array.isArray(t))r=t.map(u).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let i=t[n];e.push(n+":"+("string"==typeof i?JSON.stringify(i):u(i)))}r=`{${e.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(_n,"\n  ")}`}("\n"+e.message,r,n,i),e.ngTokenPath=r,e.ngTempTokenPath=null,e}(o,e,"R3InjectorError",this.source)}throw o}finally{R(r),wn(i)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(u(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=f(e)))return!1;let i=k(e);const r=null==i&&e.ngModule||void 0,s=void 0===r?e:r,o=-1!==n.indexOf(s);if(void 0!==r&&(i=k(r)),null==i)return!1;if(null!=i.imports&&!o){let e;n.push(s);try{cn(i.imports,i=>{this.processInjectorType(i,t,n)&&(void 0===e&&(e=[]),e.push(i))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:i}=e[t];cn(i,e=>this.processProvider(e,n,i||j))}}this.injectorDefTypes.add(s);const a=ge(s)||(()=>new s);this.records.set(s,vs(a,hs));const l=i.providers;if(null!=l&&!o){const t=e;cn(l,e=>this.processProvider(e,t,l))}return void 0!==r&&void 0!==e.providers}processProvider(e,t,n){let i=ws(e=f(e))?e:f(e&&e.provide);const r=function(e,t,n){return bs(e)?vs(void 0,e.useValue):vs(ys(e),hs)}(e);if(ws(e)||!0!==e.multi)this.records.get(i);else{let t=this.records.get(i);t||(t=vs(void 0,hs,!0),t.factory=()=>In(t.multi),this.records.set(i,t)),i=e,t.multi.push(e)}this.records.set(i,r)}hydrate(e,t){var n;return t.value===hs&&(t.value=ds,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=f(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function _s(e){const t=C(e),n=null!==t?t.factory:ge(e);if(null!==n)return n;if(e instanceof sn)throw new Error(`Token ${u(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=dn(t,"?");throw new Error(`Can't resolve all parameters for ${u(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[I]||e[T]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function ys(e,t,n){let i;if(ws(e)){const t=f(e);return ge(t)||_s(t)}if(bs(e))i=()=>f(e.useValue);else if((r=e)&&r.useFactory)i=()=>e.useFactory(...In(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))i=()=>Sn(f(e.useExisting));else{const t=f(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ge(t)||_s(t);i=()=>new t(...In(e.deps))}var r;return i}function vs(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function bs(e){return null!==e&&"object"==typeof e&&vn in e}function ws(e){return"function"==typeof e}const Cs=function(e,t,n){return function(e,t=null,n=null,i){const r=ms(e,t,n,i);return r._resolveInjectorDefTypes(),r}({name:n},t,e,n)};class Ss{static create(e,t){return Array.isArray(e)?Cs(e,t,""):Cs(e.providers,e.parent,e.name||"")}}function ks(e,t){yt(yi(e)[1],Ge())}function Is(e){let t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0;const i=[e];for(;t;){let r;if(me(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");r=t.\u0275dir}if(r){if(n){i.push(r);const t=e;t.inputs=Es(e.inputs),t.declaredInputs=Es(e.declaredInputs),t.outputs=Es(e.outputs);const n=r.hostBindings;n&&As(e,n);const s=r.viewQuery,o=r.contentQueries;if(s&&Ts(e,s),o&&xs(e,o),c(e.inputs,r.inputs),c(e.declaredInputs,r.declaredInputs),c(e.outputs,r.outputs),me(r)&&r.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(r.data.animation)}}const t=r.features;if(t)for(let i=0;i<t.length;i++){const r=t[i];r&&r.ngInherit&&r(e),r===Is&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=At(r.hostAttrs,n=At(n,r.hostAttrs))}}(i)}function Es(e){return e===B?{}:e===j?[]:e}function Ts(e,t){const n=e.viewQuery;e.viewQuery=n?(e,i)=>{t(e,i),n(e,i)}:t}function xs(e,t){const n=e.contentQueries;e.contentQueries=n?(e,i,r)=>{t(e,i,r),n(e,i,r)}:t}function As(e,t){const n=e.hostBindings;e.hostBindings=n?(e,i)=>{t(e,i),n(e,i)}:t}Ss.THROW_IF_NOT_FOUND=gn,Ss.NULL=new cs,Ss.\u0275prov=b({token:Ss,providedIn:"any",factory:()=>Sn(ls)}),Ss.__NG_ELEMENT_ID__=-1;let Ds=null;function Rs(){if(!Ds){const e=q.Symbol;if(e&&e.iterator)Ds=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ds=n)}}}return Ds}class Os{constructor(e){this.wrapped=e}static wrap(e){return new Os(e)}static unwrap(e){return Os.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Os}}function Ps(e){return!!Ns(e)&&(Array.isArray(e)||!(e instanceof Map)&&Rs()in e)}function Ns(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ls(e,t,n){return e[t]=n}function Fs(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Ms(e,t,n,i){const r=Be();return Fs(r,Je(),t)&&(je(),function(e,t,n,i,r,s){const o=De(e,t);!function(e,t,n,i,r,s,o){if(null==s)Ee(e)?e.removeAttribute(t,r,n):t.removeAttribute(r);else{const a=null==o?_(s):o(s,i||"",r);Ee(e)?e.setAttribute(t,r,a,n):n?t.setAttributeNS(n,r,a):t.setAttribute(r,a)}}(t[11],o,s,e.value,n,i,r)}(mt(),r,e,t,n,i)),Ms}function Vs(e,t,n,i){return Fs(e,Je(),n)?t+_(n)+i:hr}function Us(e,t,n,i,r,s,o,a){const l=Be(),c=je(),u=e+le,h=c.firstCreatePass?function(e,t,n,i,r,s,o,a,l){const c=t.consts,u=Cr(t,e,4,o||null,Fe(c,a));Fr(t,n,u,Fe(c,l)),yt(t,u);const h=u.tViews=Or(2,u,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,n,i,r,s,o):c.data[u];He(h,!1);const d=l[11].createComment("");Gi(c,l,d,h),_i(d,l),Kr(l,l[u]=Hr(d,l,d,h)),fe(h)&&Ar(c,l,h),null!=o&&Dr(l,h,a)}function qs(e){return Oe(Ue.lFrame.contextLView,le+e)}function Bs(e,t=A.Default){const n=Be();return null===n?Sn(e,t):Gt(Ge(),n,f(e),t)}function js(e,t,n){const i=Be();return Fs(i,Je(),t)&&Lr(je(),mt(),i,e,t,i[11],n,!1),js}function zs(e,t,n,i,r){const s=r?"class":"style";os(e,n,t.inputs[s],s,i)}function Gs(e,t,n,i){const r=Be(),s=je(),o=le+e,a=r[11],l=r[o]=Oi(a,t,Ue.lFrame.currentNamespace),c=s.firstCreatePass?function(e,t,n,i,r,s,o){const a=t.consts,l=Cr(t,e,2,r,Fe(a,s));return Fr(t,n,l,Fe(a,o)),null!==l.attrs&&as(l,l.attrs,!1),null!==l.mergedAttrs&&as(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,r,0,t,n,i):s.data[o];He(c,!0);const u=c.mergedAttrs;null!==u&&Et(a,l,u);const h=c.classes;null!==h&&Ji(a,l,h);const d=c.styles;null!==d&&Qi(a,l,d),64!=(64&c.flags)&&Gi(s,r,l,c),0===Ue.lFrame.elementDepthCount&&_i(l,r),Ue.lFrame.elementDepthCount++,fe(c)&&(Ar(s,r,c),xr(s,c,r)),null!==i&&Dr(r,c)}function Zs(){let e=Ge();Ye()?$e():(e=e.parent,He(e,!1));const t=e;Ue.lFrame.elementDepthCount--;const n=je();n.firstCreatePass&&(yt(n,e),de(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&zs(n,t,Be(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&zs(n,t,Be(),t.stylesWithoutHost,!1)}function Hs(e,t,n,i){Gs(e,t,n,i),Zs()}function Ys(e,t,n){const i=Be(),r=je(),s=e+le,o=r.firstCreatePass?function(e,t,n,i,r){const s=t.consts,o=Fe(s,i),a=Cr(t,e,8,"ng-container",o);return null!==o&&as(a,o,!0),Fr(t,n,a,Fe(s,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,r,i,t,n):r.data[s];He(o,!0);const a=i[s]=i[11].createComment("");Gi(r,i,a,o),_i(a,i),fe(o)&&(Ar(r,i,o),xr(r,o,i)),null!=n&&Dr(i,o)}function $s(){let e=Ge();const t=je();Ye()?$e():(e=e.parent,He(e,!1)),t.firstCreatePass&&(yt(t,e),de(e)&&t.queries.elementEnd(e))}function Ws(e,t,n){Ys(e,t,n),$s()}function Ks(){return Be()}function Qs(e){return!!e&&"function"==typeof e.then}function Js(e){return!!e&&"function"==typeof e.subscribe}const Xs=Js;function eo(e,t,n,i){const r=Be(),s=je(),o=Ge();return no(s,r,r[11],o,e,t,!!n,i),eo}function to(e,t){const n=Ge(),i=Be(),r=je();return no(r,i,rs(nt(r.data),n,i),n,e,t,!1),to}function no(e,t,n,i,r,s,o,a){const l=fe(i),c=e.firstCreatePass&&is(e),u=ns(t);let h=!0;if(3&i.type||a){const d=De(i,t),p=a?a(d):d,f=u.length,m=a?e=>a(xe(e[i.index])):i.index;if(Ee(n)){let o=null;if(!a&&l&&(o=function(e,t,n,i){const r=e.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const e=r[s];if(e===n&&r[s+1]===i){const e=t[7],n=r[s+2];return e.length>n?e[n]:null}"string"==typeof e&&(s+=2)}return null}(e,t,r,i.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=ro(i,t,0,s,!1);const e=n.listen(p,r,s);u.push(s,e),c&&c.push(r,m,f,f+1)}}else s=ro(i,t,0,s,!0),p.addEventListener(r,s,o),u.push(s),c&&c.push(r,m,f,o)}else s=ro(i,t,0,s,!1);const d=i.outputs;let p;if(h&&null!==d&&(p=d[r])){const e=p.length;if(e)for(let n=0;n<e;n+=2){const e=t[p[n]][p[n+1]].subscribe(s),o=u.length;u.push(s,e),c&&c.push(r,i.index,o,-(o+1))}}}function io(e,t,n,i){try{return!1!==n(i)}catch(r){return ss(e,r),!1}}function ro(e,t,n,i,r){return function n(s){if(s===Function)return i;const o=2&e.flags?Pe(e.index,t):t;0==(32&t[2])&&Qr(o);let a=io(t,0,i,s),l=n.__ngNextListenerFn__;for(;l;)a=io(t,0,l,s)&&a,l=l.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function so(e=1){return function(e){return(Ue.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Ue.lFrame.contextLView))[8]}(e)}function oo(e,t){let n=null;const i=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?ar(e,s,!0):lr(i,s))return r}else n=r}return n}function ao(e){const t=Be()[16][6];if(!t.projection){const n=t.projection=dn(e?e.length:1,null),i=n.slice();let r=t.child;for(;null!==r;){const t=e?oo(r,e):0;null!==t&&(i[t]?i[t].projectionNext=r:n[t]=r,i[t]=r),r=r.next}}}function lo(e,t=0,n){const i=Be(),r=je(),s=Cr(r,le+e,16,null,n||null);null===s.projection&&(s.projection=t),$e(),64!=(64&s.flags)&&function(e,t,n){Ki(t[11],0,t,n,Mi(e,n,t),ji(n.parent||t[6],n,t))}(r,i,s)}function co(e,t,n,i,r){const s=e[n+1],o=null===t;let a=i?mr(s):_r(s),l=!1;for(;0!==a&&(!1===l||o);){const n=e[a+1];uo(e[a],t)&&(l=!0,e[a+1]=i?vr(n):gr(n)),a=i?mr(n):_r(n)}l&&(e[n+1]=i?gr(s):vr(s))}function uo(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&mn(e,t)>=0}const ho={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function po(e){return e.substring(ho.key,ho.keyEnd)}function fo(e,t){const n=ho.textEnd;return n===t?-1:(t=ho.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,ho.key=t,n),mo(e,t,n))}function mo(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function go(e,t,n){return vo(e,t,n,!1),go}function _o(e,t){return vo(e,t,null,!0),_o}function yo(e,t){for(let n=function(e){return function(e){ho.key=0,ho.keyEnd=0,ho.value=0,ho.valueEnd=0,ho.textEnd=e.length}(e),fo(e,mo(e,0,ho.textEnd))}(t);n>=0;n=fo(t,n))pn(e,po(t),!0)}function vo(e,t,n,i){const r=Be(),s=je(),o=Xe(2);s.firstUpdatePass&&wo(s,e,o,i),t!==hr&&Fs(r,o,t)&&ko(s,s.data[pt()],r,r[11],e,r[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=u(Vn(e)))),e}(t,n),i,o)}function bo(e,t){return t>=e.expandoStartIndex}function wo(e,t,n,i){const r=e.data;if(null===r[n+1]){const s=r[pt()],o=bo(e,n);To(s,i)&&null===t&&!o&&(t=!1),t=function(e,t,n,i){const r=nt(e);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(n=So(n=Co(null,e,t,n,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==r)if(n=Co(r,e,t,n,i),null===s){let n=function(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==_r(i))return e[mr(i)]}(e,t,i);void 0!==n&&Array.isArray(n)&&(n=Co(null,e,t,n[1],i),n=So(n,t.attrs,i),function(e,t,n,i){e[mr(n?t.classBindings:t.styleBindings)]=i}(e,t,i,n))}else s=function(e,t,n){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=So(i,e[s].hostAttrs,n);return So(i,t.attrs,n)}(e,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),n}(r,s,t,i),function(e,t,n,i,r,s){let o=s?t.classBindings:t.styleBindings,a=mr(o),l=_r(o);e[i]=n;let c,u=!1;if(Array.isArray(n)){const e=n;c=e[1],(null===c||mn(e,c)>0)&&(u=!0)}else c=n;if(r)if(0!==l){const t=mr(e[a+1]);e[i+1]=fr(t,a),0!==t&&(e[t+1]=yr(e[t+1],i)),e[a+1]=131071&e[a+1]|i<<17}else e[i+1]=fr(a,0),0!==a&&(e[a+1]=yr(e[a+1],i)),a=i;else e[i+1]=fr(l,0),0===a?a=i:e[l+1]=yr(e[l+1],i),l=i;u&&(e[i+1]=gr(e[i+1])),co(e,c,i,!0),co(e,c,i,!1),function(e,t,n,i,r){const s=r?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&mn(s,t)>=0&&(n[i+1]=vr(n[i+1]))}(t,c,e,i,s),o=fr(a,l),s?t.classBindings=o:t.styleBindings=o}(r,s,t,n,o,i)}}function Co(e,t,n,i,r){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],i=So(i,s.hostAttrs,r),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),i}function So(e,t,n){const i=n?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),pn(e,o,!!n||t[++s]))}return void 0===e?null:e}function ko(e,t,n,i,r,s,o,a){if(!(3&t.type))return;const l=e.data,c=l[a+1];Eo(1==(1&c)?Io(l,t,n,r,_r(c),o):void 0)||(Eo(s)||2==(2&c)&&(s=Io(l,null,n,r,a,o)),function(e,t,n,i,r){const s=Ee(e);if(t)r?s?e.addClass(n,i):n.classList.add(i):s?e.removeClass(n,i):n.classList.remove(i);else{let t=-1===i.indexOf("-")?void 0:Ii.DashCase;if(null==r)s?e.removeStyle(n,i,t):n.style.removeProperty(i);else{const o="string"==typeof r&&r.endsWith("!important");o&&(r=r.slice(0,-10),t|=Ii.Important),s?e.setStyle(n,i,r,t):n.style.setProperty(i,r,o?"important":"")}}}(i,o,Ae(pt(),n),r,s))}function Io(e,t,n,i,r,s){const o=null===t;let a;for(;r>0;){const t=e[r],s=Array.isArray(t),l=s?t[1]:t,c=null===l;let u=n[r+1];u===hr&&(u=c?j:void 0);let h=c?fn(u,i):l===i?u:void 0;if(s&&!Eo(h)&&(h=fn(t,i)),Eo(h)&&(a=h,o))return a;const d=e[r+1];r=o?mr(d):_r(d)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(a=fn(e,i))}return a}function Eo(e){return void 0!==e}function To(e,t){return 0!=(e.flags&(t?16:32))}function xo(e,t=""){const n=Be(),i=je(),r=e+le,s=i.firstCreatePass?Cr(i,r,1,t,null):i.data[r],o=n[r]=function(e,t){return Ee(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Gi(i,n,o,s),He(s,!1)}function Ao(e){return Do("",e,""),Ao}function Do(e,t,n){const i=Be(),r=Vs(i,e,t,n);return r!==hr&&function(e,t,n){const i=Ae(t,e);!function(e,t,n){Ee(e)?e.setValue(t,n):t.textContent=n}(e[11],i,n)}(i,pt(),r),Do}function Ro(e,t,n){!function(e,t,n,i){const r=je(),s=Xe(2);r.firstUpdatePass&&wo(r,null,s,i);const o=Be();if(n!==hr&&Fs(o,s,n)){const a=r.data[pt()];if(To(a,i)&&!bo(r,s)){let e=a.classesWithoutHost;null!==e&&(n=h(e,n||"")),zs(r,a,o,n,i)}else!function(e,t,n,i,r,s,o,a){r===hr&&(r=j);let l=0,c=0,u=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;null!==u||null!==h;){const o=l<r.length?r[l+1]:void 0,d=c<s.length?s[c+1]:void 0;let p,f=null;u===h?(l+=2,c+=2,o!==d&&(f=h,p=d)):null===h||null!==u&&u<h?(l+=2,f=u):(c+=2,f=h,p=d),null!==f&&ko(e,t,n,i,f,p,true,a),u=l<r.length?r[l]:null,h=c<s.length?s[c]:null}}(r,a,o,o[11],o[s+1],o[s+1]=function(e,t,n){if(null==n||""===n)return j;const i=[],r=Vn(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)e(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&e(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(e,t,n),0,s)}}(pn,yo,Vs(Be(),e,t,n),!0)}function Oo(e,t,n){const i=Be();return Fs(i,Je(),t)&&Lr(je(),mt(),i,e,t,i[11],n,!0),Oo}function Po(e,t,n){const i=Be();if(Fs(i,Je(),t)){const r=je(),s=mt();Lr(r,s,i,e,t,rs(nt(r.data),s,i),n,!0)}return Po}const No=void 0;var Lo=["en",[["a","p"],["AM","PM"],No],[["AM","PM"],No,No],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],No,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],No,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",No,"{1} 'at' {0}",No],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Fo={};function Mo(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Uo(t);if(n)return n;const i=t.split("-")[0];if(n=Uo(i),n)return n;if("en"===i)return Lo;throw new Error(`Missing locale data for the locale "${e}".`)}function Vo(e){return Mo(e)[qo.PluralCase]}function Uo(e){return e in Fo||(Fo[e]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[e]),Fo[e]}var qo=(()=>((qo=qo||{})[qo.LocaleId=0]="LocaleId",qo[qo.DayPeriodsFormat=1]="DayPeriodsFormat",qo[qo.DayPeriodsStandalone=2]="DayPeriodsStandalone",qo[qo.DaysFormat=3]="DaysFormat",qo[qo.DaysStandalone=4]="DaysStandalone",qo[qo.MonthsFormat=5]="MonthsFormat",qo[qo.MonthsStandalone=6]="MonthsStandalone",qo[qo.Eras=7]="Eras",qo[qo.FirstDayOfWeek=8]="FirstDayOfWeek",qo[qo.WeekendRange=9]="WeekendRange",qo[qo.DateFormat=10]="DateFormat",qo[qo.TimeFormat=11]="TimeFormat",qo[qo.DateTimeFormat=12]="DateTimeFormat",qo[qo.NumberSymbols=13]="NumberSymbols",qo[qo.NumberFormats=14]="NumberFormats",qo[qo.CurrencyCode=15]="CurrencyCode",qo[qo.CurrencySymbol=16]="CurrencySymbol",qo[qo.CurrencyName=17]="CurrencyName",qo[qo.Currencies=18]="Currencies",qo[qo.Directionality=19]="Directionality",qo[qo.PluralCase=20]="PluralCase",qo[qo.ExtraData=21]="ExtraData",qo))();const Bo="en-US";let jo=Bo;function zo(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e} [Expected=> null != ${t} <=Actual]`)}(n,t),"string"==typeof e&&(jo=e.toLowerCase().replace(/_/g,"-"))}function Go(e,t,n,i,r){if(e=f(e),Array.isArray(e))for(let s=0;s<e.length;s++)Go(e[s],t,n,i,r);else{const s=je(),o=Be();let a=ws(e)?e:f(e.provide),l=ys(e);const c=Ge(),u=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(ws(e)||!e.multi){const i=new It(l,r,Bs),p=Yo(a,t,r?u:u+d,h);-1===p?(Bt(Mt(c,o),s,a),Zo(s,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(i),o.push(i)):(n[p]=i,o[p]=i)}else{const p=Yo(a,t,u+d,h),f=Yo(a,t,u,u+d),m=p>=0&&n[p],g=f>=0&&n[f];if(r&&!g||!r&&!m){Bt(Mt(c,o),s,a);const u=function(e,t,n,i,r){const s=new It(e,n,Bs);return s.multi=[],s.index=t,s.componentProviders=0,Ho(s,r,i&&!n),s}(r?Wo:$o,n.length,r,i,l);!r&&g&&(n[f].providerFactory=u),Zo(s,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(u),o.push(u)}else Zo(s,e,p>-1?p:f,Ho(n[r?f:p],l,!r&&i));!r&&i&&g&&n[f].componentProviders++}}}function Zo(e,t,n,i){const r=ws(t);if(r||t.useClass){const s=(t.useClass||t).prototype.ngOnDestroy;if(s){const o=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){const e=o.indexOf(n);-1===e?o.push(n,[i,s]):o[e+1].push(i,s)}else o.push(n,s)}}}function Ho(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Yo(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function $o(e,t,n,i){return Ko(this.multi,[])}function Wo(e,t,n,i){const r=this.multi;let s;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=Wt(n,n[1],this.providerFactory.index,i);s=t.slice(0,e),Ko(r,s);for(let n=e;n<t.length;n++)s.push(t[n])}else s=[],Ko(r,s);return s}function Ko(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Qo(e,t=[]){return n=>{n.providersResolver=(n,i)=>function(e,t,n){const i=je();if(i.firstCreatePass){const r=me(e);Go(n,i.data,i.blueprint,r,!0),Go(t,i.data,i.blueprint,r,!1)}}(n,i?i(e):e,t)}}class Jo{}class Xo{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${u(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}class ea{}function ta(...e){}function na(e,t){return new ra(De(e,t))}ea.NULL=new Xo;const ia=function(){return na(Ge(),Be())};let ra=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=ia,e})();function sa(e){return e instanceof ra?e.nativeElement:e}class oa{}let aa=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>la(),e})();const la=function(){const e=Be(),t=Pe(Ge().index,e);return function(e){return e[11]}(ue(t)?t:e)};let ca=(()=>{class e{}return e.\u0275prov=b({token:e,providedIn:"root",factory:()=>null}),e})();class ua{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const ha=new ua("12.1.5");class da{constructor(){}supports(e){return Ps(e)}create(e){return new fa(e)}}const pa=(e,t)=>t;class fa{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||pa}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,i=0,r=null;for(;t||n;){const s=!n||t&&t.currentIndex<ya(n,i,r)?t:n,o=ya(s,i,r),a=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{r||(r=[]);const e=o-i,t=a-i;if(e!=t){for(let n=0;n<e;n++){const i=n<r.length?r[n]:r[n]=0,s=i+n;t<=s&&s<e&&(r[n]=i+1)}r[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ps(e))throw new Error(`Error trying to diff '${u(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,i,r=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],i=this._trackByFn(t,n),null!==r&&Object.is(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,n,i,t)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,t),s=!0),r=r._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Rs()]();let i;for(;!(i=n.next()).done;)t(i.value)}}(e,e=>{i=this._trackByFn(t,e),null!==r&&Object.is(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,e,i,t)),Object.is(r.item,e)||this._addIdentityChange(r,e)):(r=this._mismatch(r,e,i,t),s=!0),r=r._next,t++}),this.length=t;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,i){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,i)):e=this._addAfter(new ma(t,n),r,i),e}_verifyReinsertion(e,t,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?e=this._reinsertAfter(r,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,r=e._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new _a),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _a),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class ma{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ga{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class _a{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new ga,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ya(e,t,n){const i=e.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}class va{constructor(){}supports(e){return e instanceof Map||Ns(e)}create(){return new ba}}class ba{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Ns(e)))throw new Error(`Error trying to diff '${u(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const i=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,i)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new wa(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class wa{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ca(){return new Sa([new da])}let Sa=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||Ca()),deps:[[e,new An,new xn]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=b({token:e,providedIn:"root",factory:Ca}),e})();function ka(){return new Ia([new va])}let Ia=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||ka()),deps:[[e,new An,new xn]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=b({token:e,providedIn:"root",factory:ka}),e})();function Ea(e,t,n,i,r=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&i.push(xe(s)),he(s))for(let e=ce;e<s.length;e++){const t=s[e],n=t[1].firstChild;null!==n&&Ea(t[1],t,n,i)}const o=n.type;if(8&o)Ea(e,t,n.child,i);else if(32&o){const e=Ei(n,t);let r;for(;r=e();)i.push(r)}else if(16&o){const e=Hi(t,n);if(Array.isArray(e))i.push(...e);else{const n=Ti(t[16]);Ea(n[1],n,e,i,!0)}}n=r?n.projectionNext:n.next}return i}class Ta{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Ea(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(he(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(Ni(e,n),hn(t,n))}this._attachedToViewContainer=!1}Li(this._lView[1],this._lView)}onDestroy(e){Pr(this._lView[1],this._lView,null,e)}markForCheck(){Qr(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Jr(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Ke(!0);try{Jr(e,t,n)}finally{Ke(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,Wi(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class xa extends Ta{constructor(e){super(e),this._view=e}detectChanges(){Xr(this._view)}checkNoChanges(){!function(e){Ke(!0);try{Xr(e)}finally{Ke(!1)}}(this._view)}get context(){return null}}const Aa=function(e){return function(e,t,n){if(pe(e)&&!n){const n=Pe(e.index,t);return new Ta(n,n)}return 47&e.type?new Ta(t[16],t):null}(Ge(),Be(),16==(16&e))};let Da=(()=>{class e{}return e.__NG_ELEMENT_ID__=Aa,e})();const Ra=[new va],Oa=new Sa([new da]),Pa=new Ia(Ra),Na=function(){return Va(Ge(),Be())};let La=(()=>{class e{}return e.__NG_ELEMENT_ID__=Na,e})();const Fa=La,Ma=class extends Fa{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=wr(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(t)),kr(t,n,e),new Ta(n)}};function Va(e,t){return 4&e.type?new Ma(t,e,na(e,t)):null}class Ua{}class qa{}const Ba=function(){return Ya(Ge(),Be())};let ja=(()=>{class e{}return e.__NG_ELEMENT_ID__=Ba,e})();const za=ja,Ga=class extends za{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return na(this._hostTNode,this._hostLView)}get injector(){return new Jt(this._hostTNode,this._hostLView)}get parentInjector(){const e=qt(this._hostTNode,this._hostLView);if(Rt(e)){const t=Pt(e,this._hostLView),n=Ot(e);return new Jt(t[1].data[n+8],t)}return new Jt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Za(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-ce}createEmbeddedView(e,t,n){const i=e.createEmbeddedView(t||{});return this.insert(i,n),i}createComponent(e,t,n,i,r){const s=n||this.parentInjector;if(!r&&null==e.ngModule&&s){const e=s.get(Ua,null);e&&(r=e)}const o=e.create(s,i,void 0,r);return this.insert(o.hostView,t),o}insert(e,t){const n=e._lView,i=n[1];if(he(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],i=new Ga(t,t[6],t[3]);i.detach(i.indexOf(e))}}const r=this._adjustIndex(t),s=this._lContainer;!function(e,t,n,i){const r=ce+i,s=n.length;i>0&&(n[r-1][4]=t),i<s-ce?(t[4]=n[r],un(n,ce+i,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(i,n,s,r);const o=Yi(r,s),a=n[11],l=Bi(a,s[7]);return null!==l&&function(e,t,n,i,r,s){i[0]=r,i[6]=t,Wi(e,i,n,1,r,s)}(i,s[6],a,n,l,o),e.attachToViewContainerRef(),un(Ha(s),r,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Za(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=Ni(this._lContainer,t);n&&(hn(Ha(this._lContainer),t),Li(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=Ni(this._lContainer,t);return n&&null!=hn(Ha(this._lContainer),t)?new Ta(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Za(e){return e[8]}function Ha(e){return e[8]||(e[8]=[])}function Ya(e,t){let n;const i=t[e.index];if(he(i))n=i;else{let r;if(8&e.type)r=xe(i);else{const n=t[11];r=n.createComment("");const i=De(e,t);Vi(n,Bi(n,i),r,function(e,t){return Ee(e)?e.nextSibling(t):t.nextSibling}(n,i),!1)}t[e.index]=n=Hr(i,t,r,e),Kr(t,n)}return new Ga(n,e,t)}const $a={};class Wa extends ea{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=oe(e);return new Ja(t,this.ngModule)}}function Ka(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const Qa=new sn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ci});class Ja extends Jo{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(ur).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Ka(this.componentDef.inputs)}get outputs(){return Ka(this.componentDef.outputs)}create(e,t,n,i){const r=(i=i||this.ngModule)?function(e,t){return{get:(n,i,r)=>{const s=e.get(n,$a,r);return s!==$a||i===$a?s:t.get(n,i,r)}}}(e,i.injector):e,s=r.get(oa,Te),o=r.get(ca,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(e,t,n){if(Ee(e))return e.selectRootElement(t,n===L.ShadowDom);let i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(a,n,this.componentDef.encapsulation):Oi(s.createRenderer(null,this.componentDef),l,function(e){const t=e.toLowerCase();return"svg"===t?Se:"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:Ci,clean:ts,playerHandler:null,flags:0},d=Or(0,null,null,1,0,null,null,null,null,null),p=wr(null,d,h,u,null,null,s,a,o,r);let f,m;at(p);try{const e=function(e,t,n,i,r,s){const o=n[1];n[20]=e;const a=Cr(o,20,2,"#host",null),l=a.mergedAttrs=t.hostAttrs;null!==l&&(as(a,l,!0),null!==e&&(Et(r,e,l),null!==a.classes&&Ji(r,e,a.classes),null!==a.styles&&Qi(r,e,a.styles)));const c=i.createRenderer(e,t),u=wr(n,Rr(t),null,t.onPush?64:16,n[20],a,i,c,null,null);return o.firstCreatePass&&(Bt(Mt(a,n),o,t.type),Ur(o,a),Br(a,n.length,1)),Kr(n,u),n[20]=u}(c,this.componentDef,p,s,a);if(c)if(n)Et(a,c,["ng-version",ha.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let i=1,r=2;for(;i<e.length;){let s=e[i];if("string"==typeof s)2===r?""!==s&&t.push(s,e[++i]):8===r&&n.push(s);else{if(!sr(r))break;r=s}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&Et(a,c,e),t&&t.length>0&&Ji(a,c,t.join(" "))}if(m=Re(d,le),void 0!==t){const e=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=t[n];e.push(null!=i?Array.from(i):null)}}f=function(e,t,n,i,r){const s=n[1],o=function(e,t,n){const i=Ge();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),jr(e,i,t,Sr(e,t,1,null),n));const r=Wt(t,e,i.directiveStart,i);_i(r,t);const s=De(i,t);return s&&_i(s,t),r}(s,n,t);if(i.components.push(o),e[8]=o,r&&r.forEach(e=>e(o,t)),t.contentQueries){const e=Ge();t.contentQueries(1,o,e.directiveStart)}const a=Ge();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(ft(a.index),Mr(n[1],a,0,a.directiveStart,a.directiveEnd,t),Vr(t,o)),o}(e,this.componentDef,p,h,[ks]),kr(d,p,null)}finally{dt()}return new Xa(this.componentType,f,na(m,p),p,m)}}class Xa extends class{}{constructor(e,t,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.instance=t,this.hostView=this.changeDetectorRef=new xa(i),this.componentType=e}get injector(){return new Jt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const el=new Map;class tl extends Ua{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Wa(this);const n=ae(e),i=e[Y]||null;i&&zo(i),this._bootstrapComponents=ki(n.bootstrap),this._r3Injector=ms(e,t,[{provide:Ua,useValue:this},{provide:ea,useValue:this.componentFactoryResolver}],u(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Ss.THROW_IF_NOT_FOUND,n=A.Default){return e===Ss||e===Ua||e===ls?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class nl extends qa{constructor(e){super(),this.moduleType=e,null!==ae(e)&&function(e){const t=new Set;!function e(n){const i=ae(n,!0),r=i.id;null!==r&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${u(t)} vs ${u(t.name)}`)}(r,el.get(r),n),el.set(r,n));const s=ki(i.imports);for(const o of s)t.has(o)||(t.add(o),e(o))}(e)}(e)}create(e){return new tl(this.moduleType,e)}}function il(e,t,n){const i=Qe()+e,r=Be();return r[i]===hr?Ls(r,i,n?t.call(n):t()):function(e,t){return e[t]}(r,i)}function rl(e,t,n,i){return sl(Be(),Qe(),e,t,n,i)}function sl(e,t,n,i,r,s){const o=t+n;return Fs(e,o,r)?Ls(e,o+1,s?i.call(s,r):i(r)):function(e,t){const n=e[t];return n===hr?void 0:n}(e,o+1)}function ol(e,t){const n=je();let i;const r=e+le;n.firstCreatePass?(i=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const i=t[n];if(e===i.name)return i}throw new g("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];const s=i.factory||(i.factory=ge(i.type)),o=R(Bs);try{const e=Lt(!1),t=s();return Lt(e),function(e,t,n,i){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=i}(n,Be(),r,t),t}finally{R(o)}}function al(e,t,n){const i=e+le,r=Be(),s=Oe(r,i);return function(e,t){return Os.isWrapped(t)&&(t=Os.unwrap(t),e[Ue.lFrame.bindingIndex]=hr),t}(r,function(e,t){return e[1].data[t].pure}(r,i)?sl(r,Qe(),t,s.transform,n,s):s.transform(n))}function ll(e){return t=>{setTimeout(e,void 0,t)}}const cl=class extends i.xQ{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var i,s,o;let a=e,l=t||(()=>null),c=n;if(e&&"object"==typeof e){const t=e;a=null===(i=t.next)||void 0===i?void 0:i.bind(t),l=null===(s=t.error)||void 0===s?void 0:s.bind(t),c=null===(o=t.complete)||void 0===o?void 0:o.bind(t)}this.__isAsync&&(l=ll(l),a&&(a=ll(a)),c&&(c=ll(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof r.w&&e.add(u),u}};function ul(){return this._results[Rs()]()}class hl{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Rs(),n=hl.prototype;n[t]||(n[t]=ul)}get changes(){return this._changes||(this._changes=new cl)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const i=ln(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=t[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}(n._results,i,t))&&(n._results=i,n.length=i.length,n.last=i[this.length-1],n.first=i[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class dl{constructor(e){this.queryList=e,this.matches=null}clone(){return new dl(this.queryList)}setDirty(){this.queryList.setDirty()}}class pl{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);i.push(this.queries[n.indexInDeclarationView].clone())}return new pl(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Tl(e,t).matches&&this.queries[t].setDirty()}}class fl{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class ml{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const i=null!==t?t.length:0,r=this.getByIndex(n).embeddedTView(e,i);r&&(r.indexInDeclarationView=n,null!==t?t.push(r):t=[r])}return null!==t?new ml(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class gl{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new gl(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const r=n[i];this.matchTNodeWithReadOption(e,t,_l(t,r)),this.matchTNodeWithReadOption(e,t,$t(t,e,r,!1,!1))}else n===La?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,$t(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===ra||i===ja||i===La&&4&t.type)this.addMatch(t.index,-2);else{const n=$t(t,e,i,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function _l(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function yl(e,t,n,i){return-1===n?function(e,t){return 11&e.type?na(e,t):4&e.type?Va(e,t):null}(t,e):-2===n?function(e,t,n){return n===ra?na(t,e):n===La?Va(t,e):n===ja?Ya(t,e):void 0}(e,t,i):Wt(e,e[1],n,t)}function vl(e,t,n,i){const r=t[19].queries[i];if(null===r.matches){const i=e.data,s=n.matches,o=[];for(let e=0;e<s.length;e+=2){const r=s[e];o.push(r<0?null:yl(t,i[r],s[e+1],n.metadata.read))}r.matches=o}return r.matches}function bl(e,t,n,i){const r=e.queries.getByIndex(n),s=r.matches;if(null!==s){const o=vl(e,t,r,n);for(let e=0;e<s.length;e+=2){const n=s[e];if(n>0)i.push(o[e/2]);else{const r=s[e+1],o=t[-n];for(let e=ce;e<o.length;e++){const t=o[e];t[17]===t[3]&&bl(t[1],t,r,i)}if(null!==o[9]){const e=o[9];for(let t=0;t<e.length;t++){const n=e[t];bl(n[1],n,r,i)}}}}}return i}function wl(e){const t=Be(),n=je(),i=it();rt(i+1);const r=Tl(n,i);if(e.dirty&&Ne(t)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{const s=r.crossesNgTemplate?bl(n,t,i,[]):vl(n,t,r,i);e.reset(s,sa),e.notifyOnChanges()}return!0}return!1}function Cl(e,t,n){const i=je();i.firstCreatePass&&(El(i,new fl(e,t,n),-1),2==(2&t)&&(i.staticViewQueries=!0)),Il(i,Be(),t)}function Sl(e,t,n,i){const r=je();if(r.firstCreatePass){const s=Ge();El(r,new fl(t,n,i),s.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(r,e),2==(2&n)&&(r.staticContentQueries=!0)}Il(r,Be(),n)}function kl(){return e=Be(),t=it(),e[19].queries[t].queryList;var e,t}function Il(e,t,n){const i=new hl(4==(4&n));Pr(e,t,i,i.destroy),null===t[19]&&(t[19]=new pl),t[19].queries.push(new dl(i))}function El(e,t,n){null===e.queries&&(e.queries=new ml),e.queries.track(new gl(t,n))}function Tl(e,t){return e.queries.getByIndex(t)}const xl=new sn("Application Initializer");let Al=(()=>{class e{constructor(e){this.appInits=e,this.resolve=ta,this.reject=ta,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();if(Qs(t))e.push(t);else if(Xs(t)){const n=new Promise((e,n)=>{t.subscribe({complete:e,error:n})});e.push(n)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(Sn(xl,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();const Dl=new sn("AppId"),Rl={provide:Dl,useFactory:function(){return`${Ol()}${Ol()}${Ol()}`},deps:[]};function Ol(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Pl=new sn("Platform Initializer"),Nl=new sn("Platform ID"),Ll=new sn("appBootstrapListener");let Fl=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();const Ml=new sn("LocaleId"),Vl=new sn("DefaultCurrencyCode");class Ul{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const ql=function(e){return new nl(e)},Bl=ql,jl=function(e){return Promise.resolve(ql(e))},zl=function(e){const t=ql(e),n=ki(ae(e).declarations).reduce((e,t)=>{const n=oe(t);return n&&e.push(new Ja(n)),e},[]);return new Ul(t,n)},Gl=zl,Zl=function(e){return Promise.resolve(zl(e))};let Hl=(()=>{class e{constructor(){this.compileModuleSync=Bl,this.compileModuleAsync=jl,this.compileModuleAndAllComponentsSync=Gl,this.compileModuleAndAllComponentsAsync=Zl}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();const Yl=(()=>Promise.resolve(0))();function $l(e){"undefined"==typeof Zone?Yl.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Wl{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new cl(!1),this.onMicrotaskEmpty=new cl(!1),this.onStable=new cl(!1),this.onError=new cl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&t,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let e=q.requestAnimationFrame,t=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(q,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Jl(e),e.isCheckStableRunning=!0,Ql(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Jl(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{try{return Xl(e),n.invokeTask(r,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),ec(e)}},onInvoke:(n,i,r,s,o,a,l)=>{try{return Xl(e),n.invoke(r,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),ec(e)}},onHasTask:(t,n,i,r)=>{t.hasTask(i,r),n===i&&("microTask"==r.change?(e._hasPendingMicrotasks=r.microTask,Jl(e),Ql(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:(t,n,i,r)=>(t.handleError(i,r),e.runOutsideAngular(()=>e.onError.emit(r)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Wl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,i){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+i,e,Kl,ta,ta);try{return r.runTask(s,t,n)}finally{r.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const Kl={};function Ql(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Jl(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Xl(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ec(e){e._nesting--,Ql(e)}class tc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new cl,this.onMicrotaskEmpty=new cl,this.onStable=new cl,this.onError=new cl}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,i){return e.apply(t,n)}}let nc=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wl.assertNotInAngularZone(),$l(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$l(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let i=-1;t&&t>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==i),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(Sn(Wl))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})(),ic=(()=>{class e{constructor(){this._applications=new Map,ac.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return ac.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();class rc{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function sc(e){ac=e}let oc,ac=new rc,lc=!0,cc=!1;function uc(){return cc=!0,lc}function hc(){if(cc)throw new Error("Cannot enable prod mode after platform setup.");lc=!1}const dc=new sn("AllowMultipleToken");class pc{constructor(e,t){this.name=e,this.token=t}}function fc(e,t,n=[]){const i=`Platform: ${t}`,r=new sn(i);return(t=[])=>{let s=mc();if(!s||s.injector.get(dc,!1))if(e)e(n.concat(t).concat({provide:r,useValue:!0}));else{const e=n.concat(t).concat({provide:r,useValue:!0},{provide:us,useValue:"platform"});!function(e){if(oc&&!oc.destroyed&&!oc.injector.get(dc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");oc=e.get(gc);const t=e.get(Pl,null);t&&t.forEach(e=>e())}(Ss.create({providers:e,name:i}))}return function(e){const t=mc();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(r)}}function mc(){return oc&&!oc.destroyed?oc:null}let gc=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new tc:("zone.js"===e?void 0:e)||new Wl({enableLongStackTrace:uc(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),i=[{provide:Wl,useValue:n}];return n.run(()=>{const t=Ss.create({providers:i,parent:this.injector,name:e.moduleType.name}),r=e.create(t),s=r.injector.get(wi,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{s.handleError(e)}});r.onDestroy(()=>{vc(this._modules,r),e.unsubscribe()})}),function(e,t,n){try{const i=n();return Qs(i)?i.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(s,n,()=>{const e=r.injector.get(Al);return e.runInitializers(),e.donePromise.then(()=>(zo(r.injector.get(Ml,Bo)||Bo),this._moduleDoBootstrap(r),r))})})}bootstrapModule(e,t=[]){const n=_c({},t);return function(e,t,n){const i=new nl(n);return Promise.resolve(i)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(yc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${u(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(Sn(Ss))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();function _c(e,t){return Array.isArray(t)?t.reduce(_c,e):Object.assign(Object.assign({},e),t)}let yc=(()=>{class e{constructor(e,t,n,i,r){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=i,this._initStatus=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),c=new s.y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Wl.assertNotInAngularZone(),$l(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Wl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(l,c.pipe((0,a.B)()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Jo?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(Ua),r=n.create(Ss.NULL,[],t||n.selector,i),s=r.location.nativeElement,o=r.injector.get(nc,null),a=o&&r.injector.get(ic);return o&&a&&a.registerApplication(s,o),r.onDestroy(()=>{this.detachView(r.hostView),vc(this.components,r),a&&a.unregisterApplication(s)}),this._loadComponent(r),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;vc(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Ll,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(Sn(Wl),Sn(Ss),Sn(wi),Sn(ea),Sn(Al))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();function vc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class bc{}class wc{}const Cc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Sc=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||Cc}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,i]=e.split("#");return void 0===i&&(i="default"),n(8255)(t).then(e=>e[i]).then(e=>kc(e,t,i)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,i]=e.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n(8255)(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[i+r]).then(e=>kc(e,t,i))}}return e.\u0275fac=function(t){return new(t||e)(Sn(Hl),Sn(wc,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();function kc(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const Ic=function(e){return null},Ec=fc(null,"core",[{provide:Nl,useValue:"unknown"},{provide:gc,deps:[Ss]},{provide:ic,deps:[]},{provide:Fl,deps:[]}]),Tc=[{provide:yc,useClass:yc,deps:[Wl,Ss,wi,ea,Al]},{provide:Qa,deps:[Wl],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Al,useClass:Al,deps:[[new xn,xl]]},{provide:Hl,useClass:Hl,deps:[]},Rl,{provide:Sa,useFactory:function(){return Oa},deps:[]},{provide:Ia,useFactory:function(){return Pa},deps:[]},{provide:Ml,useFactory:function(e){return zo(e=e||"undefined"!=typeof $localize&&$localize.locale||Bo),e},deps:[[new Tn(Ml),new xn,new An]]},{provide:Vl,useValue:"USD"}];let xc=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)(Sn(yc))},e.\u0275mod=te({type:e}),e.\u0275inj=w({providers:Tc}),e})()},8939:(e,t,n)=>{"use strict";n.d(t,{hO:()=>m,xv:()=>h,Dh:()=>u,GT:()=>l,cc:()=>g,on:()=>d,pX:()=>a});var i=n(7716),r=n(7841),s=n(4459);e=n.hmd(e);const o=["ngOnDestroy"],a=(e,t,n,i={})=>new Proxy(e,{get:(r,s)=>n.runOutsideAngular(()=>{var r;if(e[s])return(null===(r=null==i?void 0:i.spy)||void 0===r?void 0:r.get)&&i.spy.get(s,e[s]),e[s];if(o.indexOf(s)>-1)return()=>{};const a=t.toPromise().then(e=>{const t=e&&e[s];return"function"==typeof t?t.bind(e):t&&t.then?t.then(e=>n.run(()=>e)):n.run(()=>t)});return new Proxy(()=>{},{get:(e,t)=>a[t],apply:(e,t,n)=>a.then(e=>{var t;const r=e&&e(...n);return(null===(t=null==i?void 0:i.spy)||void 0===t?void 0:t.apply)&&i.spy.apply(s,n,r),r})})})}),l=(e,t)=>{t.forEach(t=>{Object.getOwnPropertyNames(t.prototype||t).forEach(n=>{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})};class c{constructor(e){return e}}const u=new i.OlP("angularfire2.app.options"),h=new i.OlP("angularfire2.app.name");function d(t,n,i){const s="object"==typeof i&&i||{};s.name=s.name||"string"==typeof i&&i||"[DEFAULT]";const o=r.Z.apps.filter(e=>e&&e.name===s.name)[0]||n.runOutsideAngular(()=>r.Z.initializeApp(t,s));try{JSON.stringify(t)!==JSON.stringify(o.options)&&p("error",`${o.name} Firebase App already initialized with different options${e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(a){}return new c(o)}const p=(e,...t)=>{(0,i.X6Q)()&&"undefined"!=typeof console&&console[e](...t)},f={provide:c,useFactory:d,deps:[u,i.R0b,[new i.FiY,h]]};let m=(()=>{class e{constructor(e){r.Z.registerVersion("angularfire",s.q4.full,"core"),r.Z.registerVersion("angularfire",s.q4.full,"app-compat"),r.Z.registerVersion("angular",i.q4F.full,e.toString())}static initializeApp(t,n){return{ngModule:e,providers:[{provide:u,useValue:t},{provide:h,useValue:n}]}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.Lbi))},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[f]}),e})();function g(e,t,n,i,r){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(t=>t[0]===e)||[];if(s)return function(e,t){try{return e.toString()===t.toString()}catch(n){return e===t}}(r,o)||(y("error",`${t} was already initialized on the ${n} Firebase App with different settings.${_?" You may need to reload as Firebase is not HMR aware.":""}`),y("warn",{is:r,was:o})),s;{const t=i();return globalThis.\u0275AngularfireInstanceCache.push([e,t,r]),t}}const _=!!e.hot,y=(e,...t)=>{(0,i.X6Q)()&&"undefined"!=typeof console&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4459:(e,t,n)=>{"use strict";n.d(t,{q4:()=>Pn,iC:()=>Yn,HU:()=>Zn,vb:()=>Bn,JM:()=>qn});var i=n(7716),r=n(2329),s=n(6304),o=n(279),a=n(3854),l=n(8604),c=n(9306),u=n(6508);const h="@firebase/installations",d="0.5.9",p="w:0.5.9",f="FIS_v2",m=new a.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function g(e){return e instanceof a.ZR&&e.code.includes("request-failed")}function _({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function y(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function v(e,t){return b.apply(this,arguments)}function b(){return(b=(0,s.Z)(function*(e,t){const n=(yield t.json()).error;return m.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})})).apply(this,arguments)}function w({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function C(e,{refreshToken:t}){const n=w(e);return n.append("Authorization",function(e){return`FIS_v2 ${e}`}(t)),n}function S(e){return k.apply(this,arguments)}function k(){return(k=(0,s.Z)(function*(e){const t=yield e();return t.status>=500&&t.status<600?e():t})).apply(this,arguments)}function I(e,t){return E.apply(this,arguments)}function E(){return(E=(0,s.Z)(function*({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=_(e),r=w(e),s=t.getImmediate({optional:!0});if(s){const e=yield s.getHeartbeatsHeader();e&&r.append("x-firebase-client",e)}const o={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:f,appId:e.appId,sdkVersion:p})},a=yield S(()=>fetch(i,o));if(a.ok){const e=yield a.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:y(e.authToken)}}throw yield v("Create Installation",a)})).apply(this,arguments)}function T(e){return new Promise(t=>{setTimeout(t,e)})}const x=/^[cdef][\w-]{21}$/;function A(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return x.test(t)?t:""}catch(e){return""}}function D(e){return`${e.appName}!${e.appId}`}const R=new Map;function O(e,t){const n=D(e);P(n,t),function(e,t){const n=(!N&&"BroadcastChannel"in self&&(N=new BroadcastChannel("[Firebase] FID Change"),N.onmessage=e=>{P(e.data.key,e.data.fid)}),N);n&&n.postMessage({key:e,fid:t}),0===R.size&&N&&(N.close(),N=null)}(n,t)}function P(e,t){const n=R.get(e);if(n)for(const i of n)i(t)}let N=null;const L="firebase-installations-store";let F=null;function M(){return F||(F=(0,u.X3)("firebase-installations-database",1,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(L)}}})),F}function V(e,t){return U.apply(this,arguments)}function U(){return(U=(0,s.Z)(function*(e,t){const n=D(e),i=(yield M()).transaction(L,"readwrite"),r=i.objectStore(L),s=yield r.get(n);return yield r.put(t,n),yield i.done,s&&s.fid===t.fid||O(e,t.fid),t})).apply(this,arguments)}function q(e){return B.apply(this,arguments)}function B(){return(B=(0,s.Z)(function*(e){const t=D(e),n=(yield M()).transaction(L,"readwrite");yield n.objectStore(L).delete(t),yield n.done})).apply(this,arguments)}function j(e,t){return z.apply(this,arguments)}function z(){return(z=(0,s.Z)(function*(e,t){const n=D(e),i=(yield M()).transaction(L,"readwrite"),r=i.objectStore(L),s=yield r.get(n),o=t(s);return void 0===o?yield r.delete(n):yield r.put(o,n),yield i.done,!o||s&&s.fid===o.fid||O(e,o.fid),o})).apply(this,arguments)}function G(e){return Z.apply(this,arguments)}function Z(){return(Z=(0,s.Z)(function*(e){let t;const n=yield j(e.appConfig,n=>{const i=H(n),r=Y(e,i);return t=r.registrationPromise,r.installationEntry});return""===n.fid?{installationEntry:yield t}:{installationEntry:n,registrationPromise:t}})).apply(this,arguments)}function H(e){return J(e||{fid:A(),registrationStatus:0})}function Y(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(m.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return $.apply(this,arguments)}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:W(e)}:{installationEntry:t}}function $(){return($=(0,s.Z)(function*(e,t){try{const n=yield I(e,t);return V(e.appConfig,n)}catch(n){throw g(n)&&409===n.customData.serverCode?yield q(e.appConfig):yield V(e.appConfig,{fid:t.fid,registrationStatus:0}),n}})).apply(this,arguments)}function W(e){return K.apply(this,arguments)}function K(){return(K=(0,s.Z)(function*(e){let t=yield Q(e.appConfig);for(;1===t.registrationStatus;)yield T(100),t=yield Q(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=yield G(e);return n||t}return t})).apply(this,arguments)}function Q(e){return j(e,e=>{if(!e)throw m.create("installation-not-found");return J(e)})}function J(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function X(e,t){return ee.apply(this,arguments)}function ee(){return(ee=(0,s.Z)(function*({appConfig:e,heartbeatServiceProvider:t},n){const i=te(e,n),r=C(e,n),s=t.getImmediate({optional:!0});if(s){const e=yield s.getHeartbeatsHeader();e&&r.append("x-firebase-client",e)}const o={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:p,appId:e.appId}})},a=yield S(()=>fetch(i,o));if(a.ok)return y(yield a.json());throw yield v("Generate Auth Token",a)})).apply(this,arguments)}function te(e,{fid:t}){return`${_(e)}/${t}/authTokens:generate`}function ne(e){return ie.apply(this,arguments)}function ie(){return(ie=(0,s.Z)(function*(e,t=!1){let n;const i=yield j(e.appConfig,i=>{if(!ce(i))throw m.create("not-registered");const r=i.authToken;if(!t&&ue(r))return i;if(1===r.requestStatus)return n=re(e,t),i;{if(!navigator.onLine)throw m.create("app-offline");const t=he(i);return n=ae(e,t),t}});return n?yield n:i.authToken})).apply(this,arguments)}function re(e,t){return se.apply(this,arguments)}function se(){return(se=(0,s.Z)(function*(e,t){let n=yield oe(e.appConfig);for(;1===n.authToken.requestStatus;)yield T(100),n=yield oe(e.appConfig);const i=n.authToken;return 0===i.requestStatus?ne(e,t):i})).apply(this,arguments)}function oe(e){return j(e,e=>{if(!ce(e))throw m.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var t})}function ae(e,t){return le.apply(this,arguments)}function le(){return(le=(0,s.Z)(function*(e,t){try{const n=yield X(e,t),i=Object.assign(Object.assign({},t),{authToken:n});return yield V(e.appConfig,i),n}catch(n){if(!g(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield V(e.appConfig,n)}else yield q(e.appConfig);throw n}})).apply(this,arguments)}function ce(e){return void 0!==e&&2===e.registrationStatus}function ue(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}function he(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function de(){return(de=(0,s.Z)(function*(e){const t=e,{installationEntry:n,registrationPromise:i}=yield G(t);return i?i.catch(console.error):ne(t).catch(console.error),n.fid})).apply(this,arguments)}function pe(){return(pe=(0,s.Z)(function*(e,t=!1){const n=e;return yield fe(n),(yield ne(n,t)).token})).apply(this,arguments)}function fe(e){return me.apply(this,arguments)}function me(){return(me=(0,s.Z)(function*(e){const{registrationPromise:t}=yield G(e);t&&(yield t)})).apply(this,arguments)}function ge(e){return m.create("missing-app-config-values",{valueName:e})}const _e="installations";(0,o._registerComponent)(new l.wA(_e,e=>{const t=e.getProvider("app").getImmediate();return{app:t,appConfig:function(e){if(!e||!e.options)throw ge("App Configuration");if(!e.name)throw ge("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw ge(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),heartbeatServiceProvider:(0,o._getProvider)(t,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,o._registerComponent)(new l.wA("installations-internal",e=>{const t=e.getProvider("app").getImmediate(),n=(0,o._getProvider)(t,_e).getImmediate();return{getId:()=>function(e){return de.apply(this,arguments)}(n),getToken:e=>function(e){return pe.apply(this,arguments)}(n,e)}},"PRIVATE")),(0,o.registerVersion)(h,d),(0,o.registerVersion)(h,d,"esm2017");const ye="@firebase/remote-config",ve="0.3.8",be=new a.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class we{constructor(e,t,n,i){this.client=e,this.storage=t,this.storageCache=n,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const n=Date.now()-t,i=n<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,s.Z)(function*(){const[n,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,n))return i;e.eTag=i&&i.eTag;const r=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===r.status&&s.push(t.storage.setLastSuccessfulFetchResponse(r)),yield Promise.all(s),r})()}}function Ce(e=navigator){return e.languages&&e.languages[0]||e.language}class Se{constructor(e,t,n,i,r,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=i,this.apiKey=r,this.appId=s}fetch(e){var t=this;return(0,s.Z)(function*(){const[n,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),r=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},o={sdk_version:t.sdkVersion,app_instance_id:n,app_instance_id_token:i,app_id:t.appId,language_code:Ce()},a={method:"POST",headers:s,body:JSON.stringify(o)},l=fetch(r,a),c=new Promise((t,n)=>{e.signal.addEventListener(()=>{const e=new Error("The operation was aborted.");e.name="AbortError",n(e)})});let u;try{yield Promise.race([l,c]),u=yield l}catch(m){let e="fetch-client-network";throw"AbortError"===m.name&&(e="fetch-timeout"),be.create(e,{originalErrorMessage:m.message})}let h=u.status;const d=u.headers.get("ETag")||void 0;let p,f;if(200===u.status){let e;try{e=yield u.json()}catch(m){throw be.create("fetch-client-parse",{originalErrorMessage:m.message})}p=e.entries,f=e.state}if("INSTANCE_STATE_UNSPECIFIED"===f?h=500:"NO_CHANGE"===f?h=304:"NO_TEMPLATE"!==f&&"EMPTY_CONFIG"!==f||(p={}),304!==h&&200!==h)throw be.create("fetch-status",{httpStatus:h});return{status:h,eTag:d,config:p}})()}}class ke{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,s.Z)(function*(){const n=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,n)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:n}){var i=this;return(0,s.Z)(function*(){yield function(e,t){return new Promise((n,i)=>{const r=Math.max(t-Date.now(),0),s=setTimeout(n,r);e.addEventListener(()=>{clearTimeout(s),i(be.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(e.signal,t);try{const t=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),t}catch(r){if(!function(e){if(!(e instanceof a.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r))throw r;const t={throttleEndTimeMillis:Date.now()+(0,a.$s)(n),backoffCount:n+1};return yield i.storage.setThrottleMetadata(t),i.attemptFetch(e,t)}})()}}class Ie{constructor(e,t,n,i,r){this.app=e,this._client=t,this._storageCache=n,this._storage=i,this._logger=r,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ee(e,t){const n=e.target.error||void 0;return be.create(t,{originalErrorMessage:n&&n.message})}const Te="app_namespace_store";class xe{constructor(e,t,n,i=function(){return new Promise((e,t)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=e=>{t(Ee(e,"storage-open"))},n.onsuccess=t=>{e(t.target.result)},n.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(Te,{keyPath:"compositeKey"})}}}catch(n){t(be.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,s.Z)(function*(){const n=yield t.openDbPromise;return new Promise((i,r)=>{const s=n.transaction([Te],"readonly").objectStore(Te),o=t.createCompositeKey(e);try{const e=s.get(o);e.onerror=e=>{r(Ee(e,"storage-get"))},e.onsuccess=e=>{const t=e.target.result;i(t?t.value:void 0)}}catch(a){r(be.create("storage-get",{originalErrorMessage:a&&a.message}))}})})()}set(e,t){var n=this;return(0,s.Z)(function*(){const i=yield n.openDbPromise;return new Promise((r,s)=>{const o=i.transaction([Te],"readwrite").objectStore(Te),a=n.createCompositeKey(e);try{const e=o.put({compositeKey:a,value:t});e.onerror=e=>{s(Ee(e,"storage-set"))},e.onsuccess=()=>{r()}}catch(l){s(be.create("storage-set",{originalErrorMessage:l&&l.message}))}})})()}delete(e){var t=this;return(0,s.Z)(function*(){const n=yield t.openDbPromise;return new Promise((i,r)=>{const s=n.transaction([Te],"readwrite").objectStore(Te),o=t.createCompositeKey(e);try{const e=s.delete(o);e.onerror=e=>{r(Ee(e,"storage-delete"))},e.onsuccess=()=>{i()}}catch(a){r(be.create("storage-delete",{originalErrorMessage:a&&a.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Ae{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,s.Z)(function*(){const t=e.storage.getLastFetchStatus(),n=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),r=yield t;r&&(e.lastFetchStatus=r);const s=yield n;s&&(e.lastSuccessfulFetchTimestampMillis=s);const o=yield i;o&&(e.activeConfig=o)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function De(){return Re.apply(this,arguments)}function Re(){return(Re=(0,s.Z)(function*(){if(!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(e){return!1}})).apply(this,arguments)}(0,o._registerComponent)(new l.wA("remote-config",function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw be.create("registration-window");if(!(0,a.hl)())throw be.create("indexed-db-unavailable");const{projectId:r,apiKey:s,appId:l}=n.options;if(!r)throw be.create("registration-project-id");if(!s)throw be.create("registration-api-key");if(!l)throw be.create("registration-app-id");const u=new xe(l,n.name,t=t||"firebase"),h=new Ae(u),d=new c.Yd(ye);d.logLevel=c.in.ERROR;const p=new Se(i,o.SDK_VERSION,t,r,s,l),f=new ke(p,u),m=new we(f,u,h,d),g=new Ie(n,m,h,u,d);return function(e){const t=(0,a.m9)(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0}))}(g),g},"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(ye,ve),(0,o.registerVersion)(ye,ve,"esm2017");const Oe="/firebase-messaging-sw.js",Pe="/firebase-cloud-messaging-push-scope",Ne="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";var Le=(()=>(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Le||(Le={})),Le))();function Fe(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Me(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),i=new Uint8Array(n.length);for(let r=0;r<n.length;++r)i[r]=n.charCodeAt(r);return i}const Ve="fcm_token_details_db",Ue="fcm_token_object_Store";function qe(e){return Be.apply(this,arguments)}function Be(){return(Be=(0,s.Z)(function*(e){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(e=>e.name).includes(Ve))return null;let t=null;var n;return(yield(0,u.X3)(Ve,5,{upgrade:(n=(0,s.Z)(function*(n,i,r,s){var o;if(i<2)return;if(!n.objectStoreNames.contains(Ue))return;const a=s.objectStore(Ue),l=yield a.index("fcmSenderId").get(e);if(yield a.clear(),l)if(2===i){const e=l;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(o=e.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:Fe(e.vapidKey)}}}else if(3===i){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Fe(e.auth),p256dh:Fe(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Fe(e.vapidKey)}}}else if(4===i){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Fe(e.auth),p256dh:Fe(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Fe(e.vapidKey)}}}}),function(e,t,i,r){return n.apply(this,arguments)})})).close(),yield(0,u.Lj)(Ve),yield(0,u.Lj)("fcm_vapid_details_db"),yield(0,u.Lj)("undefined"),je(t)?t:null})).apply(this,arguments)}function je(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}const ze="firebase-messaging-store";let Ge=null;function Ze(){return Ge||(Ge=(0,u.X3)("firebase-messaging-database",1,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ze)}}})),Ge}function He(e){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,s.Z)(function*(e){const t=Je(e),n=yield Ze(),i=yield n.transaction(ze).objectStore(ze).get(t);if(i)return i;{const t=yield qe(e.appConfig.senderId);if(t)return yield $e(e,t),t}})).apply(this,arguments)}function $e(e,t){return We.apply(this,arguments)}function We(){return(We=(0,s.Z)(function*(e,t){const n=Je(e),i=(yield Ze()).transaction(ze,"readwrite");return yield i.objectStore(ze).put(t,n),yield i.done,t})).apply(this,arguments)}function Ke(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,s.Z)(function*(e){const t=Je(e),n=(yield Ze()).transaction(ze,"readwrite");yield n.objectStore(ze).delete(t),yield n.done})).apply(this,arguments)}function Je({appConfig:e}){return e.appId}const Xe=new a.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function et(e,t){return tt.apply(this,arguments)}function tt(){return(tt=(0,s.Z)(function*(e,t){const n=yield at(e),i=ct(t),r={method:"POST",headers:n,body:JSON.stringify(i)};let s;try{const t=yield fetch(ot(e.appConfig),r);s=yield t.json()}catch(o){throw Xe.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw Xe.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Xe.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function nt(e,t){return it.apply(this,arguments)}function it(){return(it=(0,s.Z)(function*(e,t){const n=yield at(e),i=ct(t.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(i)};let s;try{const n=yield fetch(`${ot(e.appConfig)}/${t.token}`,r);s=yield n.json()}catch(o){throw Xe.create("token-update-failed",{errorInfo:o})}if(s.error)throw Xe.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Xe.create("token-update-no-token");return s.token})).apply(this,arguments)}function rt(e,t){return st.apply(this,arguments)}function st(){return(st=(0,s.Z)(function*(e,t){const n={method:"DELETE",headers:yield at(e)};try{const i=yield fetch(`${ot(e.appConfig)}/${t}`,n),r=yield i.json();if(r.error)throw Xe.create("token-unsubscribe-failed",{errorInfo:r.error.message})}catch(i){throw Xe.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function ot({projectId:e}){return`https://fcmregistrations.googleapis.com/v1/projects/${e}/registrations`}function at(e){return lt.apply(this,arguments)}function lt(){return(lt=(0,s.Z)(function*({appConfig:e,installations:t}){const n=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function ct({p256dh:e,auth:t,endpoint:n,vapidKey:i}){const r={web:{endpoint:n,auth:t,p256dh:e}};return i!==Ne&&(r.web.applicationPubKey=i),r}const ut=6048e5;function ht(e){return dt.apply(this,arguments)}function dt(){return(dt=(0,s.Z)(function*(e){const t=yield vt(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Fe(t.getKey("auth")),p256dh:Fe(t.getKey("p256dh"))},i=yield He(e.firebaseDependencies);if(i){if(wt(i.subscriptionOptions,n))return Date.now()>=i.createTime+ut?mt(e,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{yield rt(e.firebaseDependencies,i.token)}catch(r){console.warn(r)}return _t(e.firebaseDependencies,n)}return _t(e.firebaseDependencies,n)})).apply(this,arguments)}function pt(e){return ft.apply(this,arguments)}function ft(){return(ft=(0,s.Z)(function*(e){const t=yield He(e.firebaseDependencies);t&&(yield rt(e.firebaseDependencies,t.token),yield Ke(e.firebaseDependencies));const n=yield e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function mt(e,t){return gt.apply(this,arguments)}function gt(){return(gt=(0,s.Z)(function*(e,t){try{const n=yield nt(e.firebaseDependencies,t),i=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return yield $e(e.firebaseDependencies,i),n}catch(n){throw yield pt(e),n}})).apply(this,arguments)}function _t(e,t){return yt.apply(this,arguments)}function yt(){return(yt=(0,s.Z)(function*(e,t){const n={token:yield et(e,t),createTime:Date.now(),subscriptionOptions:t};return yield $e(e,n),n.token})).apply(this,arguments)}function vt(e,t){return bt.apply(this,arguments)}function bt(){return(bt=(0,s.Z)(function*(e,t){return(yield e.pushManager.getSubscription())||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Me(t)})})).apply(this,arguments)}function wt(e,t){return t.vapidKey===e.vapidKey&&t.endpoint===e.endpoint&&t.auth===e.auth&&t.p256dh===e.p256dh}function Ct(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const i=t.notification.body;i&&(e.notification.body=i);const r=t.notification.image;r&&(e.notification.image=r)}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(!t.fcmOptions)return;e.fcmOptions={};const n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);const i=t.fcmOptions.analytics_label;i&&(e.fcmOptions.analyticsLabel=i)}(t,e),t}function St(e){return"object"==typeof e&&!!e&&"google.c.a.c_id"in e}function kt(e,t){const n=[];for(let i=0;i<e.length;i++)n.push(e.charAt(i)),i<t.length&&n.push(t.charAt(i));return n.join("")}function It(e){return Xe.create("missing-app-config-values",{valueName:e})}kt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),kt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Et{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function(e){if(!e||!e.options)throw It("App Configuration Object");if(!e.name)throw It("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const i of t)if(!n[i])throw It(i);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}function Tt(e){return xt.apply(this,arguments)}function xt(){return(xt=(0,s.Z)(function*(e){try{e.swRegistration=yield navigator.serviceWorker.register(Oe,{scope:Pe}),e.swRegistration.update().catch(()=>{})}catch(t){throw Xe.create("failed-service-worker-registration",{browserErrorMessage:t.message})}})).apply(this,arguments)}function At(e,t){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,s.Z)(function*(e,t){if(t||e.swRegistration||(yield Tt(e)),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw Xe.create("invalid-sw-registration");e.swRegistration=t}})).apply(this,arguments)}function Rt(e,t){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,s.Z)(function*(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Ne)})).apply(this,arguments)}function Pt(){return(Pt=(0,s.Z)(function*(e,t){if(!navigator)throw Xe.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Xe.create("permission-blocked");return yield Rt(e,null==t?void 0:t.vapidKey),yield At(e,null==t?void 0:t.serviceWorkerRegistration),ht(e)})).apply(this,arguments)}function Nt(e,t,n){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,s.Z)(function*(e,t,n){const i=Ft(t);(yield e.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n["google.c.a.c_id"],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ft(e){switch(e){case Le.NOTIFICATION_CLICKED:return"notification_open";case Le.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Mt(){return(Mt=(0,s.Z)(function*(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Le.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(Ct(n)):e.onMessageHandler.next(Ct(n)));const i=n.data;St(i)&&"1"===i["google.c.a.e"]&&(yield Nt(e,n.messageType,i))})).apply(this,arguments)}const Vt="@firebase/messaging",Ut="0.9.13";function qt(){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,s.Z)(function*(){try{yield(0,a.eu)()}catch(e){return!1}return"undefined"!=typeof window&&(0,a.hl)()&&(0,a.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,o._registerComponent)(new l.wA("messaging",e=>{const t=new Et(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>function(e,t){return Mt.apply(this,arguments)}(t,e)),t},"PUBLIC")),(0,o._registerComponent)(new l.wA("messaging-internal",e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>function(e,t){return Pt.apply(this,arguments)}(t,e)}},"PRIVATE")),(0,o.registerVersion)(Vt,Ut),(0,o.registerVersion)(Vt,Ut,"esm2017");const jt="analytics",zt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gt="https://www.googletagmanager.com/gtag/js",Zt=new c.Yd("@firebase/analytics");function Ht(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function Yt(e,t){const n=document.createElement("script");n.src=`${Gt}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}function $t(e,t,n,i,r,s){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,s.Z)(function*(e,t,n,i,r,s){const o=i[r];try{if(o)yield t[o];else{const e=(yield Ht(n)).find(e=>e.measurementId===r);e&&(yield t[e.appId])}}catch(a){Zt.error(a)}e("config",r,s)})).apply(this,arguments)}function Kt(e,t,n,i,r){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,s.Z)(function*(e,t,n,i,r){try{let s=[];if(r&&r.send_to){let e=r.send_to;Array.isArray(e)||(e=[e]);const i=yield Ht(n);for(const n of e){const e=i.find(e=>e.measurementId===n),r=e&&t[e.appId];if(!r){s=[];break}s.push(r)}}0===s.length&&(s=Object.values(t)),yield Promise.all(s),e("event",i,r||{})}catch(s){Zt.error(s)}})).apply(this,arguments)}function Jt(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Gt))return t;return null}const Xt=new a.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),en=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function tn(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function nn(e){return rn.apply(this,arguments)}function rn(){return(rn=(0,s.Z)(function*(e){var t;const{appId:n,apiKey:i}=e,r={method:"GET",headers:tn(i)},s=zt.replace("{app-id}",n),o=yield fetch(s,r);if(200!==o.status&&304!==o.status){let e="";try{const n=yield o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw Xt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()})).apply(this,arguments)}function sn(e){return on.apply(this,arguments)}function on(){return(on=(0,s.Z)(function*(e,t=en,n){const{appId:i,apiKey:r,measurementId:o}=e.options;if(!i)throw Xt.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw Xt.create("no-api-key")}const a=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new hn;return setTimeout((0,s.Z)(function*(){l.abort()}),void 0!==n?n:6e4),an({appId:i,apiKey:r,measurementId:o},a,l,t)})).apply(this,arguments)}function an(e,t,n){return ln.apply(this,arguments)}function ln(){return(ln=(0,s.Z)(function*(e,{throttleEndTimeMillis:t,backoffCount:n},i,r=en){const{appId:s,measurementId:o}=e;try{yield cn(i,t)}catch(l){if(o)return Zt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l.message}]`),{appId:s,measurementId:o};throw l}try{const t=yield nn(e);return r.deleteThrottleMetadata(s),t}catch(l){if(!un(l)){if(r.deleteThrottleMetadata(s),o)return Zt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l.message}]`),{appId:s,measurementId:o};throw l}const t=503===Number(l.customData.httpStatus)?(0,a.$s)(n,r.intervalMillis,30):(0,a.$s)(n,r.intervalMillis),c={throttleEndTimeMillis:Date.now()+t,backoffCount:n+1};return r.setThrottleMetadata(s,c),Zt.debug(`Calling attemptFetch again in ${t} millis`),an(e,c,i,r)}})).apply(this,arguments)}function cn(e,t){return new Promise((n,i)=>{const r=Math.max(t-Date.now(),0),s=setTimeout(n,r);e.addEventListener(()=>{clearTimeout(s),i(Xt.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function un(e){if(!(e instanceof a.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}class hn{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function dn(){return pn.apply(this,arguments)}function pn(){return(pn=(0,s.Z)(function*(){if(!(0,a.hl)())return Zt.warn(Xt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,a.eu)()}catch(e){return Zt.warn(Xt.create("indexeddb-unavailable",{errorInfo:e}).message),!1}return!0})).apply(this,arguments)}function fn(){return(fn=(0,s.Z)(function*(e,t,n,i,r,s,o){var a;const l=sn(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Zt.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>Zt.error(e)),t.push(l);const c=dn().then(e=>e?i.getId():void 0),[u,h]=yield Promise.all([l,c]);Jt()||Yt(s,u.measurementId),r("js",new Date);const d=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),r("config",u.measurementId,d),u.measurementId})).apply(this,arguments)}class mn{constructor(e){this.app=e}_delete(){return delete gn[this.app.options.appId],Promise.resolve()}}let gn={},_n=[];const yn={};let vn,bn,wn="dataLayer",Cn=!1;function Sn(){return(Sn=(0,s.Z)(function*(e,t,n,i,r){if(r&&r.global)e("event",n,i);else{const r=yield t;e("event",n,Object.assign(Object.assign({},i),{send_to:r}))}})).apply(this,arguments)}function kn(){return In.apply(this,arguments)}function In(){return(In=(0,s.Z)(function*(){if((0,a.ru)())return!1;if(!(0,a.zI)())return!1;if(!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(e){return!1}})).apply(this,arguments)}const En="@firebase/analytics",Tn="0.7.9";(0,o._registerComponent)(new l.wA(jt,(e,{options:t})=>function(e,t,n){!function(){const e=[];if((0,a.ru)()&&e.push("This is a browser extension environment."),(0,a.zI)()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),n=Xt.create("invalid-analytics-context",{errorInfo:t});Zt.warn(n.message)}}();const i=e.options.appId;if(!i)throw Xt.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Xt.create("no-api-key");Zt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=gn[i])throw Xt.create("already-exists",{id:i});if(!Cn){!function(e){let t=[];Array.isArray(window.dataLayer)?t=window.dataLayer:window.dataLayer=t}();const{wrappedGtag:e,gtagCore:t}=function(e,t,n,i,r){let o=function(...e){window.dataLayer.push(arguments)};return window.gtag&&"function"==typeof window.gtag&&(o=window.gtag),window.gtag=function(e,t,n,i){function r(){return(r=(0,s.Z)(function*(r,s,o){try{"event"===r?yield Kt(e,t,n,s,o):"config"===r?yield $t(e,t,n,i,s,o):e("set",s)}catch(a){Zt.error(a)}})).apply(this,arguments)}return function(e,t,n){return r.apply(this,arguments)}}(o,e,t,n),{gtagCore:o,wrappedGtag:window.gtag}}(gn,_n,yn);bn=e,vn=t,Cn=!0}return gn[i]=function(e,t,n,i,r,s,o){return fn.apply(this,arguments)}(e,_n,yn,t,vn,wn,n),new mn(e)}(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,o._registerComponent)(new l.wA("analytics-internal",function(e){try{const t=e.getProvider(jt).getImmediate();return{logEvent:(e,n,i)=>function(e,t,n,i){e=(0,a.m9)(e),function(e,t,n,i,r){return Sn.apply(this,arguments)}(bn,gn[e.app.options.appId],t,n,i).catch(e=>Zt.error(e))}(t,e,n,i)}}catch(t){throw Xt.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,o.registerVersion)(En,Tn),(0,o.registerVersion)(En,Tn,"esm2017");var xn=n(7771),An=n(3637),Dn=n(3342),Rn=n(9673),On=n(6136);const Pn=new i.GfV("7.4.1"),Nn="__angularfire_symbol__analyticsIsSupportedValue",Ln="__angularfire_symbol__analyticsIsSupported",Fn="__angularfire_symbol__remoteConfigIsSupportedValue",Mn="__angularfire_symbol__remoteConfigIsSupported",Vn="__angularfire_symbol__messagingIsSupportedValue",Un="__angularfire_symbol__messagingIsSupported";function qn(e,t,n){if(t){if(1===t.length)return t[0];const e=t.filter(e=>e.app===n);if(1===e.length)return e[0]}return n.container.getProvider(e).getImmediate({optional:!0})}globalThis[Ln]||(globalThis[Ln]=kn().then(e=>globalThis[Nn]=e).catch(()=>globalThis[Nn]=!1)),globalThis[Un]||(globalThis[Un]=qt().then(e=>globalThis[Vn]=e).catch(()=>globalThis[Vn]=!1)),globalThis[Mn]||(globalThis[Mn]=De().then(e=>globalThis[Fn]=e).catch(()=>globalThis[Fn]=!1));const Bn=(e,t)=>{const n=t?[t]:(0,r.C6)(),i=[];return n.forEach(t=>{t.container.getProvider(e).instances.forEach(e=>{i.includes(e)||i.push(e)})}),i};function jn(){}class zn{constructor(e,t=xn.N){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const i=this.zone;return this.delegate.schedule(function(t){i.runGuarded(()=>{e.apply(this,[t])})},t,n)}}class Gn{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",jn,{},jn,jn)),t.pipe((0,Dn.b)({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zn=(()=>{class e{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new zn(Zone.current)),this.insideAngular=e.run(()=>new zn(Zone.current,An.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.R0b))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Hn(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}function Yn(e){return Hn(),(t=Hn(),function(e){return(e=e.lift(new Gn(t.ngZone))).pipe((0,Rn.R)(t.outsideAngular),(0,On.QV)(t.insideAngular))})(e);var t}},156:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(3854),r=n(8604),s=n(279),o=n(9306);class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,s._addComponent)(e,new r.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate)))}_getService(e,t=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return i.isInitialized()||"EXPLICIT"!==(null===(n=i.getComponent())||void 0===n?void 0:n.instantiationMode)||i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,s._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,s._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const l=new i.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),c=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(r,o={}){const a=s.initializeApp(r,o);if((0,i.r3)(t,a.name))return t[a.name];const l=new e(a,n);return t[a.name]=l,l},app:r,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function(t){const o=t.name,a=o.replace("-compat","");if(s._registerComponent(t)&&"PUBLIC"===t.type){const s=(e=r())=>{if("function"!=typeof e[a])throw l.create("invalid-app-argument",{appName:o});return e[a]()};void 0!==t.serviceProps&&(0,i.ZB)(s,t.serviceProps),n[a]=s,e.prototype[a]=function(...e){return this._getService.bind(this,o).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:s}};function r(e){if(!(0,i.r3)(t,e=e||s._DEFAULT_ENTRY_NAME))throw l.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),r.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,i.ZB)(t,e)},createSubscribe:i.ne,ErrorFactory:i.LL,deepExtend:i.ZB}),t}(),u=new o.Yd("@firebase/app-compat");if((0,i.jU)()&&void 0!==self.firebase){u.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&u.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=c;(0,s.registerVersion)("@firebase/app-compat","0.1.26",void 0)},279:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FirebaseError:()=>o.ZR,SDK_VERSION:()=>k,_DEFAULT_ENTRY_NAME:()=>d,_addComponent:()=>g,_addOrOverwriteComponent:()=>_,_apps:()=>f,_clearComponents:()=>w,_components:()=>m,_getProvider:()=>v,_registerComponent:()=>y,_removeServiceInstance:()=>b,deleteApp:()=>x,getApp:()=>E,getApps:()=>T,initializeApp:()=>I,onLog:()=>R,registerVersion:()=>D,setLogLevel:()=>O});var i=n(6304),r=n(8604),s=n(9306),o=n(3854),a=n(6508);class l{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const c="@firebase/app",u="0.7.25",h=new s.Yd("@firebase/app"),d="[DEFAULT]",p={[c]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},f=new Map,m=new Map;function g(e,t){try{e.container.addComponent(t)}catch(n){h.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function _(e,t){e.container.addOrOverwriteComponent(t)}function y(e){const t=e.name;if(m.has(t))return h.debug(`There were multiple attempts to register component ${t}.`),!1;m.set(t,e);for(const n of f.values())g(n,e);return!0}function v(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function b(e,t,n=d){v(e,t).clearInstance(n)}function w(){m.clear()}const C=new o.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class S{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw C.create("app-deleted",{appName:this._name})}}const k="9.8.2";function I(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:d,automaticDataCollectionEnabled:!1},t),i=n.name;if("string"!=typeof i||!i)throw C.create("bad-app-name",{appName:String(i)});const s=f.get(i);if(s){if((0,o.vZ)(e,s.options)&&(0,o.vZ)(n,s.config))return s;throw C.create("duplicate-app",{appName:i})}const a=new r.H0(i);for(const r of m.values())a.addComponent(r);const l=new S(e,n,a);return f.set(i,l),l}function E(e=d){const t=f.get(e);if(!t)throw C.create("no-app",{appName:e});return t}function T(){return Array.from(f.values())}function x(e){return A.apply(this,arguments)}function A(){return(A=(0,i.Z)(function*(e){const t=e.name;f.has(t)&&(f.delete(t),yield Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)})).apply(this,arguments)}function D(e,t,n){var i;let s=null!==(i=p[e])&&void 0!==i?i:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${s}" with version "${t}":`];return o&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void h.warn(e.join(" "))}y(new r.wA(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}function R(e,t){if(null!==e&&"function"!=typeof e)throw C.create("invalid-log-argument");(0,s.Am)(e,t)}function O(e){(0,s.Ub)(e)}const P="firebase-heartbeat-store";let N=null;function L(){return N||(N=(0,a.X3)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(P)}}}).catch(e=>{throw C.create("storage-open",{originalErrorMessage:e.message})})),N}function F(){return(F=(0,i.Z)(function*(e){try{return(yield L()).transaction(P).objectStore(P).get(U(e))}catch(t){throw C.create("storage-get",{originalErrorMessage:t.message})}})).apply(this,arguments)}function M(e,t){return V.apply(this,arguments)}function V(){return(V=(0,i.Z)(function*(e,t){try{const n=(yield L()).transaction(P,"readwrite"),i=n.objectStore(P);return yield i.put(t,U(e)),n.done}catch(n){throw C.create("storage-set",{originalErrorMessage:n.message})}})).apply(this,arguments)}function U(e){return`${e.name}!${e.options.appId}`}class q{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new j(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}triggerHeartbeat(){var e=this;return(0,i.Z)(function*(){const t=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=B();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==n&&!e._heartbeatsCache.heartbeats.some(e=>e.date===n))return e._heartbeatsCache.heartbeats.push({date:n,agent:t}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return(0,i.Z)(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=B(),{heartbeatsToSend:n,unsentEntries:i}=function(e,t=1024){const n=[];let i=e.slice();for(const r of e){const e=n.find(e=>e.agent===r.agent);if(e){if(e.dates.push(r.date),z(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),z(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(e._heartbeatsCache.heartbeats),r=(0,o.L)(JSON.stringify({version:2,heartbeats:n}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),r})()}}function B(){return(new Date).toISOString().substring(0,10)}class j{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,i.Z)(function*(){return!!(0,o.hl)()&&(0,o.eu)().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,i.Z)(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function(e){return F.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return(0,i.Z)(function*(){var n;if(yield t._canUseIndexedDBPromise){const i=yield t.read();return M(t.app,{lastSentHeartbeatDate:null!==(n=e.lastSentHeartbeatDate)&&void 0!==n?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return(0,i.Z)(function*(){var n;if(yield t._canUseIndexedDBPromise){const i=yield t.read();return M(t.app,{lastSentHeartbeatDate:null!==(n=e.lastSentHeartbeatDate)&&void 0!==n?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}})()}}function z(e){return(0,o.L)(JSON.stringify({version:2,heartbeats:e})).length}y(new r.wA("platform-logger",e=>new l(e),"PRIVATE")),y(new r.wA("heartbeat",e=>new q(e),"PRIVATE")),D(c,u,""),D(c,u,"esm2017"),D("fire-js","")},8604:(e,t,n)=>{"use strict";n.d(t,{wA:()=>s,H0:()=>l,zt:()=>a});var i=n(6304),r=n(3854);class s{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const o="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:i});n.resolve(e)}catch(t){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,i.Z)(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,s]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(r)&&s.resolve(i);return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(i){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(i=e,i===o?void 0:i),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(r){}var i;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class l{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},9306:(e,t,n)=>{"use strict";n.d(t,{in:()=>r,Yd:()=>c,Ub:()=>u,Am:()=>h});const i=[];var r=(()=>(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(r||(r={})),r))();const s={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},o=r.INFO,a={[r.DEBUG]:"log",[r.VERBOSE]:"log",[r.INFO]:"info",[r.WARN]:"warn",[r.ERROR]:"error"},l=(e,t,...n)=>{if(t<e.logLevel)return;const i=(new Date).toISOString(),r=a[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${e.name}:`,...n)};class c{constructor(e){this.name=e,this._logLevel=o,this._logHandler=l,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in r))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,r.DEBUG,...e),this._logHandler(this,r.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,r.VERBOSE,...e),this._logHandler(this,r.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,r.INFO,...e),this._logHandler(this,r.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,r.WARN,...e),this._logHandler(this,r.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,r.ERROR,...e),this._logHandler(this,r.ERROR,...e)}}function u(e){i.forEach(t=>{t.setLogLevel(e)})}function h(e,t){for(const n of i){let i=null;t&&t.level&&(i=s[t.level]),n.userLogHandler=null===e?null:(t,n,...s)=>{const o=s.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(e=>e).join(" ");n>=(null!=i?i:t.logLevel)&&e({level:r[n].toLowerCase(),message:o,args:s,type:t.name})}}}},3854:(e,t,n)=>{"use strict";n.d(t,{BH:()=>d,LL:()=>A,ZR:()=>x,gQ:()=>Z,zI:()=>T,hu:()=>i,g5:()=>r,US:()=>o,tV:()=>c,h$:()=>a,L:()=>l,$s:()=>te,r3:()=>F,Sg:()=>p,ne:()=>H,p$:()=>u,vZ:()=>q,ZB:()=>h,gK:()=>K,pd:()=>G,m9:()=>ne,z$:()=>f,GJ:()=>L,jU:()=>_,ru:()=>y,d:()=>b,xb:()=>V,w1:()=>w,hl:()=>I,uI:()=>m,UG:()=>g,Yr:()=>S,b$:()=>v,G6:()=>k,Mn:()=>C,w9:()=>N,cI:()=>R,UI:()=>U,xO:()=>j,zd:()=>z,DV:()=>M,ug:()=>ee,dS:()=>X,Pz:()=>O,Dv:()=>W,Wj:()=>Q,lb:()=>J,eu:()=>E});const i=function(e,t){if(!e)throw r(t)},r=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},s=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const t=e[r],s=r+1<e.length,o=s?e[r+1]:0,a=r+2<e.length,l=a?e[r+2]:0;let c=(15&o)<<2|l>>6,u=63&l;a||(u=64,s||(c=64)),i.push(n[t>>2],n[(3&t)<<4|o>>4],n[c],n[u])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(s>>10)),t[i++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const t=n[e.charAt(r++)],s=r<e.length?n[e.charAt(r)]:0;++r;const o=r<e.length?n[e.charAt(r)]:64;++r;const a=r<e.length?n[e.charAt(r)]:64;if(++r,null==t||null==s||null==o||null==a)throw Error();i.push(t<<2|s>>4),64!==o&&(i.push(s<<4&240|o>>2),64!==a&&i.push(o<<6&192|a))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},a=function(e){const t=s(e);return o.encodeByteArray(t,!0)},l=function(e){return a(e).replace(/\./g,"")},c=function(e){try{return o.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function u(e){return h(void 0,e)}function h(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=h(e[n],t[n]));return e}class d{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function p(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(s)),""].join(".")}function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())}function g(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function _(){return"object"==typeof self&&self.self===self}function y(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function v(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function b(){return f().indexOf("Electron/")>=0}function w(){const e=f();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function C(){return f().indexOf("MSAppHost/")>=0}function S(){return!1}function k(){return!g()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function I(){return"object"==typeof indexedDB}function E(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function T(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class x extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,x.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,A.prototype.create)}}class A{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,r=this.errors[e],s=r?function(e,t){return e.replace(D,(e,n)=>{const i=t[n];return null!=i?String(i):`<${n}?>`})}(r,n):"Error";return new x(i,`${this.serviceName}: ${s} (${i}).`,n)}}const D=/\{\$([^}]+)}/g;function R(e){return JSON.parse(e)}function O(e){return JSON.stringify(e)}const P=function(e){let t={},n={},i={},r="";try{const s=e.split(".");t=R(c(s[0])||""),n=R(c(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:i,signature:r}},N=function(e){const t=P(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},L=function(e){const t=P(e).claims;return"object"==typeof t&&!0===t.admin};function F(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function V(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function U(e,t,n){const i={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function q(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const n=e[r],s=t[r];if(B(n)&&B(s)){if(!q(n,s))return!1}else if(n!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function B(e){return null!==e&&"object"==typeof e}function j(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function z(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,i]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(i)}}),t}function G(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Z{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let i,r,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(i=l^o&(a^l),r=1518500249):(i=o^a^l,r=1859775393):u<60?(i=o&a|l&(o|a),r=2400959708):(i=o^a^l,r=3395469782);const e=(s<<5|s>>>27)+i+c+r+n[u]&4294967295;c=l,l=a,a=4294967295&(o<<30|o>>>2),o=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let i=0;const r=this.buf_;let s=this.inbuf_;for(;i<t;){if(0===s)for(;i<=n;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(r[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(r),s=0;break}}else for(;i<t;)if(r[s]=e[i],++s,++i,s===this.blockSize){this.compress_(r),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let i=0;i<5;i++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[i]>>t&255,++n;return e}}function H(e,t){const n=new Y(e,t);return n.subscribe.bind(n)}class Y{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of["next","error","complete"])if(n in e&&"function"==typeof e[n])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=$),void 0===i.error&&(i.error=$),void 0===i.complete&&(i.complete=$);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(e){}}),this.observers.push(i),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $(){}const W=function(e,t,n,i){let r;if(i<t?r="at least "+t:i>n&&(r=0===n?"none":"no more than "+n),r)throw new Error(e+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")};function K(e,t){return`${e} failed: ${t} argument `}function Q(e,t,n,i){if((!i||n)&&"function"!=typeof n)throw new Error(K(e,t)+"must be a valid function.")}function J(e,t,n,i){if((!i||n)&&("object"!=typeof n||null===n))throw new Error(K(e,t)+"must be a valid context object.")}const X=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);if(s>=55296&&s<=56319){const t=s-55296;r++,i(r<e.length,"Surrogate pair missing trail surrogate."),s=65536+(t<<10)+(e.charCodeAt(r)-56320)}s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):s<65536?(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},ee=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};function te(e,t=1e3,n=2){const i=t*Math.pow(n,e),r=Math.round(.5*i*(Math.random()-.5)*2);return Math.min(144e5,i+r)}function ne(e){return e&&e._delegate?e._delegate:e}},2329:(e,t,n)=>{"use strict";n.d(t,{Mq:()=>i.getApp,C6:()=>i.getApps});var i=n(279);(0,i.registerVersion)("firebase","9.8.2","app")},7841:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i.Z});var i=n(156);i.Z.registerVersion("firebase","9.8.2","app-compat")},2385:(e,t,n)=>{"use strict";n.r(t);var i=n(6304),r=n(156),s=n(3854),o=n(279);function a(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}var l=n(9306),c=n(8604);const u=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},h=new s.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),d=new l.Yd("@firebase/auth");function p(e,...t){d.logLevel<=l.in.ERROR&&d.error(`Auth (${o.SDK_VERSION}): ${e}`,...t)}function f(e,...t){throw y(e,...t)}function m(e,...t){return y(e,...t)}function g(e,t,n){const i=Object.assign(Object.assign({},{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),{[t]:n});return new s.LL("auth","Firebase",i).create(t,{appName:e.name})}function _(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&f(e,"argument-error"),g(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function y(e,...t){if("string"!=typeof e){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return h.create(e,...t)}function v(e,t,...n){if(!e)throw y(t,...n)}function b(e){const t="INTERNAL ASSERTION FAILED: "+e;throw p(t),new Error(t)}function w(e,t){e||b(t)}const C=new Map;function S(e){w(e instanceof Function,"Expected a class definition");let t=C.get(e);return t?(w(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,C.set(e,t),t)}function k(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function I(){return"http:"===E()||"https:"===E()}function E(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class T{constructor(e,t){this.shortDelay=e,this.longDelay=t,w(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,s.uI)()||(0,s.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(I()||(0,s.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function x(e,t){w(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class A{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void b("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void b("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void b("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const D={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},R=new T(3e4,6e4);function O(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function P(e,t,n,i){return N.apply(this,arguments)}function N(){return(N=(0,i.Z)(function*(e,t,n,r,o={}){return L(e,o,(0,i.Z)(function*(){let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=(0,s.xO)(Object.assign({key:e.config.apiKey},o)).slice(1),l=yield e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),A.fetch()(U(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},i))}))})).apply(this,arguments)}function L(e,t,n){return F.apply(this,arguments)}function F(){return(F=(0,i.Z)(function*(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},D),t);try{const t=new q(e),r=yield Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=yield r.json();if("needConfirmation"in s)throw B(e,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const t=r.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw B(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw B(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw B(e,"user-disabled",s);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw g(e,a,o);f(e,a)}}catch(r){if(r instanceof s.ZR)throw r;f(e,"network-request-failed")}})).apply(this,arguments)}function M(e,t,n,i){return V.apply(this,arguments)}function V(){return(V=(0,i.Z)(function*(e,t,n,i,r={}){const s=yield P(e,t,n,i,r);return"mfaPendingCredential"in s&&f(e,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function U(e,t,n,i){const r=`${t}${n}?${i}`;return e.config.emulator?x(e.config,r):`${e.config.apiScheme}://${r}`}class q{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(m(this.auth,"network-request-failed")),R.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function B(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=m(e,t,i);return r.customData._tokenResponse=n,r}function j(){return(j=(0,i.Z)(function*(e,t){return P(e,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function z(e,t){return G.apply(this,arguments)}function G(){return(G=(0,i.Z)(function*(e,t){return P(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function Z(e,t){return H.apply(this,arguments)}function H(){return(H=(0,i.Z)(function*(e,t){return P(e,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function Y(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function $(){return($=(0,i.Z)(function*(e,t=!1){const n=(0,s.m9)(e),i=yield n.getIdToken(t),r=K(i);v(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o="object"==typeof r.firebase?r.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:Y(W(r.auth_time)),issuedAtTime:Y(W(r.iat)),expirationTime:Y(W(r.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}})).apply(this,arguments)}function W(e){return 1e3*Number(e)}function K(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return p("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,s.tV)(n);return e?JSON.parse(e):(p("Failed to decode base64 JWT payload"),null)}catch(r){return p("Caught error parsing JWT payload as JSON",r),null}}function Q(e,t){return J.apply(this,arguments)}function J(){return(J=(0,i.Z)(function*(e,t,n=!1){if(n)return t;try{return yield t}catch(i){throw i instanceof s.ZR&&X(i)&&e.auth.currentUser===e&&(yield e.auth.signOut()),i}})).apply(this,arguments)}function X({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}class ee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout((0,i.Z)(function*(){yield t.iteration()}),n)}iteration(){var e=this;return(0,i.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class te{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Y(this.lastLoginAt),this.creationTime=Y(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ne(e){return ie.apply(this,arguments)}function ie(){return(ie=(0,i.Z)(function*(e){var t;const n=e.auth,i=yield e.getIdToken(),r=yield Q(e,Z(n,{idToken:i}));v(null==r?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?oe(s.providerUserInfo):[],a=se(e.providerData,o),l=!!e.isAnonymous&&!(e.email&&s.passwordHash||(null==a?void 0:a.length)),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new te(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(e,c)})).apply(this,arguments)}function re(){return(re=(0,i.Z)(function*(e){const t=(0,s.m9)(e);yield ne(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function se(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function oe(e){return e.map(e=>{var{providerId:t}=e,n=a(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function ae(){return(ae=(0,i.Z)(function*(e,t){const n=yield L(e,{},(0,i.Z)(function*(){const n=(0,s.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:r}=e.config,o=U(e,i,"/v1/token",`key=${r}`),a=yield e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",A.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class le{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){v(e.idToken,"internal-error"),v(void 0!==e.idToken,"internal-error"),v(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=K(e);return v(t,"internal-error"),v(void 0!==t.exp,"internal-error"),v(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var n=this;return(0,i.Z)(function*(){return v(!n.accessToken||n.refreshToken,e,"user-token-expired"),t||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(e,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var n=this;return(0,i.Z)(function*(){const{accessToken:i,refreshToken:r,expiresIn:s}=yield function(e,t){return ae.apply(this,arguments)}(e,t);n.updateTokensAndExpiration(i,r,Number(s))})()}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:r}=t,s=new le;return n&&(v("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),i&&(v("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),r&&(v("number"==typeof r,"internal-error",{appName:e}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new le,this.toJSON())}_performRefresh(){return b("not implemented")}}function ce(e,t){v("string"==typeof e||void 0===e,"internal-error",{appName:t})}class ue{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,r=a(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new te(r.createdAt||void 0,r.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,i.Z)(function*(){const n=yield Q(t,t.stsTokenManager.getToken(t.auth,e));return v(n,t.auth,"internal-error"),t.accessToken!==n&&(t.accessToken=n,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),n})()}getIdTokenResult(e){return function(e){return $.apply(this,arguments)}(this,e)}reload(){return function(e){return re.apply(this,arguments)}(this)}_assign(e){this!==e&&(v(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ue(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var n=this;return(0,i.Z)(function*(){let i=!1;e.idToken&&e.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield ne(n)),yield n.auth._persistUserIfCurrent(n),i&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var e=this;return(0,i.Z)(function*(){const t=yield e.getIdToken();return yield Q(e,function(e,t){return j.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,r,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,d=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,f=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,_=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:C,stsTokenManager:S}=t;v(y&&S,e,"internal-error");const k=le.fromJSON(this.name,S);v("string"==typeof y,e,"internal-error"),ce(u,e.name),ce(h,e.name),v("boolean"==typeof b,e,"internal-error"),v("boolean"==typeof w,e,"internal-error"),ce(d,e.name),ce(p,e.name),ce(f,e.name),ce(m,e.name),ce(g,e.name),ce(_,e.name);const I=new ue({uid:y,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:f,stsTokenManager:k,createdAt:g,lastLoginAt:_});return C&&Array.isArray(C)&&(I.providerData=C.map(e=>Object.assign({},e))),m&&(I._redirectEventId=m),I}static _fromIdTokenResponse(e,t,n=!1){return(0,i.Z)(function*(){const i=new le;i.updateFromServerResponse(t);const r=new ue({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return yield ne(r),r})()}}const he=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,i.Z)(function*(){return!0})()}_set(e,t){var n=this;return(0,i.Z)(function*(){n.storage[e]=t})()}_get(e){var t=this;return(0,i.Z)(function*(){const n=t.storage[e];return void 0===n?null:n})()}_remove(e){var t=this;return(0,i.Z)(function*(){delete t.storage[e]})()}_addListener(e,t){}_removeListener(e,t){}}return e.type="NONE",e})();function de(e,t,n){return`firebase:${e}:${t}:${n}`}class pe{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=de(this.userKey,i.apiKey,r),this.fullPersistenceKey=de("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,i.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?ue._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,i.Z)(function*(){if(t.persistence===e)return;const n=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,n?t.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,n="authUser"){return(0,i.Z)(function*(){if(!t.length)return new pe(S(he),e,n);const r=(yield Promise.all(t.map(function(){var e=(0,i.Z)(function*(e){if(yield e._isAvailable())return e});return function(t){return e.apply(this,arguments)}}()))).filter(e=>e);let s=r[0]||S(he);const o=de(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=yield n._get(o);if(t){const i=ue._fromJSON(e,t);n!==s&&(a=i),s=n;break}}catch(c){}const l=r.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var e=(0,i.Z)(function*(e){if(e!==s)try{yield e._remove(o)}catch(c){}});return function(t){return e.apply(this,arguments)}}())),new pe(s,e,n)):new pe(s,e,n)})()}}function fe(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ye(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(me(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(be(t))return"Blackberry";if(we(t))return"Webos";if(ge(t))return"Safari";if((t.includes("chrome/")||_e(t))&&!t.includes("edge/"))return"Chrome";if(ve(t))return"Android";{const t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==t?void 0:t.length))return t[1]}return"Other"}function me(e=(0,s.z$)()){return/firefox\//i.test(e)}function ge(e=(0,s.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _e(e=(0,s.z$)()){return/crios\//i.test(e)}function ye(e=(0,s.z$)()){return/iemobile/i.test(e)}function ve(e=(0,s.z$)()){return/android/i.test(e)}function be(e=(0,s.z$)()){return/blackberry/i.test(e)}function we(e=(0,s.z$)()){return/webos/i.test(e)}function Ce(e=(0,s.z$)()){return/iphone|ipad|ipod/i.test(e)}function Se(e=(0,s.z$)()){return Ce(e)||ve(e)||we(e)||be(e)||/windows phone/i.test(e)||ye(e)}function ke(e,t=[]){let n;switch(e){case"Browser":n=fe((0,s.z$)());break;case"Worker":n=`${fe((0,s.z$)())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${o.SDK_VERSION}/${i}`}class Ie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,i)=>{try{n(e(t))}catch(r){i(r)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,i.Z)(function*(){if(t.auth.currentUser===e)return;const n=[];try{for(const i of t.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const e of n)try{e()}catch(r){}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i.message})}})()}}class Ee{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xe(this),this.idTokenSubscription=new xe(this),this.beforeStateQueue=new Ie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){var n=this;return t&&(this._popupRedirectResolver=S(t)),this._initializationPromise=this.queue((0,i.Z)(function*(){var i,r;if(!n._deleted&&(n.persistenceManager=yield pe.create(n,e),!n._deleted)){if(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield n._popupRedirectResolver._initialize(n)}catch(s){}yield n.initializeCurrentUser(t),n.lastNotifiedUid=(null===(r=n.currentUser)||void 0===r?void 0:r.uid)||null,n._deleted||(n._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,i.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();return e.currentUser||t?e.currentUser&&t&&e.currentUser.uid===t.uid?(e._currentUser._assign(t),void(yield e.currentUser.getIdToken())):void(yield e._updateCurrentUser(t,!0)):void 0})()}initializeCurrentUser(e){var t=this;return(0,i.Z)(function*(){var n;const i=yield t.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const i=null===(n=t.redirectUser)||void 0===n?void 0:n._redirectEventId,o=null==r?void 0:r._redirectEventId,a=yield t.tryRedirectSignIn(e);i&&i!==o||!(null==a?void 0:a.user)||(r=a.user,s=!0)}if(!r)return t.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(r)}catch(o){r=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(o))}return r?t.reloadAndSetCurrentUserOrClear(r):t.directlySetCurrentUser(null)}return v(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===r._redirectEventId?t.directlySetCurrentUser(r):t.reloadAndSetCurrentUserOrClear(r)})()}tryRedirectSignIn(e){var t=this;return(0,i.Z)(function*(){let n=null;try{n=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(i){yield t._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,i.Z)(function*(){try{yield ne(e)}catch(n){if("auth/network-request-failed"!==n.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var e=this;return(0,i.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,i.Z)(function*(){const n=e?(0,s.m9)(e):null;return n&&v(n.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(n&&n._clone(t))})()}_updateCurrentUser(e,t=!1){var n=this;return(0,i.Z)(function*(){if(!n._deleted)return e&&v(n.tenantId===e.tenantId,n,"tenant-id-mismatch"),t||(yield n.beforeStateQueue.runMiddleware(e)),n.queue((0,i.Z)(function*(){yield n.directlySetCurrentUser(e),n.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,i.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,i.Z)(function*(){yield t.assertedPersistence.setPersistence(S(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new s.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var n=this;return(0,i.Z)(function*(){const i=yield n.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,i.Z)(function*(){if(!t.redirectPersistenceManager){const n=e&&S(e)||t._popupRedirectResolver;v(n,t,"argument-error"),t.redirectPersistenceManager=yield pe.create(t,[S(n._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,i.Z)(function*(){var n,r;return t._isInitialized&&(yield t.queue((0,i.Z)(function*(){}))),(null===(n=t._currentUser)||void 0===n?void 0:n._redirectEventId)===e?t._currentUser:(null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,i.Z)(function*(){if(e===t.currentUser)return t.queue((0,i.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const r="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return v(s,this,"internal-error"),s.then(()=>r(this.currentUser)),"function"==typeof t?e.addObserver(t,n,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,i.Z)(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ke(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,i.Z)(function*(){var t;const n={"X-Client-Version":e.clientVersion};e.app.options.appId&&(n["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(n["X-Firebase-Client"]=i),n})()}}function Te(e){return(0,s.m9)(e)}class xe{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,s.ne)(e=>this.observer=e)}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ae(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function De(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Re{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return b("not implemented")}_getIdTokenResponse(e){return b("not implemented")}_linkToIdToken(e,t){return b("not implemented")}_getReauthenticationResolver(e){return b("not implemented")}}function Oe(e,t){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,i.Z)(function*(e,t){return P(e,"POST","/v1/accounts:resetPassword",O(e,t))})).apply(this,arguments)}function Ne(e,t){return Le.apply(this,arguments)}function Le(){return(Le=(0,i.Z)(function*(e,t){return P(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function Fe(e,t){return Me.apply(this,arguments)}function Me(){return(Me=(0,i.Z)(function*(e,t){return P(e,"POST","/v1/accounts:update",O(e,t))})).apply(this,arguments)}function Ve(){return(Ve=(0,i.Z)(function*(e,t){return M(e,"POST","/v1/accounts:signInWithPassword",O(e,t))})).apply(this,arguments)}function Ue(e,t){return qe.apply(this,arguments)}function qe(){return(qe=(0,i.Z)(function*(e,t){return P(e,"POST","/v1/accounts:sendOobCode",O(e,t))})).apply(this,arguments)}function Be(e,t){return je.apply(this,arguments)}function je(){return(je=(0,i.Z)(function*(e,t){return Ue(e,t)})).apply(this,arguments)}function ze(e,t){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,i.Z)(function*(e,t){return Ue(e,t)})).apply(this,arguments)}function Ze(e,t){return He.apply(this,arguments)}function He(){return(He=(0,i.Z)(function*(e,t){return Ue(e,t)})).apply(this,arguments)}function Ye(e,t){return $e.apply(this,arguments)}function $e(){return($e=(0,i.Z)(function*(e,t){return Ue(e,t)})).apply(this,arguments)}function We(){return(We=(0,i.Z)(function*(e,t){return M(e,"POST","/v1/accounts:signInWithEmailLink",O(e,t))})).apply(this,arguments)}function Ke(){return(Ke=(0,i.Z)(function*(e,t){return M(e,"POST","/v1/accounts:signInWithEmailLink",O(e,t))})).apply(this,arguments)}class Qe extends Re{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Qe(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Qe(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,i.Z)(function*(){switch(t.signInMethod){case"password":return function(e,t){return Ve.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function(e,t){return We.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:f(e,"internal-error")}})()}_linkToIdToken(e,t){var n=this;return(0,i.Z)(function*(){switch(n.signInMethod){case"password":return Ne(e,{idToken:t,returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(e,t){return Ke.apply(this,arguments)}(e,{idToken:t,email:n._email,oobCode:n._password});default:f(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Je(e,t){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,i.Z)(function*(e,t){return M(e,"POST","/v1/accounts:signInWithIdp",O(e,t))})).apply(this,arguments)}class et extends Re{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new et(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):f("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,r=a(t,["providerId","signInMethod"]);if(!n||!i)return null;const s=new et(n,i);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(e){return Je(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Je(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Je(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,s.xO)(t)}return e}}function tt(e,t){return nt.apply(this,arguments)}function nt(){return(nt=(0,i.Z)(function*(e,t){return P(e,"POST","/v1/accounts:sendVerificationCode",O(e,t))})).apply(this,arguments)}function it(){return(it=(0,i.Z)(function*(e,t){return M(e,"POST","/v1/accounts:signInWithPhoneNumber",O(e,t))})).apply(this,arguments)}function rt(){return(rt=(0,i.Z)(function*(e,t){const n=yield M(e,"POST","/v1/accounts:signInWithPhoneNumber",O(e,t));if(n.temporaryProof)throw B(e,"account-exists-with-different-credential",n);return n})).apply(this,arguments)}const st={USER_NOT_FOUND:"user-not-found"};function ot(){return(ot=(0,i.Z)(function*(e,t){return M(e,"POST","/v1/accounts:signInWithPhoneNumber",O(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),st)})).apply(this,arguments)}class at extends Re{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new at({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new at({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function(e,t){return it.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function(e,t){return rt.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function(e,t){return ot.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}=e;return n||t||i||r?new at({verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class lt{constructor(e){var t,n,i,r,o,a;const l=(0,s.zd)((0,s.pd)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);v(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=null!==(r=l.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,s.zd)((0,s.pd)(e)).link,n=t?(0,s.zd)((0,s.pd)(t)).deep_link_id:null,i=(0,s.zd)((0,s.pd)(e)).deep_link_id;return(i?(0,s.zd)((0,s.pd)(i)).link:null)||i||n||t||e}(e);try{return new lt(t)}catch(n){return null}}}let ct=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return Qe._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=lt.parseLink(t);return v(n,"argument-error"),Qe._fromEmailAndCode(e,n.code,n.tenantId)}}return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e})();class ut{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ht extends ut{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class dt extends ht{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return v("providerId"in t&&"signInMethod"in t,"argument-error"),et._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return v(e.idToken||e.accessToken,"argument-error"),et._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return dt.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return dt.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:i,pendingToken:r,nonce:s,providerId:o}=e;if(!(n||i||t||r))return null;if(!o)return null;try{return new dt(o)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:r})}catch(a){return null}}}let pt=(()=>{class e extends ht{constructor(){super("facebook.com")}static credential(t){return et._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(),ft=(()=>{class e extends ht{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return et._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return e.credential(n,i)}catch(r){return null}}}return e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(),mt=(()=>{class e extends ht{constructor(){super("github.com")}static credential(t){return et._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})();class gt extends Re{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Je(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Je(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Je(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i,pendingToken:r}=t;return n&&i&&r&&n===i?new gt(n,r):null}static _create(e,t){return new gt(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _t extends ut{constructor(e){v(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return _t.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return _t.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=gt.fromJSON(e);return v(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return gt._create(n,t)}catch(i){return null}}}let yt=(()=>{class e extends ht{constructor(){super("twitter.com")}static credential(t,n){return et._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return e.credential(n,i)}catch(r){return null}}}return e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})();function vt(e,t){return bt.apply(this,arguments)}function bt(){return(bt=(0,i.Z)(function*(e,t){return M(e,"POST","/v1/accounts:signUp",O(e,t))})).apply(this,arguments)}class wt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,n,r=!1){return(0,i.Z)(function*(){const i=yield ue._fromIdTokenResponse(e,n,r),s=Ct(n);return new wt({user:i,providerId:s,_tokenResponse:n,operationType:t})})()}static _forOperation(e,t,n){return(0,i.Z)(function*(){yield e._updateTokensIfNecessary(n,!0);const i=Ct(n);return new wt({user:e,providerId:i,_tokenResponse:n,operationType:t})})()}}function Ct(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function St(){return(St=(0,i.Z)(function*(e){var t;const n=Te(e);if(yield n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new wt({user:n.currentUser,providerId:null,operationType:"signIn"});const i=yield vt(n,{returnSecureToken:!0}),r=yield wt._fromIdTokenResponse(n,"signIn",i,!0);return yield n._updateCurrentUser(r.user),r})).apply(this,arguments)}class kt extends s.ZR{constructor(e,t,n,i){var r;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,kt.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new kt(e,t,n,i)}}function It(e,t,n,i){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw kt._fromErrorAndOperation(e,n,t,i);throw n})}function Et(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}function Tt(){return(Tt=(0,i.Z)(function*(e,t){const n=(0,s.m9)(e);yield Dt(!0,n,t);const{providerUserInfo:i}=yield z(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[t]}),r=Et(i||[]);return n.providerData=n.providerData.filter(e=>r.has(e.providerId)),r.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})).apply(this,arguments)}function xt(e,t){return At.apply(this,arguments)}function At(){return(At=(0,i.Z)(function*(e,t,n=!1){const i=yield Q(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return wt._forOperation(e,"link",i)})).apply(this,arguments)}function Dt(e,t,n){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,i.Z)(function*(e,t,n){yield ne(t);const i=!1===e?"provider-already-linked":"no-such-provider";v(Et(t.providerData).has(n)===e,t.auth,i)})).apply(this,arguments)}function Ot(e,t){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,i.Z)(function*(e,t,n=!1){const{auth:i}=e,r="reauthenticate";try{const s=yield Q(e,It(i,r,t,e),n);v(s.idToken,i,"internal-error");const o=K(s.idToken);v(o,i,"internal-error");const{sub:a}=o;return v(e.uid===a,i,"user-mismatch"),wt._forOperation(e,r,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&f(i,"user-mismatch"),s}})).apply(this,arguments)}function Nt(e,t){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,i.Z)(function*(e,t,n=!1){const i="signIn",r=yield It(e,i,t),s=yield wt._fromIdTokenResponse(e,i,r);return n||(yield e._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Ft(e,t){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,i.Z)(function*(e,t){return Nt(Te(e),t)})).apply(this,arguments)}function Vt(e,t){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,i.Z)(function*(e,t){const n=(0,s.m9)(e);return yield Dt(!1,n,t.providerId),xt(n,t)})).apply(this,arguments)}function qt(e,t){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,i.Z)(function*(e,t){return Ot((0,s.m9)(e),t)})).apply(this,arguments)}function jt(e,t){return zt.apply(this,arguments)}function zt(){return(zt=(0,i.Z)(function*(e,t){return M(e,"POST","/v1/accounts:signInWithCustomToken",O(e,t))})).apply(this,arguments)}function Gt(){return(Gt=(0,i.Z)(function*(e,t){const n=Te(e),i=yield jt(n,{token:t,returnSecureToken:!0}),r=yield wt._fromIdTokenResponse(n,"signIn",i);return yield n._updateCurrentUser(r.user),r})).apply(this,arguments)}class Zt{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Ht._fromServerResponse(e,t):f(e,"internal-error")}}class Ht extends Zt{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Ht(t)}}function Yt(e,t,n){var i;v((null===(i=n.url)||void 0===i?void 0:i.length)>0,e,"invalid-continue-uri"),v(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(v(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(v(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function $t(){return($t=(0,i.Z)(function*(e,t,n){const i=(0,s.m9)(e),r={requestType:"PASSWORD_RESET",email:t};n&&Yt(i,r,n),yield ze(i,r)})).apply(this,arguments)}function Wt(){return(Wt=(0,i.Z)(function*(e,t,n){yield Oe((0,s.m9)(e),{oobCode:t,newPassword:n})})).apply(this,arguments)}function Kt(){return(Kt=(0,i.Z)(function*(e,t){yield Fe((0,s.m9)(e),{oobCode:t})})).apply(this,arguments)}function Qt(e,t){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,i.Z)(function*(e,t){const n=(0,s.m9)(e),i=yield Oe(n,{oobCode:t}),r=i.requestType;switch(v(r,n,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":v(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":v(i.mfaInfo,n,"internal-error");default:v(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=Zt._fromServerResponse(Te(n),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:r}})).apply(this,arguments)}function Xt(){return(Xt=(0,i.Z)(function*(e,t){const{data:n}=yield Qt((0,s.m9)(e),t);return n.email})).apply(this,arguments)}function en(){return(en=(0,i.Z)(function*(e,t,n){const i=Te(e),r=yield vt(i,{returnSecureToken:!0,email:t,password:n}),s=yield wt._fromIdTokenResponse(i,"signIn",r);return yield i._updateCurrentUser(s.user),s})).apply(this,arguments)}function tn(){return(tn=(0,i.Z)(function*(e,t,n){const i=(0,s.m9)(e),r={requestType:"EMAIL_SIGNIN",email:t};v(n.handleCodeInApp,i,"argument-error"),n&&Yt(i,r,n),yield Ze(i,r)})).apply(this,arguments)}function nn(){return(nn=(0,i.Z)(function*(e,t,n){const i=(0,s.m9)(e),r=ct.credentialWithLink(t,n||k());return v(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Ft(i,r)})).apply(this,arguments)}function rn(e,t){return sn.apply(this,arguments)}function sn(){return(sn=(0,i.Z)(function*(e,t){return P(e,"POST","/v1/accounts:createAuthUri",O(e,t))})).apply(this,arguments)}function on(){return(on=(0,i.Z)(function*(e,t){const n={identifier:t,continueUri:I()?k():"http://localhost"},{signinMethods:i}=yield rn((0,s.m9)(e),n);return i||[]})).apply(this,arguments)}function an(){return(an=(0,i.Z)(function*(e,t){const n=(0,s.m9)(e),i={requestType:"VERIFY_EMAIL",idToken:yield e.getIdToken()};t&&Yt(n.auth,i,t);const{email:r}=yield Be(n.auth,i);r!==e.email&&(yield e.reload())})).apply(this,arguments)}function ln(){return(ln=(0,i.Z)(function*(e,t,n){const i=(0,s.m9)(e),r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield e.getIdToken(),newEmail:t};n&&Yt(i.auth,r,n);const{email:o}=yield Ye(i.auth,r);o!==e.email&&(yield e.reload())})).apply(this,arguments)}function cn(e,t){return un.apply(this,arguments)}function un(){return(un=(0,i.Z)(function*(e,t){return P(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function hn(){return(hn=(0,i.Z)(function*(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const i=(0,s.m9)(e),r={idToken:yield i.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=yield Q(i,cn(i.auth,r));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),yield i._updateTokensIfNecessary(o)})).apply(this,arguments)}function dn(e,t,n){return pn.apply(this,arguments)}function pn(){return(pn=(0,i.Z)(function*(e,t,n){const{auth:i}=e,r={idToken:yield e.getIdToken(),returnSecureToken:!0};t&&(r.email=t),n&&(r.password=n);const s=yield Q(e,Ne(i,r));yield e._updateTokensIfNecessary(s,!0)})).apply(this,arguments)}class fn{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class mn extends fn{constructor(e,t,n,i){super(e,t,n),this.username=i}}class gn extends fn{constructor(e,t){super(e,"facebook.com",t)}}class _n extends mn{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class yn extends fn{constructor(e,t){super(e,"google.com",t)}}class vn extends mn{constructor(e,t,n){super(e,"twitter.com",t,n)}}function bn(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:i}=e,r=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!i&&(null==e?void 0:e.idToken)){const i=null===(n=null===(t=K(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(i)return new fn(s,"anonymous"!==i&&"custom"!==i?i:null)}if(!i)return null;switch(i){case"facebook.com":return new gn(s,r);case"github.com":return new _n(s,r);case"google.com":return new yn(s,r);case"twitter.com":return new vn(s,r,e.screenName||null);case"custom":case"anonymous":return new fn(s,null);default:return new fn(s,i,r)}}(n)}class wn{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new wn("enroll",e)}static _fromMfaPendingCredential(e){return new wn("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return wn._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return wn._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Cn{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Te(e),r=t.customData._serverResponse,s=(r.mfaInfo||[]).map(e=>Zt._fromServerResponse(n,e));v(r.mfaPendingCredential,n,"internal-error");const o=wn._fromMfaPendingCredential(r.mfaPendingCredential);return new Cn(o,s,function(){var e=(0,i.Z)(function*(e){const i=yield e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=yield wt._fromIdTokenResponse(n,t.operationType,s);return yield n._updateCurrentUser(e.user),e;case"reauthenticate":return v(t.user,n,"internal-error"),wt._forOperation(t.user,t.operationType,s);default:f(n,"internal-error")}});return function(t){return e.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,i.Z)(function*(){return t.signInResolver(e)})()}}function Sn(e,t){return P(e,"POST","/v2/accounts/mfaEnrollment:start",O(e,t))}class kn{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>Zt._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new kn(e)}getSession(){var e=this;return(0,i.Z)(function*(){return wn._fromIdtoken(yield e.user.getIdToken())})()}enroll(e,t){var n=this;return(0,i.Z)(function*(){const i=e,r=yield n.getSession(),s=yield Q(n.user,i._process(n.user.auth,r,t));return yield n.user._updateTokensIfNecessary(s),n.user.reload()})()}unenroll(e){var t=this;return(0,i.Z)(function*(){const n="string"==typeof e?e:e.uid,i=yield t.user.getIdToken(),r=yield Q(t.user,(s=t.user.auth,o={idToken:i,mfaEnrollmentId:n},P(s,"POST","/v2/accounts/mfaEnrollment:withdraw",O(s,o))));var s,o;t.enrolledFactors=t.enrolledFactors.filter(({uid:e})=>e!==n),yield t.user._updateTokensIfNecessary(r);try{yield t.user.reload()}catch(a){if("auth/user-token-expired"!==a.code)throw a}})()}}const In=new WeakMap,En="__sak";class Tn{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(En,"1"),this.storage.removeItem(En),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const xn=(()=>{class e extends Tn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,s.z$)();return ge(e)||Ce(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Se(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},r=this.storage.getItem(n);(0,s.w1)()&&10===document.documentMode&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,t){var n=()=>super._set,r=this;return(0,i.Z)(function*(){yield n().call(r,e,t),r.localCache[e]=JSON.stringify(t)})()}_get(e){var t=()=>super._get,n=this;return(0,i.Z)(function*(){const i=yield t().call(n,e);return n.localCache[e]=JSON.stringify(i),i})()}_remove(e){var t=()=>super._remove,n=this;return(0,i.Z)(function*(){yield t().call(n,e),delete n.localCache[e]})()}}return e.type="LOCAL",e})(),An=(()=>{class e extends Tn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}return e.type="SESSION",e})();let Dn=(()=>{class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;const i=new e(t);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}handleEvent(e){var t=this;return(0,i.Z)(function*(){const n=e,{eventId:r,eventType:s,data:o}=n.data,a=t.handlersMap[s];if(!(null==a?void 0:a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(function(){var e=(0,i.Z)(function*(e){return e(n.origin,o)});return function(t){return e.apply(this,arguments)}}()),c=yield function(e){return Promise.all(e.map(function(){var e=(0,i.Z)(function*(e){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}});return function(t){return e.apply(this,arguments)}}()))}(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})})()}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function Rn(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(10*Math.random());return e+n}class On{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,n=50){var r=this;return(0,i.Z)(function*(){const i="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Rn("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"))}}},r.handlers.add(o),i.port1.addEventListener("message",o.onMessage),r.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])}).finally(()=>{o&&r.removeMessageHandler(o)})})()}}function Pn(){return window}function Nn(){return void 0!==Pn().WorkerGlobalScope&&"function"==typeof Pn().importScripts}function Ln(){return(Ln=(0,i.Z)(function*(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(e){return null}})).apply(this,arguments)}const Fn="firebaseLocalStorageDb",Mn="firebaseLocalStorage",Vn="fbase_key";class Un{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function qn(e,t){return e.transaction([Mn],t?"readwrite":"readonly").objectStore(Mn)}function Bn(){const e=indexedDB.open(Fn,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Mn,{keyPath:Vn})}catch(i){n(i)}}),e.addEventListener("success",(0,i.Z)(function*(){const n=e.result;n.objectStoreNames.contains(Mn)?t(n):(n.close(),yield function(){const e=indexedDB.deleteDatabase(Fn);return new Un(e).toPromise()}(),t(yield Bn()))}))})}function jn(e,t,n){return zn.apply(this,arguments)}function zn(){return(zn=(0,i.Z)(function*(e,t,n){const i=qn(e,!0).put({[Vn]:t,value:n});return new Un(i).toPromise()})).apply(this,arguments)}function Gn(){return(Gn=(0,i.Z)(function*(e,t){const n=qn(e,!1).get(t),i=yield new Un(n).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function Zn(e,t){const n=qn(e,!0).delete(t);return new Un(n).toPromise()}const Hn=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return(0,i.Z)(function*(){return e.db||(e.db=yield Bn()),e.db})()}_withRetries(e){var t=this;return(0,i.Z)(function*(){let n=0;for(;;)try{const n=yield t._openDb();return yield e(n)}catch(i){if(n++>3)throw i;t.db&&(t.db.close(),t.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return(0,i.Z)(function*(){return Nn()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return(0,i.Z)(function*(){e.receiver=Dn._getInstance(Nn()?self:null),e.receiver._subscribe("keyChanged",function(){var t=(0,i.Z)(function*(t,n){return{keyProcessed:(yield e._poll()).includes(n.key)}});return function(e,n){return t.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var e=(0,i.Z)(function*(e,t){return["keyChanged"]});return function(t,n){return e.apply(this,arguments)}}())})()}initializeSender(){var e=this;return(0,i.Z)(function*(){var t,n;if(e.activeServiceWorker=yield function(){return Ln.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new On(e.activeServiceWorker);const i=yield e.sender._send("ping",{},800);i&&(null===(t=i[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=i[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var t=this;return(0,i.Z)(function*(){var n;if(t.sender&&t.activeServiceWorker&&((null===(n=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null)===t.activeServiceWorker)try{yield t.sender._send("keyChanged",{key:e},t.serviceWorkerReceiverAvailable?800:50)}catch(n){}})()}_isAvailable(){return(0,i.Z)(function*(){try{if(!indexedDB)return!1;const e=yield Bn();return yield jn(e,En,"1"),yield Zn(e,En),!0}catch(e){}return!1})()}_withPendingWrite(e){var t=this;return(0,i.Z)(function*(){t.pendingWrites++;try{yield e()}finally{t.pendingWrites--}})()}_set(e,t){var n=this;return(0,i.Z)(function*(){return n._withPendingWrite((0,i.Z)(function*(){return yield n._withRetries(n=>jn(n,e,t)),n.localCache[e]=t,n.notifyServiceWorker(e)}))})()}_get(e){var t=this;return(0,i.Z)(function*(){const n=yield t._withRetries(t=>function(e,t){return Gn.apply(this,arguments)}(t,e));return t.localCache[e]=n,n})()}_remove(e){var t=this;return(0,i.Z)(function*(){return t._withPendingWrite((0,i.Z)(function*(){return yield t._withRetries(t=>Zn(t,e)),delete t.localCache[e],t.notifyServiceWorker(e)}))})()}_poll(){var e=this;return(0,i.Z)(function*(){const t=yield e._withRetries(e=>{const t=qn(e,!1).getAll();return new Un(t).toPromise()});if(!t)return[];if(0!==e.pendingWrites)return[];const n=[],i=new Set;for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(e.localCache[r])!==JSON.stringify(s)&&(e.notifyListeners(r,s),n.push(r));for(const r of Object.keys(e.localCache))e.localCache[r]&&!i.has(r)&&(e.notifyListeners(r,null),n.push(r));return n})()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,i.Z)(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();function Yn(e,t){return P(e,"POST","/v2/accounts/mfaSignIn:start",O(e,t))}function $n(){return($n=(0,i.Z)(function*(e){return(yield P(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Wn(e){return new Promise((t,n)=>{const i=document.createElement("script");var r,s;i.setAttribute("src",e),i.onload=t,i.onerror=e=>{const t=m("internal-error");t.customData=e,n(t)},i.type="text/javascript",i.charset="UTF-8",(null!==(s=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==s?s:document).appendChild(i)})}function Kn(e){return`__${e}${Math.floor(1e6*Math.random())}`}const Qn=1e12;class Jn{constructor(e){this.auth=e,this.counter=Qn,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Xn(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Qn;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;return(null===(t=this._widgets.get(e||Qn))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,i.Z)(function*(){var n;return null===(n=t._widgets.get(e||Qn))||void 0===n||n.execute(),""})()}}class Xn{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i="string"==typeof e?document.getElementById(e):e;v(i,"argument-error",{appName:t}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<50;i++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ei=Kn("rcb"),ti=new T(3e4,6e4);class ni{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Pn().grecaptcha}load(e,t=""){return v(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(Pn().grecaptcha):new Promise((n,i)=>{const r=Pn().setTimeout(()=>{i(m(e,"network-request-failed"))},ti.get());Pn()[ei]=()=>{Pn().clearTimeout(r),delete Pn()[ei];const s=Pn().grecaptcha;if(!s)return void i(m(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)},Wn(`https://www.google.com/recaptcha/api.js??${(0,s.xO)({onload:ei,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(r),i(m(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Pn().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ii{load(e){return(0,i.Z)(function*(){return new Jn(e)})()}clearedOneInstance(){}}const ri="recaptcha",si={theme:"light",type:"image"};class oi{constructor(e,t=Object.assign({},si),n){this.parameters=t,this.type=ri,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Te(n),this.isInvisible="invisible"===this.parameters.size,v("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const i="string"==typeof e?document.getElementById(e):e;v(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ii:new ni,this.validateStartingState()}verify(){var e=this;return(0,i.Z)(function*(){e.assertNotDestroyed();const t=yield e.render(),n=e.getAssertedRecaptcha();return n.getResponse(t)||new Promise(i=>{const r=t=>{t&&(e.tokenChangeListeners.delete(r),i(t))};e.tokenChangeListeners.add(r),e.isInvisible&&n.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){v(!this.parameters.sitekey,this.auth,"argument-error"),v(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),v("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){const n=Pn()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){v(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,i.Z)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const e=document.createElement("div");t.appendChild(e),t=e}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,i.Z)(function*(){v(I()&&!Nn(),e.auth,"internal-error"),yield function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function(e){return $n.apply(this,arguments)}(e.auth);v(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return v(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ai{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=at._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function li(){return(li=(0,i.Z)(function*(e,t,n){const i=Te(e),r=yield hi(i,t,(0,s.m9)(n));return new ai(r,e=>Ft(i,e))})).apply(this,arguments)}function ci(){return(ci=(0,i.Z)(function*(e,t,n){const i=(0,s.m9)(e);yield Dt(!1,i,"phone");const r=yield hi(i.auth,t,(0,s.m9)(n));return new ai(r,e=>Vt(i,e))})).apply(this,arguments)}function ui(){return(ui=(0,i.Z)(function*(e,t,n){const i=(0,s.m9)(e),r=yield hi(i.auth,t,(0,s.m9)(n));return new ai(r,e=>qt(i,e))})).apply(this,arguments)}function hi(e,t,n){return di.apply(this,arguments)}function di(){return(di=(0,i.Z)(function*(e,t,n){var i;const r=yield n.verify();try{let s;if(v("string"==typeof r,e,"argument-error"),v(n.type===ri,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s)return v("enroll"===t.type,e,"internal-error"),(yield Sn(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}})).phoneSessionInfo.sessionInfo;{v("signin"===t.type,e,"internal-error");const n=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid;return v(n,e,"missing-multi-factor-info"),(yield Yn(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=yield tt(e,{phoneNumber:s.phoneNumber,recaptchaToken:r});return t}}finally{n._reset()}})).apply(this,arguments)}function pi(){return(pi=(0,i.Z)(function*(e,t){yield xt((0,s.m9)(e),t)})).apply(this,arguments)}let fi=(()=>{class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=Te(t)}verifyPhoneNumber(e,t){return hi(this.auth,e,(0,s.m9)(t))}static credential(e,t){return at._fromVerification(e,t)}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?at._fromTokenResponse(t,n):null}}return e.PROVIDER_ID="phone",e.PHONE_SIGN_IN_METHOD="phone",e})();function mi(e,t){return t?S(t):(v(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class gi extends Re{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Je(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Je(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Je(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _i(e){return Nt(e.auth,new gi(e),e.bypassAuthState)}function yi(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),Ot(n,new gi(e),e.bypassAuthState)}function vi(e){return bi.apply(this,arguments)}function bi(){return(bi=(0,i.Z)(function*(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),xt(n,new gi(e),e.bypassAuthState)})).apply(this,arguments)}class wi{constructor(e,t,n,i,r=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,i.Z)(function*(t,n){e.pendingPromise={resolve:t,reject:n};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(i){e.reject(i)}});return function(e,n){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,i.Z)(function*(){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o)return void t.reject(o);const l={auth:t.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(a)(l))}catch(c){t.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _i;case"linkViaPopup":case"linkViaRedirect":return vi;case"reauthViaPopup":case"reauthViaRedirect":return yi;default:f(this.auth,"internal-error")}}resolve(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ci=new T(2e3,1e4);function Si(){return(Si=(0,i.Z)(function*(e,t,n){const i=Te(e);_(e,t,ut);const r=mi(i,n);return new Ei(i,"signInViaPopup",t,r).executeNotNull()})).apply(this,arguments)}function ki(){return(ki=(0,i.Z)(function*(e,t,n){const i=(0,s.m9)(e);_(i.auth,t,ut);const r=mi(i.auth,n);return new Ei(i.auth,"reauthViaPopup",t,r,i).executeNotNull()})).apply(this,arguments)}function Ii(){return(Ii=(0,i.Z)(function*(e,t,n){const i=(0,s.m9)(e);_(i.auth,t,ut);const r=mi(i.auth,n);return new Ei(i.auth,"linkViaPopup",t,r,i).executeNotNull()})).apply(this,arguments)}let Ei=(()=>{class e extends wi{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}executeNotNull(){var e=this;return(0,i.Z)(function*(){const t=yield e.execute();return v(t,e.auth,"internal-error"),t})()}onExecution(){var e=this;return(0,i.Z)(function*(){w(1===e.filter.length,"Popup operations only handle one event");const t=Rn();e.authWindow=yield e.resolver._openPopup(e.auth,e.provider,e.filter[0],t),e.authWindow.associatedEvent=t,e.resolver._originValidation(e.auth).catch(t=>{e.reject(t)}),e.resolver._isIframeWebStorageSupported(e.auth,t=>{t||e.reject(m(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation()})()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(m(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;this.pollId=(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(m(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(e,Ci.get())};e()}}return e.currentPopupAction=null,e})();const Ti=new Map;class xi extends wi{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,i.Z)(function*(){let n=Ti.get(t.auth._key());if(!n){try{const i=(yield function(e,t){return Ai.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;n=()=>Promise.resolve(i)}catch(i){n=()=>Promise.reject(i)}Ti.set(t.auth._key(),n)}return t.bypassAuthState||Ti.set(t.auth._key(),()=>Promise.resolve(null)),n()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,n=this;return(0,i.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(n,e);if("unknown"!==e.type){if(e.eventId){const i=yield n.auth._redirectUserForId(e.eventId);if(i)return n.user=i,t().call(n,e);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return(0,i.Z)(function*(){})()}cleanUp(){}}function Ai(){return(Ai=(0,i.Z)(function*(e,t){const n=Ni(t),i=Pi(e);if(!(yield i._isAvailable()))return!1;const r="true"===(yield i._get(n));return yield i._remove(n),r})).apply(this,arguments)}function Di(e,t){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,i.Z)(function*(e,t){return Pi(e)._set(Ni(t),"true")})).apply(this,arguments)}function Oi(e,t){Ti.set(e._key(),t)}function Pi(e){return S(e._redirectPersistence)}function Ni(e){return de("pendingRedirect",e.config.apiKey,e.name)}function Li(){return(Li=(0,i.Z)(function*(e,t,n){const i=Te(e);_(e,t,ut);const r=mi(i,n);return yield Di(r,i),r._openRedirect(i,t,"signInViaRedirect")})).apply(this,arguments)}function Fi(){return(Fi=(0,i.Z)(function*(e,t,n){const i=(0,s.m9)(e);_(i.auth,t,ut);const r=mi(i.auth,n);yield Di(r,i.auth);const o=yield Bi(i);return r._openRedirect(i.auth,t,"reauthViaRedirect",o)})).apply(this,arguments)}function Mi(){return(Mi=(0,i.Z)(function*(e,t,n){const i=(0,s.m9)(e);_(i.auth,t,ut);const r=mi(i.auth,n);yield Dt(!1,i,t.providerId),yield Di(r,i.auth);const o=yield Bi(i);return r._openRedirect(i.auth,t,"linkViaRedirect",o)})).apply(this,arguments)}function Vi(){return(Vi=(0,i.Z)(function*(e,t){return yield Te(e)._initializationPromise,Ui(e,t,!1)})).apply(this,arguments)}function Ui(e,t){return qi.apply(this,arguments)}function qi(){return(qi=(0,i.Z)(function*(e,t,n=!1){const i=Te(e),r=mi(i,t),s=new xi(i,r,n),o=yield s.execute();return o&&!n&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,t)),o})).apply(this,arguments)}function Bi(e){return ji.apply(this,arguments)}function ji(){return(ji=(0,i.Z)(function*(e){const t=Rn(`${e.uid}:::`);return e._redirectEventId=t,yield e.auth._setRedirectUser(e),yield e.auth._persistUserIfCurrent(e),t})).apply(this,arguments)}class zi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zi(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Zi(e)){const i=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(m(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gi(e))}saveEventToCache(e){this.cachedEventUids.add(Gi(e)),this.lastProcessedEventTime=Date.now()}}function Gi(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Zi({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}function Hi(e){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,i.Z)(function*(e,t={}){return P(e,"GET","/v1/projects",t)})).apply(this,arguments)}const $i=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wi=/^https?/;function Ki(){return(Ki=(0,i.Z)(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield Hi(e);for(const i of t)try{if(Qi(i))return}catch(n){}f(e,"unauthorized-domain")})).apply(this,arguments)}function Qi(e){const t=k(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!Wi.test(n))return!1;if($i.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const Ji=new T(3e4,6e4);function Xi(){const e=Pn().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let er=null;function tr(e){return er=er||function(e){return new Promise((t,n)=>{var i,r,s;function o(){Xi(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Xi(),n(m(e,"network-request-failed"))},timeout:Ji.get()})}if(null===(r=null===(i=Pn().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Pn().gapi)||void 0===s?void 0:s.load)){const t=Kn("iframefcb");return Pn()[t]=()=>{gapi.load?o():n(m(e,"network-request-failed"))},Wn(`https://apis.google.com/js/api.js?onload=${t}`).catch(e=>n(e))}o()}}).catch(e=>{throw er=null,e})}(e),er}const nr=new T(5e3,15e3),ir={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sr(e){const t=e.config;v(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?x(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,i={apiKey:t.apiKey,appName:e.name,v:o.SDK_VERSION},r=rr.get(e.config.apiHost);r&&(i.eid=r);const a=e._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${(0,s.xO)(i).slice(1)}`}function or(){return(or=(0,i.Z)(function*(e){const t=yield tr(e),n=Pn().gapi;return v(n,e,"internal-error"),t.open({where:document.body,url:sr(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ir,dontclear:!0},t=>new Promise(function(){var n=(0,i.Z)(function*(n,i){yield t.restyle({setHideOnLeave:!1});const r=m(e,"network-request-failed"),s=Pn().setTimeout(()=>{i(r)},nr.get());function o(){Pn().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{i(r)})});return function(e,t){return n.apply(this,arguments)}}()))})).apply(this,arguments)}const ar={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class lr{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function cr(e,t,n,i,r,a){v(e.config.authDomain,e,"auth-domain-config-required"),v(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:o.SDK_VERSION,eventId:r};if(t instanceof ut){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,s.xb)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))l[e]=t}if(t instanceof ht){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const s of Object.keys(c))void 0===c[s]&&delete c[s];return`${function({config:e}){return e.emulator?x(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,s.xO)(c).slice(1)}`}const ur="webStorageSupport";class hr extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return b("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new hr(e)}_finalizeEnroll(e,t,n){return function(e,t){return P(e,"POST","/v2/accounts/mfaEnrollment:finalize",O(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return P(e,"POST","/v2/accounts/mfaSignIn:finalize",O(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let dr=(()=>{class e{constructor(){}static assertion(e){return hr._fromCredential(e)}}return e.FACTOR_ID="phone",e})();var pr,fr="@firebase/auth",mr="0.20.2";class gr{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,i.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function _r(){return window}function yr(){return(yr=(0,i.Z)(function*(e,t,n){var i;const{BuildInfo:r}=_r();w(t.sessionId,"AuthEvent did not contain a session ID");const s=yield wr(t.sessionId),o={};return Ce()?o.ibi=r.packageName:ve()?o.apn=r.packageName:f(e,"operation-not-supported-in-this-environment"),r.displayName&&(o.appDisplayName=r.displayName),o.sessionId=s,cr(e,n,t.type,void 0,null!==(i=t.eventId)&&void 0!==i?i:void 0,o)})).apply(this,arguments)}function vr(){return(vr=(0,i.Z)(function*(e){const{BuildInfo:t}=_r(),n={};Ce()?n.iosBundleId=t.packageName:ve()?n.androidPackageName=t.packageName:f(e,"operation-not-supported-in-this-environment"),yield Hi(e,n)})).apply(this,arguments)}function br(){return(br=(0,i.Z)(function*(e,t,n){const{cordova:i}=_r();let r=()=>{};try{yield new Promise((s,o)=>{let a=null;function l(){var e;s();const t=null===(e=i.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout(()=>{o(m(e,"redirect-cancelled-by-user"))},2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),ve()&&document.addEventListener("visibilitychange",u,!1),r=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{r()}})).apply(this,arguments)}function wr(e){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,i.Z)(function*(e){const t=Sr(e),n=yield crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Sr(e){if(w(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}pr="Browser",(0,o._registerComponent)(new c.wA("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:r,authDomain:s}=n.options;return((e,n)=>{v(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),v(!(null==s?void 0:s.includes(":")),"argument-error",{appName:e.name});const i={apiKey:r,authDomain:s,clientPlatform:pr,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ke(pr)},o=new Ee(e,n,i);return function(e,t){const n=(null==t?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(S);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null==t?void 0:t.popupRedirectResolver)}(o,t),o})(n,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,o._registerComponent)(new c.wA("auth-internal",e=>{return t=Te(e.getProvider("auth").getImmediate()),new gr(t);var t},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)(fr,mr,void 0),(0,o.registerVersion)(fr,mr,"esm2017");class kr extends zi{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return(0,i.Z)(function*(){yield e.initPromise})()}}function Ir(e){return Er.apply(this,arguments)}function Er(){return(Er=(0,i.Z)(function*(e){const t=yield xr()._get(Ar(e));return t&&(yield xr()._remove(Ar(e))),t})).apply(this,arguments)}function Tr(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function xr(){return S(xn)}function Ar(e){return de("authEvent",e.config.apiKey,e.name)}function Dr(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,s.zd)(n.join("?"))}function Rr(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:m("no-auth-event")}}function Or(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Pr(e=(0,s.z$)()){return!("file:"!==Or()&&"ionic:"!==Or()&&"capacitor:"!==Or()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Nr(){try{const e=self.localStorage,t=Rn();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=(0,s.z$)()){return(0,s.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=(0,s.z$)()){return/Edge\/\d+/.test(e)}(e)}()||(0,s.hl)()}catch(e){return Lr()&&(0,s.hl)()}return!1}function Lr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Fr(){return("http:"===Or()||"https:"===Or()||(0,s.ru)()||Pr())&&!((0,s.b$)()||(0,s.UG)())&&Nr()&&!Lr()}function Mr(){return Pr()&&"undefined"!=typeof document}function Vr(){return(Vr=(0,i.Z)(function*(){return!!Mr()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})})).apply(this,arguments)}const Ur={LOCAL:"local",NONE:"none",SESSION:"session"},qr=v,Br="persistence";function jr(e){return zr.apply(this,arguments)}function zr(){return(zr=(0,i.Z)(function*(e){yield e._initializationPromise;const t=Gr(),n=de(Br,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())})).apply(this,arguments)}function Gr(){var e;try{return(null===(e="undefined"!=typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const Zr=v;class Hr{constructor(){this.browserResolver=S(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=An,this._completeRedirectFn=Ui,this._overrideRedirectResult=Oi}_openPopup(e,t,n,r){var o=this;return(0,i.Z)(function*(){var i;w(null===(i=o.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");const a=cr(e,t,n,k(),r);return function(e,t,n,i=500,r=600){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const c=Object.assign(Object.assign({},ar),{width:i.toString(),height:r.toString(),top:o,left:a}),u=(0,s.z$)().toLowerCase();n&&(l=_e(u)?"_blank":n),me(u)&&(t=t||"http://localhost",c.scrollbars="yes");const h=Object.entries(c).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,s.z$)()){var t;return Ce(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(t||"",l),new lr(null);const d=window.open(t||"",l,h);v(d,e,"popup-blocked");try{d.focus()}catch(p){}return new lr(d)}(e,a,Rn())})()}_openRedirect(e,t,n,r){var s=this;return(0,i.Z)(function*(){var i;return yield s._originValidation(e),i=cr(e,t,n,k(),r),Pn().location.href=i,new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(w(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}initAndGetManager(e){var t=this;return(0,i.Z)(function*(){const n=yield function(e){return or.apply(this,arguments)}(e),i=new zi(e);return n.register("authEvent",t=>(v(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:i.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=n,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ur,{type:ur},n=>{var i;const r=null===(i=null==n?void 0:n[0])||void 0===i?void 0:i.webStorageSupport;void 0!==r&&t(!!r),f(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ki.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Se()||ge()||Ce()}}),this.cordovaResolver=S(class{constructor(){this._redirectPersistence=An,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ui,this._overrideRedirectResult=Oi}_initialize(e){var t=this;return(0,i.Z)(function*(){const n=e._key();let i=t.eventManagers.get(n);return i||(i=new kr(e),t.eventManagers.set(n,i),t.attachCallbackListeners(e,i)),i})()}_openPopup(e){f(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,n,r){var o=this;return(0,i.Z)(function*(){!function(e){var t,n,i,r,s,o,a,l,c,u;const h=_r();v("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),v(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),v("function"==typeof(null===(s=null===(r=null===(i=null==h?void 0:h.cordova)||void 0===i?void 0:i.plugins)||void 0===r?void 0:r.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),v("function"==typeof(null===(l=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),v("function"==typeof(null===(u=null===(c=null==h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=yield o._initialize(e);yield i.initialized(),i.resetRedirect(),Ti.clear(),yield o._originValidation(e);const a=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:Tr(),postBody:null,tenantId:e.tenantId,error:m(e,"no-auth-event")}}(e,n,r);yield function(e,t){return xr()._set(Ar(e),t)}(e,a);const l=yield function(e,t,n){return yr.apply(this,arguments)}(e,a,t),c=yield function(e){const{cordova:t}=_r();return new Promise(n=>{t.plugins.browsertab.isAvailable(i=>{let r=null;i?t.plugins.browsertab.openUrl(e):r=t.InAppBrowser.open(e,function(e=(0,s.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(r)})})}(l);return function(e,t,n){return br.apply(this,arguments)}(e,i,c)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return vr.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:s}=_r(),o=setTimeout((0,i.Z)(function*(){yield Ir(e),t.onEvent(Rr())}),500),a=function(){var n=(0,i.Z)(function*(n){clearTimeout(o);const i=yield Ir(e);let r=null;i&&(null==n?void 0:n.url)&&(r=function(e,t){var n,i;const r=function(e){const t=Dr(e),n=t.link?decodeURIComponent(t.link):void 0,i=Dr(n).link,r=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Dr(r).link||r||i||n||e}(t);if(r.includes("/__/auth/callback")){const t=Dr(r),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(i=null===(n=null==s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===i?void 0:i[1],a=o?m(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:r,postBody:null}}return null}(i,n.url)),t.onEvent(r||Rr())});return function(e){return n.apply(this,arguments)}}();void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,a);const l=r,c=`${s.packageName.toLowerCase()}://`;_r().handleOpenURL=function(){var e=(0,i.Z)(function*(e){if(e.toLowerCase().startsWith(c)&&a({url:e}),"function"==typeof l)try{l(e)}catch(t){console.error(t)}});return function(t){return e.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=An,this._completeRedirectFn=Ui,this._overrideRedirectResult=Oi}_initialize(e){var t=this;return(0,i.Z)(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,n,r){var s=this;return(0,i.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(e,t,n,r)})()}_openRedirect(e,t,n,r){var s=this;return(0,i.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(e,t,n,r)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Mr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return(0,i.Z)(function*(){if(e.underlyingResolver)return;const t=yield function(){return Vr.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function Yr(e){return e.unwrap()}function $r(e){const{_tokenResponse:t}=e instanceof s.ZR?e.customData:e;if(!t)return null;if(!(e instanceof s.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return fi.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let i;switch(n){case"google.com":i=ft;break;case"facebook.com":i=pt;break;case"github.com":i=mt;break;case"twitter.com":i=yt;break;default:const{oauthIdToken:e,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return r||s||e||o?o?n.startsWith("saml.")?gt._create(n,o):et._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:r}):new dt(n).credential({idToken:e,accessToken:r,rawNonce:a}):null}return e instanceof s.ZR?i.credentialFromError(e):i.credentialFromResult(e)}function Wr(e,t){return t.catch(t=>{throw t instanceof s.ZR&&function(e,t){var n;const i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Jr(e,function(e,t){var n;const i=(0,s.m9)(e),r=t;return v(t.customData.operationType,i,"argument-error"),v(null===(n=r.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,i,"argument-error"),Cn._fromError(i,r)}(e,t));else if(i){const e=$r(t),n=t;e&&(n.credential=e,n.tenantId=i.tenantId||void 0,n.email=i.email||void 0,n.phoneNumber=i.phoneNumber||void 0)}}(e,t),t}).then(e=>{const t=e.user;return{operationType:e.operationType,credential:(n=e,$r(n)),additionalUserInfo:bn(e),user:Xr.getOrCreate(t)};var n})}function Kr(e,t){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,i.Z)(function*(e,t){const n=yield t;return{verificationId:n.verificationId,confirm:t=>Wr(e,n.confirm(t))}})).apply(this,arguments)}class Jr{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Wr(Yr(this.auth),this.resolver.resolveSignIn(e))}}class Xr{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=(0,s.m9)(e);return In.has(t)||In.set(t,kn._fromUser(t)),In.get(t)}(e)}static getOrCreate(e){return Xr.USER_MAP.has(e)||Xr.USER_MAP.set(e,new Xr(e)),Xr.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return(0,i.Z)(function*(){return Wr(t.auth,Vt(t._delegate,e))})()}linkWithPhoneNumber(e,t){var n=this;return(0,i.Z)(function*(){return Kr(n.auth,function(e,t,n){return ci.apply(this,arguments)}(n._delegate,e,t))})()}linkWithPopup(e){var t=this;return(0,i.Z)(function*(){return Wr(t.auth,function(e,t,n){return Ii.apply(this,arguments)}(t._delegate,e,Hr))})()}linkWithRedirect(e){var t=this;return(0,i.Z)(function*(){return yield jr(Te(t.auth)),function(e,t,n){return function(e,t,n){return Mi.apply(this,arguments)}(e,t,n)}(t._delegate,e,Hr)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return(0,i.Z)(function*(){return Wr(t.auth,qt(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return Kr(this.auth,function(e,t,n){return ui.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return Wr(this.auth,function(e,t,n){return ki.apply(this,arguments)}(this._delegate,e,Hr))}reauthenticateWithRedirect(e){var t=this;return(0,i.Z)(function*(){return yield jr(Te(t.auth)),function(e,t,n){return function(e,t,n){return Fi.apply(this,arguments)}(e,t,n)}(t._delegate,e,Hr)})()}sendEmailVerification(e){return function(e,t){return an.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return(0,i.Z)(function*(){return yield function(e,t){return Tt.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function(e,t){return dn((0,s.m9)(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return dn((0,s.m9)(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return function(e,t){return pi.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function(e,t){return hn.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function(e,t,n){return ln.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Xr.USER_MAP=new WeakMap;const es=v;let ts=(()=>{class e{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;es(n,"invalid-api-key",{appName:e.name}),es(n,"invalid-api-key",{appName:e.name});const i="undefined"!=typeof window?Hr:void 0;this._delegate=t.initialize({options:{persistence:is(n,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(u),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Xr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const i=Te(e);v(i._canInitEmulator,i,"emulator-config-failed"),v(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!(null==n?void 0:n.disableWarnings),s=Ae(t),{host:o,port:a}=function(e){const t=Ae(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const e=r[1];return{host:e,port:De(i.substr(e.length+1))}}{const[e,t]=i.split(":");return{host:e,port:De(t)}}}(t);i.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(this._delegate,e,t)}applyActionCode(e){return function(e,t){return Kt.apply(this,arguments)}(this._delegate,e)}checkActionCode(e){return Qt(this._delegate,e)}confirmPasswordReset(e,t){return function(e,t,n){return Wt.apply(this,arguments)}(this._delegate,e,t)}createUserWithEmailAndPassword(e,t){var n=this;return(0,i.Z)(function*(){return Wr(n._delegate,function(e,t,n){return en.apply(this,arguments)}(n._delegate,e,t))})()}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return function(e,t){return on.apply(this,arguments)}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=lt.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(0,e)}getRedirectResult(){var e=this;return(0,i.Z)(function*(){es(Fr(),e._delegate,"operation-not-supported-in-this-environment");const t=yield function(e,t){return Vi.apply(this,arguments)}(e._delegate,Hr);return t?Wr(e._delegate,Promise.resolve(t)):{credential:null,user:null}})()}addFrameworkForLogging(e){!function(e,t){Te(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:i,error:r,complete:s}=ns(e,t,n);return this._delegate.onAuthStateChanged(i,r,s)}onIdTokenChanged(e,t,n){const{next:i,error:r,complete:s}=ns(e,t,n);return this._delegate.onIdTokenChanged(i,r,s)}sendSignInLinkToEmail(e,t){return function(e,t,n){return tn.apply(this,arguments)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return function(e,t,n){return $t.apply(this,arguments)}(this._delegate,e,t||void 0)}setPersistence(e){var t=this;return(0,i.Z)(function*(){let n;switch(function(e,t){qr(Object.values(Ur).includes(t),e,"invalid-persistence-type"),(0,s.b$)()?qr(t!==Ur.SESSION,e,"unsupported-persistence-type"):(0,s.UG)()?qr(t===Ur.NONE,e,"unsupported-persistence-type"):Lr()?qr(t===Ur.NONE||t===Ur.LOCAL&&(0,s.hl)(),e,"unsupported-persistence-type"):qr(t===Ur.NONE||Nr(),e,"unsupported-persistence-type")}(t._delegate,e),e){case Ur.SESSION:n=An;break;case Ur.LOCAL:n=(yield S(Hn)._isAvailable())?Hn:xn;break;case Ur.NONE:n=he;break;default:return f("argument-error",{appName:t._delegate.name})}return t._delegate.setPersistence(n)})()}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Wr(this._delegate,function(e){return St.apply(this,arguments)}(this._delegate))}signInWithCredential(e){return Wr(this._delegate,Ft(this._delegate,e))}signInWithCustomToken(e){return Wr(this._delegate,function(e,t){return Gt.apply(this,arguments)}(this._delegate,e))}signInWithEmailAndPassword(e,t){return Wr(this._delegate,function(e,t,n){return Ft((0,s.m9)(e),ct.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Wr(this._delegate,function(e,t,n){return nn.apply(this,arguments)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Kr(this._delegate,function(e,t,n){return li.apply(this,arguments)}(this._delegate,e,t))}signInWithPopup(e){var t=this;return(0,i.Z)(function*(){return es(Fr(),t._delegate,"operation-not-supported-in-this-environment"),Wr(t._delegate,function(e,t,n){return Si.apply(this,arguments)}(t._delegate,e,Hr))})()}signInWithRedirect(e){var t=this;return(0,i.Z)(function*(){return es(Fr(),t._delegate,"operation-not-supported-in-this-environment"),yield jr(t._delegate),function(e,t,n){return function(e,t,n){return Li.apply(this,arguments)}(e,t,n)}(t._delegate,e,Hr)})()}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return function(e,t){return Xt.apply(this,arguments)}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return e.Persistence=Ur,e})();function ns(e,t,n){let i=e;"function"!=typeof e&&({next:i,error:t,complete:n}=e);const r=i;return{next:e=>r(e&&Xr.getOrCreate(e)),error:t,complete:n}}function is(e,t){const n=function(e,t){const n=Gr();if(!n)return[];const i=de(Br,e,t);switch(n.getItem(i)){case Ur.NONE:return[he];case Ur.LOCAL:return[Hn,An];case Ur.SESSION:return[An];default:return[]}}(e,t);if("undefined"==typeof self||n.includes(Hn)||n.push(Hn),"undefined"!=typeof window)for(const i of[xn,An])n.includes(i)||n.push(i);return n.includes(he)||n.push(he),n}class rs{constructor(){this.providerId="phone",this._delegate=new fi(Yr(r.Z.auth()))}static credential(e,t){return fi.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}rs.PHONE_SIGN_IN_METHOD=fi.PHONE_SIGN_IN_METHOD,rs.PROVIDER_ID=fi.PROVIDER_ID;const ss=v;var os;(os=r.Z).INTERNAL.registerComponent(new c.wA("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new ts(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ct,FacebookAuthProvider:pt,GithubAuthProvider:mt,GoogleAuthProvider:ft,OAuthProvider:dt,SAMLAuthProvider:_t,PhoneAuthProvider:rs,PhoneMultiFactorGenerator:dr,RecaptchaVerifier:class{constructor(e,t,n=r.Z.app()){var i;ss(null===(i=n.options)||void 0===i?void 0:i.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new oi(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:yt,Auth:ts,AuthCredential:Re,Error:s.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),os.registerVersion("@firebase/auth-compat","0.2.15")},6508:(e,t,n)=>{"use strict";n.d(t,{Lj:()=>m,X3:()=>f});var i=n(6304);let r,s;const o=new WeakMap,a=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap;let h={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return a.get(e);if("objectStoreNames"===t)return e.objectStoreNames||l.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return d(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function d(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",s)},r=()=>{t(d(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&o.set(t,e)}).catch(()=>{}),u.set(t,e),t}(e);if(c.has(e))return c.get(e);const t=function(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(p(this),e),d(o.get(this))}:function(...e){return d(t.apply(p(this),e))}:function(e,...n){const i=t.call(p(this),e,...n);return l.set(i,e.sort?e.sort():[e]),d(i)}:(e instanceof IDBTransaction&&function(e){if(a.has(e))return;const t=new Promise((t,n)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",s),e.removeEventListener("abort",s)},r=()=>{t(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",s),e.addEventListener("abort",s)});a.set(e,t)}(e),n=e,(r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>n instanceof e)?new Proxy(e,h):e);var t,n}(e);return t!==e&&(c.set(e,t),u.set(t,e)),t}const p=e=>u.get(e);function f(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(e,t),a=d(o);return i&&o.addEventListener("upgradeneeded",e=>{i(d(o.result),e.oldVersion,e.newVersion,d(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(e=>{s&&e.addEventListener("close",()=>s()),r&&e.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}function m(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",()=>t()),d(n).then(()=>{})}const g=["get","getKey","getAll","getAllKeys","count"],_=["put","add","delete","clear"],y=new Map;function v(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(y.get(t))return y.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=_.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!g.includes(n))return;const o=function(){var e=(0,i.Z)(function*(e,...t){const i=this.transaction(e,s?"readwrite":"readonly");let o=i.store;return r&&(o=o.index(t.shift())),(yield Promise.all([o[n](...t),s&&i.done]))[0]});return function(t){return e.apply(this,arguments)}}();return y.set(t,o),o}var b;b=h,h={...b,get:(e,t,n)=>v(e,t)||b.get(e,t,n),has:(e,t)=>!!v(e,t)||b.has(e,t)}},7574:(e,t,n)=>{"use strict";n.d(t,{y:()=>c});var i=n(7393),r=n(9181),s=n(6490),o=n(6554),a=n(4487),l=n(2494);let c=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:o}=this,a=function(e,t,n){if(e){if(e instanceof i.L)return e;if(e[r.b])return e[r.b]()}return e||t||n?new i.L(e,t,n):new i.L(s.c)}(e,t,n);if(a.add(o?o.call(a,this.source):this.source||l.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),l.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){l.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:r}=e;if(t||r)return!1;e=n&&n instanceof i.L?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=u(t))((t,n)=>{let i;i=this.subscribe(t=>{try{e(t)}catch(r){n(r),i&&i.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[o.L](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?a.y:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=u(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function u(e){if(e||(e=l.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},6490:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var i=n(2494),r=n(4449);const s={closed:!0,next(e){},error(e){if(i.v.useDeprecatedSynchronousErrorHandling)throw e;(0,r.z)(e)},complete(){}}},9765:(e,t,n)=>{"use strict";n.d(t,{Yc:()=>c,xQ:()=>u});var i=n(7574),r=n(7393),s=n(5319),o=n(7971),a=n(8858),l=n(9181);class c extends r.L{constructor(e){super(e),this.destination=e}}let u=(()=>{class e extends i.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.b](){return new c(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:t}=this,n=t.length,i=t.slice();for(let r=0;r<n;r++)i[r].next(e)}}error(e){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,i=t.slice();for(let r=0;r<n;r++)i[r].error(e);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let i=0;i<t;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new o.N;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new o.N;return this.hasError?(e.error(this.thrownError),s.w.EMPTY):this.isStopped?(e.complete(),s.w.EMPTY):(this.observers.push(e),new a.W(this,e))}asObservable(){const e=new i.y;return e.source=this,e}}return e.create=(e,t)=>new h(e,t),e})();class h extends u{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):s.w.EMPTY}}},8858:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});var i=n(5319);class r extends i.w{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},7393:(e,t,n)=>{"use strict";n.d(t,{L:()=>c});var i=n(9105),r=n(6490),s=n(5319),o=n(9181),a=n(2494),l=n(4449);class c extends s.w{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=r.c;break;case 1:if(!e){this.destination=r.c;break}if("object"==typeof e){e instanceof c?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,e,t,n)}}[o.b](){return this}static create(e,t,n){const i=new c(e,t,n);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class u extends c{constructor(e,t,n,s){let o;super(),this._parentSubscriber=e;let a=this;(0,i.m)(t)?o=t:t&&(o=t.next,n=t.error,s=t.complete,t!==r.c&&(a=Object.create(t),(0,i.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,l.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,l.z)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,l.z)(n)}}__tryOrSetError(e,t,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return a.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):((0,l.z)(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},5319:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var i=n(9796),r=n(1555),s=n(9105);const o=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();class a{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:n,_unsubscribe:l,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof a)t.remove(this);else if(null!==t)for(let i=0;i<t.length;++i)t[i].remove(this);if((0,s.m)(l)){n&&(this._unsubscribe=void 0);try{l.call(this)}catch(h){e=h instanceof o?c(h.errors):[h]}}if((0,i.k)(u)){let t=-1,n=u.length;for(;++t<n;){const n=u[t];if((0,r.K)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let t=e;if(!e)return a.EMPTY;switch(typeof e){case"function":t=new a(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof a)){const e=t;t=new a,t._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:n}=t;if(null===n)t._parentOrParents=this;else if(n instanceof a){if(n===this)return t;t._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return t;n.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[t]:i.push(t),t}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var l;function c(e){return e.reduce((e,t)=>e.concat(t instanceof o?t.errors:t),[])}a.EMPTY=((l=new a).closed=!0,l)},2494:(e,t,n)=>{"use strict";n.d(t,{v:()=>r});let i=!1;const r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}}},5345:(e,t,n)=>{"use strict";n.d(t,{IY:()=>o,Ds:()=>a,ft:()=>l});var i=n(7393),r=n(7574),s=n(7444);class o extends i.L{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends i.L{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function l(e,t){if(t.closed)return;if(e instanceof r.y)return e.subscribe(t);let n;try{n=(0,s.s)(e)(t)}catch(i){t.error(i)}return n}},2441:(e,t,n)=>{"use strict";n.d(t,{c:()=>a,N:()=>l});var i=n(9765),r=n(7574),s=n(5319),o=n(1307);class a extends r.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new s.w,e.add(this.source.subscribe(new c(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.w.EMPTY)),e}refCount(){return(0,o.x)()(this)}}const l=(()=>{const e=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class c extends i.Yc{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}},9193:(e,t,n)=>{"use strict";n.d(t,{E:()=>r,c:()=>s});var i=n(7574);const r=new i.y(e=>e.complete());function s(e){return e?function(e){return new i.y(t=>e.schedule(()=>t.complete()))}(e):r}},4402:(e,t,n)=>{"use strict";n.d(t,{D:()=>h});var i=n(7574),r=n(7444),s=n(5319),o=n(6554),a=n(4087),l=n(377),c=n(4072),u=n(9489);function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.L]}(e))return function(e,t){return new i.y(n=>{const i=new s.w;return i.add(t.schedule(()=>{const r=e[o.L]();i.add(r.subscribe({next(e){i.add(t.schedule(()=>n.next(e)))},error(e){i.add(t.schedule(()=>n.error(e)))},complete(){i.add(t.schedule(()=>n.complete()))}}))})),i})}(e,t);if((0,c.t)(e))return function(e,t){return new i.y(n=>{const i=new s.w;return i.add(t.schedule(()=>e.then(e=>{i.add(t.schedule(()=>{n.next(e),i.add(t.schedule(()=>n.complete()))}))},e=>{i.add(t.schedule(()=>n.error(e)))}))),i})}(e,t);if((0,u.z)(e))return(0,a.r)(e,t);if(function(e){return e&&"function"==typeof e[l.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new i.y(n=>{const i=new s.w;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(()=>{r=e[l.hZ](),i.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=r.next();e=n.value,t=n.done}catch(i){return void n.error(i)}t?n.complete():(n.next(e),this.schedule())}))})),i})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof i.y?e:new i.y((0,r.s)(e))}},6693:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var i=n(7574),r=n(5015),s=n(4087);function o(e,t){return t?(0,s.r)(e,t):new i.y((0,r.V)(e))}},6682:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var i=n(7574),r=n(4869),s=n(3282),o=n(6693);function a(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return(0,r.K)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof i.y?e[0]:(0,s.J)(t)((0,o.n)(e,n))}},5917:(e,t,n)=>{"use strict";n.d(t,{of:()=>o});var i=n(4869),r=n(6693),s=n(4087);function o(...e){let t=e[e.length-1];return(0,i.K)(t)?(e.pop(),(0,s.r)(e,t)):(0,r.n)(e)}},205:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var i=n(7574);function r(e,t){return new i.y(t?n=>t.schedule(s,0,{error:e,subscriber:n}):t=>t.error(e))}function s({error:e,subscriber:t}){t.error(e)}},8002:(e,t,n)=>{"use strict";n.d(t,{U:()=>r});var i=n(7393);function r(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}class s{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.project,this.thisArg))}}class o extends i.L{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},3282:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var i=n(9773),r=n(4487);function s(e=Number.POSITIVE_INFINITY){return(0,i.zg)(r.y,e)}},9773:(e,t,n)=>{"use strict";n.d(t,{zg:()=>o});var i=n(8002),r=n(4402),s=n(5345);function o(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?s=>s.pipe(o((n,s)=>(0,r.D)(e(n,s)).pipe((0,i.U)((e,i)=>t(n,e,s,i))),n)):("number"==typeof t&&(n=t),t=>t.lift(new a(e,n)))}class a{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new l(e,this.project,this.concurrent))}}class l extends s.Ds{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t)}_innerSub(e){const t=new s.IY(this),n=this.destination;n.add(t);const i=(0,s.ft)(e,t);i!==t&&n.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(e,t,n)=>{"use strict";n.d(t,{ht:()=>u,QV:()=>l});var i=n(7393),r=n(9193),s=n(5917),o=n(205);class a{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return(0,s.of)(this.value);case"E":return(0,o._)(this.error);case"C":return(0,r.c)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new a("N",e):a.undefinedValueNotification}static createError(e){return new a("E",void 0,e)}static createComplete(){return a.completeNotification}}function l(e,t=0){return function(n){return n.lift(new c(e,t))}}a.completeNotification=new a("C"),a.undefinedValueNotification=new a("N",void 0);class c{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new u(e,this.scheduler,this.delay))}}class u extends i.L{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(u.dispatch,this.delay,new h(e,this.destination)))}_next(e){this.scheduleMessage(a.createNext(e))}_error(e){this.scheduleMessage(a.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(e,t){this.notification=e,this.destination=t}}},1307:(e,t,n)=>{"use strict";n.d(t,{x:()=>r});var i=n(7393);function r(){return function(e){return e.lift(new s(e))}}class s{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const i=new o(e,n),r=t.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class o extends i.L{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}},8819:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});var i=n(2441),r=n(1307),s=n(9765);function o(){return new s.xQ}function a(){return e=>{return(0,r.x)()((t=o,function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,i.N);return r.source=e,r.subjectFactory=n,r})(e));var t}}},9673:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});var i=n(7574),r=n(4581),s=n(6561);class o extends i.y{constructor(e,t=0,n=r.e){super(),this.source=e,this.delayTime=t,this.scheduler=n,(!(0,s.k)(t)||t<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=r.e)}static create(e,t=0,n=r.e){return new o(e,t,n)}static dispatch(e){const{source:t,subscriber:n}=e;return this.add(t.subscribe(n))}_subscribe(e){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function a(e,t=0){return function(n){return n.lift(new l(e,t))}}class l{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new o(t,this.delay,this.scheduler).subscribe(e)}}},3342:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var i=n(7393);function r(){}var s=n(9105);function o(e,t,n){return function(i){return i.lift(new a(e,t,n))}}class a{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new l(e,this.nextOrObserver,this.error,this.complete))}}class l extends i.L{constructor(e,t,n,i){super(e),this._tapNext=r,this._tapError=r,this._tapComplete=r,this._tapError=n||r,this._tapComplete=i||r,(0,s.m)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||r,this._tapError=t.error||r,this._tapComplete=t.complete||r)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}},4087:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});var i=n(7574),r=n(5319);function s(e,t){return new i.y(n=>{const i=new r.w;let s=0;return i.add(t.schedule(function(){s!==e.length?(n.next(e[s++]),n.closed||i.add(this.schedule())):n.complete()})),i})}},6465:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});var i=n(5319);class r extends i.w{constructor(e,t){super()}schedule(e,t=0){return this}}class s extends r{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,i=!1;try{this.work(e)}catch(r){i=!0,n=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},6102:(e,t,n)=>{"use strict";n.d(t,{v:()=>r});let i=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class r extends i{constructor(e,t=i.now){super(e,()=>r.delegate&&r.delegate!==this?r.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return r.delegate&&r.delegate!==this?r.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},4581:(e,t,n)=>{"use strict";n.d(t,{e:()=>h,E:()=>u});let i=1;const r=Promise.resolve(),s={};function o(e){return e in s&&(delete s[e],!0)}const a={setImmediate(e){const t=i++;return s[t]=!0,r.then(()=>o(t)&&e()),t},clearImmediate(e){o(e)}};var l=n(6465),c=n(6102);const u=new class extends c.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,i=-1,r=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++i<r&&(e=t.shift()));if(this.active=!1,n){for(;++i<r&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends l.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=a.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(a.clearImmediate(t),e.scheduled=void 0)}}),h=u},3637:(e,t,n)=>{"use strict";n.d(t,{z:()=>r,P:()=>s});var i=n(6465);const r=new(n(6102).v)(i.o),s=r},7771:(e,t,n)=>{"use strict";n.d(t,{c:()=>o,N:()=>s});var i=n(6465),r=n(6102);const s=new class extends r.v{}(class extends i.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}),o=s},377:(e,t,n)=>{"use strict";n.d(t,{hZ:()=>i});const i="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(e,t,n)=>{"use strict";n.d(t,{L:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});const i="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});const i=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},4449:(e,t,n)=>{"use strict";function i(e){setTimeout(()=>{throw e},0)}n.d(t,{z:()=>i})},4487:(e,t,n)=>{"use strict";function i(e){return e}n.d(t,{y:()=>i})},9796:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});const i=Array.isArray||(e=>e&&"number"==typeof e.length)},9489:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});const i=e=>e&&"number"==typeof e.length&&"function"!=typeof e},9105:(e,t,n)=>{"use strict";function i(e){return"function"==typeof e}n.d(t,{m:()=>i})},6561:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});var i=n(9796);function r(e){return!(0,i.k)(e)&&e-parseFloat(e)+1>=0}},1555:(e,t,n)=>{"use strict";function i(e){return null!==e&&"object"==typeof e}n.d(t,{K:()=>i})},4072:(e,t,n)=>{"use strict";function i(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:()=>i})},4869:(e,t,n)=>{"use strict";function i(e){return e&&"function"==typeof e.schedule}n.d(t,{K:()=>i})},7444:(e,t,n)=>{"use strict";n.d(t,{s:()=>u});var i=n(5015),r=n(4449),s=n(377),o=n(6554),a=n(9489),l=n(4072),c=n(1555);const u=e=>{if(e&&"function"==typeof e[o.L])return u=e,e=>{const t=u[o.L]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((0,a.z)(e))return(0,i.V)(e);if((0,l.t)(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,r.z),e);if(e&&"function"==typeof e[s.hZ])return t=e,e=>{const n=t[s.hZ]();for(;;){let t;try{t=n.next()}catch(i){return e.error(i),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=(0,c.K)(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,u}},5015:(e,t,n)=>{"use strict";n.d(t,{V:()=>i});const i=e=>t=>{for(let n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()}},5526:(e,t,n)=>{"use strict";var i=n(7716);let r=null;function s(){return r}const o=new i.OlP("DocumentToken");let a=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,i.Yz7)({factory:l,token:e,providedIn:"platform"}),e})();function l(){return(0,i.LFG)(u)}const c=new i.OlP("Location Initialized");let u=(()=>{class e extends a{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){h()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){h()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(o))},e.\u0275prov=(0,i.Yz7)({factory:d,token:e,providedIn:"platform"}),e})();function h(){return!!window.history.pushState}function d(){return new u((0,i.LFG)(o))}function p(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function f(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function m(e){return e&&"?"!==e[0]?"?"+e:e}let g=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,i.Yz7)({factory:_,token:e,providedIn:"root"}),e})();function _(e){const t=(0,i.LFG)(o).location;return new v((0,i.LFG)(a),t&&t.origin||"")}const y=new i.OlP("appBaseHref");let v=(()=>{class e extends g{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return p(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,i){const r=this.prepareExternalUrl(n+m(i));this._platformLocation.pushState(e,t,r)}replaceState(e,t,n,i){const r=this.prepareExternalUrl(n+m(i));this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(a),i.LFG(y,8))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),b=(()=>{class e extends g{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=p(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,i){let r=this.prepareExternalUrl(n+m(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(e,t,r)}replaceState(e,t,n,i){let r=this.prepareExternalUrl(n+m(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(a),i.LFG(y,8))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),w=(()=>{class e{constructor(e,t){this._subject=new i.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=f(S(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+m(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,S(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+m(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+m(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformStrategy).historyGo)||void 0===n||n.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(g),i.LFG(a))},e.normalizeQueryParams=m,e.joinWithSlash=p,e.stripTrailingSlash=f,e.\u0275prov=(0,i.Yz7)({factory:C,token:e,providedIn:"root"}),e})();function C(){return new w((0,i.LFG)(g),(0,i.LFG)(a))}function S(e){return e.replace(/\/index.html$/,"")}var k=(()=>((k=k||{})[k.Zero=0]="Zero",k[k.One=1]="One",k[k.Two=2]="Two",k[k.Few=3]="Few",k[k.Many=4]="Many",k[k.Other=5]="Other",k))();const I=i.kL8;class E{}let T=(()=>{class e extends E{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(I(t||this.locale)(e)){case k.Zero:return"zero";case k.One:return"one";case k.Two:return"two";case k.Few:return"few";case k.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.soG))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),x=(()=>{class e{constructor(e,t,n,i){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,i.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,i.AaK)(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.ZZ4),i.Y36(i.aQg),i.Y36(i.SBq),i.Y36(i.Qsj))},e.\u0275dir=i.lG2({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})();class A{constructor(e,t,n,i){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let D=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(FV){throw new Error(`Cannot find a differ supporting object '${t}' of type '${e=t,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,i)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new R(e,n);t.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const s=new R(e,r);t.push(s)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=i,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(i.ZZ4))},e.\u0275dir=i.lG2({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class R{constructor(e,t){this.record=e,this.view=t}}let O=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new P,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){N("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){N("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.s_b),i.Y36(i.Rgc))},e.\u0275dir=i.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class P{constructor(){this.$implicit=null,this.ngIf=null}}function N(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,i.AaK)(t)}'.`)}class L{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let F=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.lG2({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e})(),M=(()=>{class e{constructor(e,t,n){this.ngSwitch=n,n._addCase(),this._view=new L(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(F,9))},e.\u0275dir=i.lG2({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e})(),V=(()=>{class e{constructor(e,t,n){n._addDefault(new L(e,t))}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(F,9))},e.\u0275dir=i.lG2({type:e,selectors:[["","ngSwitchDefault",""]]}),e})();class U{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class q{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const B=new q,j=new U;let z=(()=>{class e{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(t){if((0,i.QGY)(t))return B;if((0,i.F4k)(t))return j;throw Error(`InvalidPipeArgument: '${t}' for pipe '${(0,i.AaK)(e)}'`)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.sBO,16))},e.\u0275pipe=i.Yjl({name:"async",type:e,pure:!1}),e})(),G=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[{provide:E,useClass:T}]}),e})();function Z(e){return"server"===e}let H=(()=>{class e{}return e.\u0275prov=(0,i.Yz7)({token:e,providedIn:"root",factory:()=>new Y((0,i.LFG)(o),window)}),e})();class Y{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=n.currentNode;for(;i;){const e=i.shadowRoot;if(e){const n=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(n)return n}i=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=$(this.window.history)||$(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(FV){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(FV){return!1}}}function $(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class W extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var e;e=new W,r||(r=e)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Q=Q||document.querySelector("base"),Q?Q.getAttribute("href"):null);return null==t?null:function(e){K=K||document.createElement("a"),K.setAttribute("href",e);const t=K.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){Q=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[i,r]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(i.trim()===t)return decodeURIComponent(r)}return null}(document.cookie,e)}}let K,Q=null;const J=new i.OlP("TRANSITION_ID"),X=[{provide:i.ip1,useFactory:function(e,t,n){return()=>{n.get(i.CZH).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[J,o,i.zs3],multi:!0}];class ee{static init(){(0,i.VLi)(new ee)}addToWindow(e){i.dqk.getAngularTestability=(t,n=!0)=>{const i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i},i.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),i.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),i.dqk.frameworkStabilizers||(i.dqk.frameworkStabilizers=[]),i.dqk.frameworkStabilizers.push(e=>{const t=i.dqk.getAllAngularTestabilities();let n=t.length,r=!1;const s=function(t){r=r||t,n--,0==n&&e(r)};t.forEach(function(e){e.whenStable(s)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:n?s().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let te=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const ne=new i.OlP("EventManagerPlugins");let ie=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let i=0;i<n.length;i++){const t=n[i];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(ne),i.LFG(i.R0b))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();class re{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const i=s().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,n)}}let se=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),oe=(()=>{class e extends se{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,n){e.forEach(e=>{const i=this._doc.createElement("style");i.textContent=e,n.push(t.appendChild(i))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(ae),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,n)=>{this._addStylesToHost(e,n,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ae))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(o))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();function ae(e){s().remove(e)}const le={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ce=/%COMP%/g;function ue(e,t,n){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?ue(e,r,n):(r=r.replace(ce,e),n.push(r))}return n}function he(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let de=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new pe(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case i.ifc.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new fe(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case i.ifc.ShadowDom:return new me(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=ue(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(ie),i.LFG(oe),i.LFG(i.AFp))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();class pe{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(le[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,i){if(i){t=i+":"+t;const r=le[i];r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const i=le[n];i?e.removeAttributeNS(i,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&(i.JOm.DashCase|i.JOm.Important)?e.style.setProperty(t,n,r&i.JOm.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&i.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,he(n)):this.eventManager.addEventListener(e,t,he(n))}}class fe extends pe{constructor(e,t,n,i){super(e),this.component=n;const r=ue(i+"-"+n.id,n.styles,[]);t.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(ce,i+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(ce,i+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class me extends pe{constructor(e,t,n,i){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=ue(i.id,i.styles,[]);for(let s=0;s<r.length;s++){const e=document.createElement("style");e.textContent=r[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ge=(()=>{class e extends re{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(o))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const _e=["alt","control","meta","shift"],ye={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ve={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},be={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let we=(()=>{class e extends re{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,i){const r=e.parseEventName(n),o=e.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(t,r.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=e._normalizeKey(n.pop());let s="";if(_e.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),s+=e+".")}),s+=r,0!=n.length||0===r.length)return null;const o={};return o.domEventName=i,o.fullKey=s,o}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&ve.hasOwnProperty(t)&&(t=ve[t]))}return ye[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),_e.forEach(i=>{i!=n&&(0,be[i])(e)&&(t+=i+".")}),t+=n,t}static eventCallback(t,n,i){return r=>{e.getEventFullKey(r)===t&&i.runGuarded(()=>n(r))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(o))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),Ce=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,i.Yz7)({factory:function(){return(0,i.LFG)(ke)},token:e,providedIn:"root"}),e})();function Se(e){return new ke(e.get(o))}let ke=(()=>{class e extends Ce{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case i.q3G.NONE:return t;case i.q3G.HTML:return(0,i.qzn)(t,"HTML")?(0,i.z3N)(t):(0,i.EiD)(this._doc,String(t)).toString();case i.q3G.STYLE:return(0,i.qzn)(t,"Style")?(0,i.z3N)(t):t;case i.q3G.SCRIPT:if((0,i.qzn)(t,"Script"))return(0,i.z3N)(t);throw new Error("unsafe value used in a script context");case i.q3G.URL:return(0,i.yhl)(t),(0,i.qzn)(t,"URL")?(0,i.z3N)(t):(0,i.mCW)(String(t));case i.q3G.RESOURCE_URL:if((0,i.qzn)(t,"ResourceURL"))return(0,i.z3N)(t);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,i.JVY)(e)}bypassSecurityTrustStyle(e){return(0,i.L6k)(e)}bypassSecurityTrustScript(e){return(0,i.eBb)(e)}bypassSecurityTrustUrl(e){return(0,i.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,i.pB0)(e)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(o))},e.\u0275prov=(0,i.Yz7)({factory:function(){return Se((0,i.LFG)(i.gxx))},token:e,providedIn:"root"}),e})();const Ie=(0,i.eFA)(i._c5,"browser",[{provide:i.Lbi,useValue:"browser"},{provide:i.g9A,useValue:function(){W.makeCurrent(),ee.init()},multi:!0},{provide:o,useFactory:function(){return(0,i.RDi)(document),document},deps:[]}]),Ee=[[],{provide:i.zSh,useValue:"root"},{provide:i.qLn,useFactory:function(){return new i.qLn},deps:[]},{provide:ne,useClass:ge,multi:!0,deps:[o,i.R0b,i.Lbi]},{provide:ne,useClass:we,multi:!0,deps:[o]},[],{provide:de,useClass:de,deps:[ie,oe,i.AFp]},{provide:i.FYo,useExisting:de},{provide:se,useExisting:oe},{provide:oe,useClass:oe,deps:[o]},{provide:i.dDg,useClass:i.dDg,deps:[i.R0b]},{provide:ie,useClass:ie,deps:[ne,i.R0b]},{provide:class{},useClass:te,deps:[]},[]];let Te=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:i.AFp,useValue:t.appId},{provide:J,useExisting:i.AFp},X]}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(e,12))},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:Ee,imports:[G,i.hGG]}),e})();"undefined"!=typeof window&&window;var xe=n(9765),Ae=n(5319),De=n(7971);class Re extends xe.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new De.N;return this._value}next(e){super.next(this._value=e)}}var Oe=n(5917);const Pe=13,Ne=32,Le=38,Fe=40;function Me(e,...t){return t.length?t.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}var Ve=n(3342),Ue=n(7393),qe=n(3637);function Be(e,t=qe.P){return n=>n.lift(new je(e,t))}class je{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new ze(e,this.dueTime,this.scheduler))}}class ze extends Ue.L{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Ge,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function Ge(e){e.debouncedNext()}function Ze(e,t){return function(n){return n.lift(new He(e,t))}}class He{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Ye(e,this.predicate,this.thisArg))}}class Ye extends Ue.L{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}var $e=n(8002);const We=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();var Ke=n(9193);function Qe(e){return t=>0===e?(0,Ke.c)():t.lift(new Je(e))}class Je{constructor(e){if(this.total=e,this.total<0)throw new We}call(e,t){return t.subscribe(new Xe(e,this.total))}}class Xe extends Ue.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function et(e){return t=>t.lift(new tt(e))}class tt{constructor(e){this.total=e}call(e,t){return t.subscribe(new nt(e,this.total))}}class nt extends Ue.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}function it(e,t){return n=>n.lift(new rt(e,t))}class rt{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new st(e,this.compare,this.keySelector))}}class st extends Ue.L{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}var ot=n(5345);function at(e){return t=>t.lift(new lt(e))}class lt{constructor(e){this.notifier=e}call(e,t){const n=new ct(e),i=(0,ot.ft)(this.notifier,new ot.IY(n));return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}class ct extends ot.Ds{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function ut(e){return null!=e&&"false"!=`${e}`}function ht(e,t=0){return dt(e)?Number(e):t}function dt(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function pt(e){return Array.isArray(e)?e:[e]}function ft(e){return null==e?"":"string"==typeof e?e:`${e}px`}function mt(e){return e instanceof i.SBq?e.nativeElement:e}let gt;try{gt="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(FV){gt=!1}let _t,yt=(()=>{class e{constructor(e){this._platformId=e,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!gt)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.Lbi))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(i.Lbi))},token:e,providedIn:"root"}),e})(),vt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({}),e})();const bt=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function wt(){if(_t)return _t;if("object"!=typeof document||!document)return _t=new Set(bt),_t;let e=document.createElement("input");return _t=new Set(bt.filter(t=>(e.setAttribute("type",t),e.type===t))),_t}let Ct,St,kt,It;function Et(e){return function(){if(null==Ct&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ct=!0}))}finally{Ct=Ct||!1}return Ct}()?e:!!e.capture}function Tt(){if(null==kt){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return kt=!1,kt;if("scrollBehavior"in document.documentElement.style)kt=!0;else{const e=Element.prototype.scrollTo;kt=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return kt}function xt(){if("object"!=typeof document||!document)return 0;if(null==St){const e=document.createElement("div"),t=e.style;e.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",e.appendChild(n),document.body.appendChild(e),St=0,0===e.scrollLeft&&(e.scrollLeft=1,St=0===e.scrollLeft?1:2),e.parentNode.removeChild(e)}return St}function At(){let e="undefined"!=typeof document&&document?document.activeElement:null;for(;e&&e.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}function Dt(e){return e.composedPath?e.composedPath()[0]:e.target}function Rt(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}var Ot=n(7574);let Pt=(()=>{class e{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})(),Nt=(()=>{class e{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,t)=>this._cleanupObserver(t))}observe(e){const t=mt(e);return new Ot.y(e=>{const n=this._observeElement(t).subscribe(e);return()=>{n.unsubscribe(),this._unobserveElement(t)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const t=new xe.xQ,n=this._mutationObserverFactory.create(e=>t.next(e));n&&n.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:n,stream:t,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:t,stream:n}=this._observedElements.get(e);t&&t.disconnect(),n.complete(),this._observedElements.delete(e)}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(Pt))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(Pt))},token:e,providedIn:"root"}),e})(),Lt=(()=>{class e{constructor(e,t,n){this._contentObserver=e,this._elementRef=t,this._ngZone=n,this.event=new i.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=ut(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=ht(e),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Be(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(Nt),i.Y36(i.SBq),i.Y36(i.R0b))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),e})(),Ft=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[Pt]}),e})();function Mt(e,t){return(e.getAttribute(t)||"").match(/\S+/g)||[]}const Vt="cdk-describedby-message-container",Ut="cdk-describedby-host";let qt=0;const Bt=new Map;let jt=null,zt=(()=>{class e{constructor(e){this._document=e}describe(e,t,n){if(!this._canBeDescribed(e,t))return;const i=Gt(t,n);"string"!=typeof t?(Zt(t),Bt.set(i,{messageElement:t,referenceCount:0})):Bt.has(i)||this._createMessageElement(t,n),this._isElementDescribedByMessage(e,i)||this._addMessageReference(e,i)}removeDescription(e,t,n){if(!t||!this._isElementNode(e))return;const i=Gt(t,n);if(this._isElementDescribedByMessage(e,i)&&this._removeMessageReference(e,i),"string"==typeof t){const e=Bt.get(i);e&&0===e.referenceCount&&this._deleteMessageElement(i)}jt&&0===jt.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const e=this._document.querySelectorAll("[cdk-describedby-host]");for(let t=0;t<e.length;t++)this._removeCdkDescribedByReferenceIds(e[t]),e[t].removeAttribute(Ut);jt&&this._deleteMessagesContainer(),Bt.clear()}_createMessageElement(e,t){const n=this._document.createElement("div");Zt(n),n.textContent=e,t&&n.setAttribute("role",t),this._createMessagesContainer(),jt.appendChild(n),Bt.set(Gt(e,t),{messageElement:n,referenceCount:0})}_deleteMessageElement(e){const t=Bt.get(e),n=t&&t.messageElement;jt&&n&&jt.removeChild(n),Bt.delete(e)}_createMessagesContainer(){if(!jt){const e=this._document.getElementById(Vt);e&&e.parentNode&&e.parentNode.removeChild(e),jt=this._document.createElement("div"),jt.id=Vt,jt.style.visibility="hidden",jt.classList.add("cdk-visually-hidden"),this._document.body.appendChild(jt)}}_deleteMessagesContainer(){jt&&jt.parentNode&&(jt.parentNode.removeChild(jt),jt=null)}_removeCdkDescribedByReferenceIds(e){const t=Mt(e,"aria-describedby").filter(e=>0!=e.indexOf("cdk-describedby-message"));e.setAttribute("aria-describedby",t.join(" "))}_addMessageReference(e,t){const n=Bt.get(t);!function(e,t,n){const i=Mt(e,t);i.some(e=>e.trim()==n.trim())||(i.push(n.trim()),e.setAttribute(t,i.join(" ")))}(e,"aria-describedby",n.messageElement.id),e.setAttribute(Ut,""),n.referenceCount++}_removeMessageReference(e,t){const n=Bt.get(t);n.referenceCount--,function(e,t,n){const i=Mt(e,t).filter(e=>e!=n.trim());i.length?e.setAttribute(t,i.join(" ")):e.removeAttribute(t)}(e,"aria-describedby",n.messageElement.id),e.removeAttribute(Ut)}_isElementDescribedByMessage(e,t){const n=Mt(e,"aria-describedby"),i=Bt.get(t),r=i&&i.messageElement.id;return!!r&&-1!=n.indexOf(r)}_canBeDescribed(e,t){if(!this._isElementNode(e))return!1;if(t&&"object"==typeof t)return!0;const n=null==t?"":`${t}`.trim(),i=e.getAttribute("aria-label");return!(!n||i&&i.trim()===n)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(o))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(o))},token:e,providedIn:"root"}),e})();function Gt(e,t){return"string"==typeof e?`${t||""}/${e}`:e}function Zt(e){e.id||(e.id="cdk-describedby-message-"+qt++)}class Ht extends class{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new xe.xQ,this._typeaheadSubscription=Ae.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new xe.xQ,this.change=new xe.xQ,e instanceof i.n_E&&e.changes.subscribe(e=>{if(this._activeItem){const t=e.toArray().indexOf(this._activeItem);t>-1&&t!==this._activeItemIndex&&(this._activeItemIndex=t)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Ve.b)(e=>this._pressedLetters.push(e)),Be(e),Ze(()=>this._pressedLetters.length>0),(0,$e.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const t=this._getItemsArray();for(let n=1;n<t.length+1;n++){const i=(this._activeItemIndex+n)%t.length,r=t[i];if(!this._skipPredicateFn(r)&&0===r.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(i);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(t=>!e[t]||this._allowedModifierKeys.indexOf(t)>-1);switch(t){case 9:return void this.tabOut.next();case Fe:if(this._vertical&&n){this.setNextItemActive();break}return;case Le:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||Me(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),n="number"==typeof e?e:t.indexOf(e),i=t[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let n=1;n<=t.length;n++){const i=(this._activeItemIndex+e*n+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(!n[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof i.n_E?this._items.toArray():this._items}}{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}let Yt=(()=>{class e{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const t=function(e){try{return e.frameElement}catch(FV){return null}}((n=e).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(t){if(-1===Wt(t))return!1;if(!this.isVisible(t))return!1}let i=e.nodeName.toLowerCase(),r=Wt(e);return e.hasAttribute("contenteditable")?-1!==r:"iframe"!==i&&"object"!==i&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(e){let t=e.nodeName.toLowerCase(),n="input"===t&&e.type;return"text"===n||"password"===n||"select"===t||"textarea"===t}(e))&&("audio"===i?!!e.hasAttribute("controls")&&-1!==r:"video"===i?-1!==r&&(null!==r||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,t){return function(e){return!function(e){return function(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function(e){let t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function(e){return function(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||$t(e))}(e)&&!this.isDisabled(e)&&((null==t?void 0:t.ignoreVisibility)||this.isVisible(e))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(yt))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(yt))},token:e,providedIn:"root"}),e})();function $t(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function Wt(e){if(!$t(e))return null;const t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Kt{constructor(e,t,n,i,r=!1){this._element=e,this._checker=t,this._ngZone=n,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let n=0;n<t.length;n++)t[n].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[n]):t[n].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[n]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const n=this._getFirstTabbableElement(t);return null==n||n.focus(e),!!n}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let n=0;n<t.length;n++){let e=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(e)return e}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let n=t.length-1;n>=0;n--){let e=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(e)return e}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Qe(1)).subscribe(e)}}let Qt=(()=>{class e{constructor(e,t,n){this._checker=e,this._ngZone=t,this._document=n}create(e,t=!1){return new Kt(e,this._checker,this._ngZone,this._document,t)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(Yt),i.LFG(i.R0b),i.LFG(o))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(Yt),i.LFG(i.R0b),i.LFG(o))},token:e,providedIn:"root"}),e})(),Jt=(()=>{class e{constructor(e,t,n){this._elementRef=e,this._focusTrapFactory=t,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=ut(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=ut(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const t=e.autoCapture;t&&!t.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=At(),this.focusTrap.focusInitialElementWhenReady()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(Qt),i.Y36(o))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[i.TTD]}),e})();function Xt(e){return 0===e.offsetX&&0===e.offsetY}function en(e){const t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}"undefined"!=typeof Element&&Element;const tn=new i.OlP("cdk-input-modality-detector-options"),nn={ignoreKeys:[18,17,224,91,16]},rn=Et({passive:!0,capture:!0});let sn=(()=>{class e{constructor(e,t,n,i){this._platform=e,this._mostRecentTarget=null,this._modality=new Re(null),this._lastTouchMs=0,this._onKeydown=e=>{var t,n;(null===(n=null===(t=this._options)||void 0===t?void 0:t.ignoreKeys)||void 0===n?void 0:n.some(t=>t===e.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Dt(e))},this._onMousedown=e=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Xt(e)?"keyboard":"mouse"),this._mostRecentTarget=Dt(e))},this._onTouchstart=e=>{en(e)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Dt(e))},this._options=Object.assign(Object.assign({},nn),i),this.modalityDetected=this._modality.pipe(et(1)),this.modalityChanged=this.modalityDetected.pipe(it()),e.isBrowser&&t.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,rn),n.addEventListener("mousedown",this._onMousedown,rn),n.addEventListener("touchstart",this._onTouchstart,rn)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,rn),document.removeEventListener("mousedown",this._onMousedown,rn),document.removeEventListener("touchstart",this._onTouchstart,rn))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(yt),i.LFG(i.R0b),i.LFG(o),i.LFG(tn,8))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(yt),i.LFG(i.R0b),i.LFG(o),i.LFG(tn,8))},token:e,providedIn:"root"}),e})();const on=new i.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),an=new i.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let ln=(()=>{class e{constructor(e,t,n,i){this._ngZone=t,this._defaultOptions=i,this._document=n,this._liveElement=e||this._createLiveElement()}announce(e,...t){const n=this._defaultOptions;let i,r;return 1===t.length&&"number"==typeof t[0]?r=t[0]:[i,r]=t,this.clear(),clearTimeout(this._previousTimeout),i||(i=n&&n.politeness?n.politeness:"polite"),null==r&&n&&(r=n.duration),this._liveElement.setAttribute("aria-live",i),this._ngZone.runOutsideAngular(()=>new Promise(t=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,t(),"number"==typeof r&&(this._previousTimeout=setTimeout(()=>this.clear(),r))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e="cdk-live-announcer-element",t=this._document.getElementsByClassName(e),n=this._document.createElement("div");for(let i=0;i<t.length;i++)t[i].parentNode.removeChild(t[i]);return n.classList.add(e),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(on,8),i.LFG(i.R0b),i.LFG(o),i.LFG(an,8))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(on,8),i.LFG(i.R0b),i.LFG(o),i.LFG(an,8))},token:e,providedIn:"root"}),e})(),cn=(()=>{class e{constructor(e,t,n,i){this._elementRef=e,this._liveAnnouncer=t,this._contentObserver=n,this._ngZone=i,this._politeness="polite"}get politeness(){return this._politeness}set politeness(e){this._politeness="off"===e||"assertive"===e?e:"polite","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const e=this._elementRef.nativeElement.textContent;e!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(e,this._politeness),this._previousAnnouncedText=e)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(ln),i.Y36(Nt),i.Y36(i.R0b))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"]},exportAs:["cdkAriaLive"]}),e})();const un=new i.OlP("cdk-focus-monitor-default-options"),hn=Et({passive:!0,capture:!0});let dn=(()=>{class e{constructor(e,t,n,i,r){this._ngZone=e,this._platform=t,this._inputModalityDetector=n,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new xe.xQ,this._rootNodeFocusAndBlurListener=e=>{const t=Dt(e),n="focus"===e.type?this._onFocus:this._onBlur;for(let i=t;i;i=i.parentElement)n.call(this,e,i)},this._document=i,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(e,t=!1){const n=mt(e);if(!this._platform.isBrowser||1!==n.nodeType)return(0,Oe.of)(null);const i=function(e){if(function(){if(null==It){const e="undefined"!=typeof document?document.head:null;It=!(!e||!e.createShadowRoot&&!e.attachShadow)}return It}()){const t=e.getRootNode?e.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(n)||this._getDocument(),r=this._elementInfo.get(n);if(r)return t&&(r.checkChildren=!0),r.subject;const s={checkChildren:t,subject:new xe.xQ,rootNode:i};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(e){const t=mt(e),n=this._elementInfo.get(t);n&&(n.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(n))}focusVia(e,t,n){const i=mt(e);i===this._getDocument().activeElement?this._getClosestElementsInfo(i).forEach(([e,n])=>this._originChanged(e,t,n)):(this._setOrigin(t),"function"==typeof i.focus&&i.focus(n))}ngOnDestroy(){this._elementInfo.forEach((e,t)=>this.stopMonitoring(t))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,t,n){n?e.classList.add(t):e.classList.remove(t)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,t){this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t)}_setOrigin(e,t=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&t,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,t){const n=this._elementInfo.get(t),i=Dt(e);n&&(n.checkChildren||t===i)&&this._originChanged(t,this._getFocusOrigin(i),n)}_onBlur(e,t){const n=this._elementInfo.get(t);!n||n.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(n.subject,null))}_emitOrigin(e,t){this._ngZone.run(()=>e.next(t))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const t=e.rootNode,n=this._rootNodeFocusListenerCount.get(t)||0;n||this._ngZone.runOutsideAngular(()=>{t.addEventListener("focus",this._rootNodeFocusAndBlurListener,hn),t.addEventListener("blur",this._rootNodeFocusAndBlurListener,hn)}),this._rootNodeFocusListenerCount.set(t,n+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(at(this._stopInputModalityDetector)).subscribe(e=>{this._setOrigin(e,!0)}))}_removeGlobalListeners(e){const t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){const e=this._rootNodeFocusListenerCount.get(t);e>1?this._rootNodeFocusListenerCount.set(t,e-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,hn),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,hn),this._rootNodeFocusListenerCount.delete(t))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,t,n){this._setClasses(e,t),this._emitOrigin(n.subject,t),this._lastFocusOrigin=t}_getClosestElementsInfo(e){const t=[];return this._elementInfo.forEach((n,i)=>{(i===e||n.checkChildren&&i.contains(e))&&t.push([i,n])}),t}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.R0b),i.LFG(yt),i.LFG(sn),i.LFG(o,8),i.LFG(un,8))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(i.R0b),i.LFG(yt),i.LFG(sn),i.LFG(o,8),i.LFG(un,8))},token:e,providedIn:"root"}),e})(),pn=(()=>{class e{constructor(e,t){this._elementRef=e,this._focusMonitor=t,this.cdkFocusChange=new i.vpe}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(e=>this.cdkFocusChange.emit(e))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(dn))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),e})();const fn="cdk-high-contrast-black-on-white",mn="cdk-high-contrast-white-on-black",gn="cdk-high-contrast-active";let _n=(()=>{class e{constructor(e,t){this._platform=e,this._document=t}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const t=this._document.defaultView||window,n=t&&t.getComputedStyle?t.getComputedStyle(e):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(gn),e.remove(fn),e.remove(mn),this._hasCheckedHighContrastMode=!0;const t=this.getHighContrastMode();1===t?(e.add(gn),e.add(fn)):2===t&&(e.add(gn),e.add(mn))}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(yt),i.LFG(o))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(yt),i.LFG(o))},token:e,providedIn:"root"}),e})(),yn=(()=>{class e{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(_n))},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[vt,Ft]]}),e})();const vn=new i.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,i.f3M)(o)}});let bn=(()=>{class e{constructor(e){if(this.value="ltr",this.change=new i.vpe,e){const t=e.documentElement?e.documentElement.dir:null,n=(e.body?e.body.dir:null)||t;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(vn,8))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(vn,8))},token:e,providedIn:"root"}),e})(),wn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({}),e})();const Cn=new i.GfV("12.2.13");var Sn=n(3282);function kn(...e){return(0,Sn.J)(1)((0,Oe.of)(...e))}var In=n(4869);function En(...e){const t=e[e.length-1];return(0,In.K)(t)?(e.pop(),n=>kn(e,n,t)):t=>kn(e,t)}class Tn{}const xn="*";function An(e,t){return{type:7,name:e,definitions:t,options:{}}}function Dn(e,t=null){return{type:4,styles:t,timings:e}}function Rn(e,t=null){return{type:2,steps:e,options:t}}function On(e){return{type:6,styles:e,offset:null}}function Pn(e,t,n){return{type:0,name:e,styles:t,options:n}}function Nn(e){return{type:5,steps:e}}function Ln(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}function Fn(e=null){return{type:9,options:e}}function Mn(e,t,n=null){return{type:11,selector:e,animation:t,options:n}}function Vn(e){Promise.resolve(null).then(e)}class Un{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Vn(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class qn{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,i=0;const r=this.players.length;0==r?Vn(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==r&&this._onFinish()}),e.onDestroy(()=>{++n==r&&this._onDestroy()}),e.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){const e=this.players.reduce((e,t)=>null===e||t.totalTime>e.totalTime?t:e,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}function Bn(){return"undefined"!=typeof window&&void 0!==window.document}function jn(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function zn(e){switch(e.length){case 0:return new Un;case 1:return e[0];default:return new qn(e)}}function Gn(e,t,n,i,r={},s={}){const o=[],a=[];let l=-1,c=null;if(i.forEach(e=>{const n=e.offset,i=n==l,u=i&&c||{};Object.keys(e).forEach(n=>{let i=n,a=e[n];if("offset"!==n)switch(i=t.normalizePropertyName(i,o),a){case"!":a=r[n];break;case xn:a=s[n];break;default:a=t.normalizeStyleValue(n,i,a,o)}u[i]=a}),i||a.push(u),c=u,l=n}),o.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${o.join(e)}`)}return a}function Zn(e,t,n,i){switch(t){case"start":e.onStart(()=>i(n&&Hn(n,"start",e)));break;case"done":e.onDone(()=>i(n&&Hn(n,"done",e)));break;case"destroy":e.onDestroy(()=>i(n&&Hn(n,"destroy",e)))}}function Hn(e,t,n){const i=n.totalTime,r=Yn(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==i?e.totalTime:i,!!n.disabled),s=e._data;return null!=s&&(r._data=s),r}function Yn(e,t,n,i,r="",s=0,o){return{element:e,triggerName:t,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function $n(e,t,n){let i;return e instanceof Map?(i=e.get(t),i||e.set(t,i=n)):(i=e[t],i||(i=e[t]=n)),i}function Wn(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let Kn=(e,t)=>!1,Qn=(e,t)=>!1,Jn=(e,t,n)=>[];const Xn=jn();(Xn||"undefined"!=typeof Element)&&(Kn=Bn()?(e,t)=>{for(;t&&t!==document.documentElement;){if(t===e)return!0;t=t.parentNode||t.host}return!1}:(e,t)=>e.contains(t),Qn=(()=>{if(Xn||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,n)=>t.apply(e,[n]):Qn}})(),Jn=(e,t,n)=>{let i=[];if(n){const n=e.querySelectorAll(t);for(let e=0;e<n.length;e++)i.push(n[e])}else{const n=e.querySelector(t);n&&i.push(n)}return i});let ei=null,ti=!1;function ni(e){ei||(ei=("undefined"!=typeof document?document.body:null)||{},ti=!!ei.style&&"WebkitAppearance"in ei.style);let t=!0;return ei.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in ei.style,!t&&ti)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in ei.style),t}const ii=Qn,ri=Kn,si=Jn;function oi(e){const t={};return Object.keys(e).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=e[n]}),t}let ai=(()=>{class e{validateStyleProperty(e){return ni(e)}matchesElement(e,t){return ii(e,t)}containsElement(e,t){return ri(e,t)}query(e,t,n){return si(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,i,r,s=[],o){return new Un(n,i)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();class li{}li.NOOP=new ai;const ci="ng-enter",ui="ng-leave",hi="ng-trigger",di=".ng-trigger",pi="ng-animating",fi=".ng-animating";function mi(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:gi(parseFloat(t[1]),t[2])}function gi(e,t){switch(t){case"s":return 1e3*e;default:return e}}function _i(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){let i,r=0,s="";if("string"==typeof e){const n=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};i=gi(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(r=gi(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else i=e;if(!n){let n=!1,s=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(s,0,`The provided timing value "${e}" is invalid.`)}return{duration:i,delay:r,easing:s}}(e,t,n)}function yi(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function vi(e,t,n={}){if(t)for(let i in e)n[i]=e[i];else yi(e,n);return n}function bi(e,t,n){return n?t+":"+n+";":""}function wi(e){let t="";for(let n=0;n<e.style.length;n++){const i=e.style.item(n);t+=bi(0,i,e.style.getPropertyValue(i))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=bi(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[n]));e.setAttribute("style",t)}function Ci(e,t,n){e.style&&(Object.keys(t).forEach(i=>{const r=Di(i);n&&!n.hasOwnProperty(i)&&(n[i]=e.style[r]),e.style[r]=t[i]}),jn()&&wi(e))}function Si(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=Di(t);e.style[n]=""}),jn()&&wi(e))}function ki(e){return Array.isArray(e)?1==e.length?e[0]:Rn(e):e}const Ii=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ei(e){let t=[];if("string"==typeof e){let n;for(;n=Ii.exec(e);)t.push(n[1]);Ii.lastIndex=0}return t}function Ti(e,t,n){const i=e.toString(),r=i.replace(Ii,(e,i)=>{let r=t[i];return t.hasOwnProperty(i)||(n.push(`Please provide a value for the animation param ${i}`),r=""),r.toString()});return r==i?e:r}function xi(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const Ai=/-+([a-z0-9])/g;function Di(e){return e.replace(Ai,(...e)=>e[1].toUpperCase())}function Ri(e,t){return 0===e||0===t}function Oi(e,t,n){const i=Object.keys(n);if(i.length&&t.length){let s=t[0],o=[];if(i.forEach(e=>{s.hasOwnProperty(e)||o.push(e),s[e]=n[e]}),o.length)for(var r=1;r<t.length;r++){let n=t[r];o.forEach(function(t){n[t]=Ni(e,t)})}}return t}function Pi(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function Ni(e,t){return window.getComputedStyle(e)[t]}const Li="*";function Fi(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,n){if(":"==e[0]){const i=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof i)return void t.push(i);e=i}const i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const r=i[1],s=i[2],o=i[3];t.push(Ui(r,o)),"<"!=s[0]||r==Li&&o==Li||t.push(Ui(o,r))}(e,n,t)):n.push(e),n}const Mi=new Set(["true","1"]),Vi=new Set(["false","0"]);function Ui(e,t){const n=Mi.has(e)||Vi.has(e),i=Mi.has(t)||Vi.has(t);return(r,s)=>{let o=e==Li||e==r,a=t==Li||t==s;return!o&&n&&"boolean"==typeof r&&(o=r?Mi.has(e):Vi.has(e)),!a&&i&&"boolean"==typeof s&&(a=s?Mi.has(t):Vi.has(t)),o&&a}}const qi=new RegExp("s*:selfs*,?","g");function Bi(e,t,n){return new ji(e).build(t,n)}class ji{constructor(e){this._driver=e}build(e,t){const n=new zi(t);return this._resetContextStyleTimingState(n),Pi(this,ki(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,i=t.depCount=0;const r=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,i=n.name;i.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,r.push(this.visitState(n,t))}),n.name=i}else if(1==e.type){const r=this.visitTransition(e,t);n+=r.queryCount,i+=r.depCount,s.push(r)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:r,transitions:s,queryCount:n,depCount:i,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){const r=new Set,s=i||{};if(n.styles.forEach(e=>{if(Gi(e)){const t=e;Object.keys(t).forEach(e=>{Ei(t[e]).forEach(e=>{s.hasOwnProperty(e)||r.add(e)})})}}),r.size){const n=xi(r.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=Pi(this,ki(e.animation),t);return{type:1,matchers:Fi(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Zi(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>Pi(this,e,t)),options:Zi(e.options)}}visitGroup(e,t){const n=t.currentTime;let i=0;const r=e.steps.map(e=>{t.currentTime=n;const r=Pi(this,e,t);return i=Math.max(i,t.currentTime),r});return t.currentTime=i,{type:3,steps:r,options:Zi(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return Hi(_i(e,t).duration,0,"");const i=e;if(i.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=Hi(0,0,"");return e.dynamic=!0,e.strValue=i,e}return n=n||_i(i,t),Hi(n.duration,n.delay,n.easing)}(e.timings,t.errors);let i;t.currentAnimateTimings=n;let r=e.styles?e.styles:On({});if(5==r.type)i=this.visitKeyframes(r,t);else{let r=e.styles,s=!1;if(!r){s=!0;const e={};n.easing&&(e.easing=n.easing),r=On(e)}t.currentTime+=n.duration+n.delay;const o=this.visitStyle(r,t);o.isEmptyStep=s,i=o}return t.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?e==xn?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let i=!1,r=null;return n.forEach(e=>{if(Gi(e)){const t=e,n=t.easing;if(n&&(r=n,delete t.easing),!i)for(let e in t)if(t[e].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let i=t.currentTime,r=t.currentTime;n&&r>0&&(r-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=t.collectedStyles[t.currentQuerySelector],o=s[n];let a=!0;o&&(r!=i&&r>=o.startTime&&i<=o.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=o.startTime),a&&(s[n]={startTime:r,endTime:i}),t.options&&function(e,t,n){const i=t.params||{},r=Ei(e);r.length&&r.forEach(e=>{i.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let s=!1,o=!1,a=0;const l=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let l=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(Gi(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(Gi(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),c=0;return null!=l&&(i++,c=n.offset=l),o=o||c<0||c>1,s=s||c<a,a=c,r.push(c),n});o&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&t.errors.push("Please ensure that all keyframe offsets are in order");const c=e.steps.length;let u=0;i>0&&i<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(u=1/(c-1));const h=c-1,d=t.currentTime,p=t.currentAnimateTimings,f=p.duration;return l.forEach((e,i)=>{const s=u>0?i==h?1:u*i:r[i],o=s*f;t.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(e,t),e.offset=s,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:Pi(this,ki(e.animation),t),options:Zi(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Zi(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Zi(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[r,s]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(qi,"")),[e=e.replace(/@\*/g,di).replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,fi),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+r:r,$n(t.collectedStyles,t.currentQuerySelector,{});const o=Pi(this,ki(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:o,originalSelector:e.selector,options:Zi(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:_i(e.timings,t.errors,!0);return{type:12,animation:Pi(this,ki(e.animation),t),timings:n,options:null}}}class zi{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Gi(e){return!Array.isArray(e)&&"object"==typeof e}function Zi(e){var t;return e?(e=yi(e)).params&&(e.params=(t=e.params)?yi(t):null):e={},e}function Hi(e,t,n){return{duration:e,delay:t,easing:n}}function Yi(e,t,n,i,r,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class $i{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Wi=new RegExp(":enter","g"),Ki=new RegExp(":leave","g");function Qi(e,t,n,i,r,s={},o={},a,l,c=[]){return(new Ji).buildKeyframes(e,t,n,i,r,s,o,a,l,c)}class Ji{buildKeyframes(e,t,n,i,r,s,o,a,l,c=[]){l=l||new $i;const u=new er(e,t,l,i,r,c,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),Pi(this,n,u);const h=u.timelines.filter(e=>e.containsAnimation());if(h.length&&Object.keys(o).length){const e=h[h.length-1];e.allowOnlyTimelineStyles()||e.setStyles([o],null,u.errors,a)}return h.length?h.map(e=>e.buildKeyframes()):[Yi(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const i=t.createSubContext(e.options),r=t.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);r!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let i=t.currentTimeline.currentTime;const r=null!=n.duration?mi(n.duration):null,s=null!=n.delay?mi(n.delay):null;return 0!==r&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,r,s);i=Math.max(i,n.duration+n.delay)}),i}visitReference(e,t){t.updateOptions(e.options,!0),Pi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let i=t;const r=e.options;if(r&&(r.params||r.delay)&&(i=t.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Xi);const e=mi(r.delay);i.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>Pi(this,e,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let i=t.currentTimeline.currentTime;const r=e.options&&e.options.delay?mi(e.options.delay):0;e.steps.forEach(s=>{const o=t.createSubContext(e.options);r&&o.delayNextStep(r),Pi(this,s,o),i=Math.max(i,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return _i(t.params?Ti(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());const r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(n.duration),this.visitStyle(r,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(r):n.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,i=t.currentTimeline.duration,r=n.duration,s=t.createSubContext().currentTimeline;s.easing=n.easing,e.styles.forEach(e=>{s.forwardTime((e.offset||0)*r),s.setStyles(e.styles,e.easing,t.errors,t.options),s.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(i+r),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,i=e.options||{},r=i.delay?mi(i.delay):0;r&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Xi);let s=n;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach((n,i)=>{t.currentQueryIndex=i;const o=t.createSubContext(e.options,n);r&&o.delayNextStep(r),n===t.element&&(a=o.currentTimeline),Pi(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,i=t.currentTimeline,r=e.timings,s=Math.abs(r.duration),o=s*(t.currentQueryTotal-1);let a=s*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=t.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;Pi(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-c+(i.startTime-n.currentTimeline.startTime)}}const Xi={};class er{constructor(e,t,n,i,r,s,o,a){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Xi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new tr(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let i=this.options;null!=n.duration&&(i.duration=mi(n.duration)),null!=n.delay&&(i.delay=mi(n.delay));const r=n.params;if(r){let e=i.params;e||(e=this.options.params={}),Object.keys(r).forEach(n=>{t&&e.hasOwnProperty(n)||(e[n]=Ti(r[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const i=t||this.element,r=new er(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(e),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(e){return this.previousNode=Xi,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},r=new nr(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,i,r,s){let o=[];if(i&&o.push(this.element),e.length>0){e=(e=e.replace(Wi,"."+this._enterClassName)).replace(Ki,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=n);0!==n&&(t=n<0?t.slice(t.length+n,t.length):t.slice(0,n)),o.push(...t)}return r||0!=o.length||s.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),o}}class tr{constructor(e,t,n,i){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new tr(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||xn,this._currentKeyframe[e]=xn}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,i){t&&(this._previousKeyframe.easing=t);const r=i&&i.params||{},s=function(e,t){const n={};let i;return e.forEach(e=>{"*"===e?(i=i||Object.keys(t),i.forEach(e=>{n[e]=xn})):vi(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(s).forEach(e=>{const t=Ti(s[e],r,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:xn),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],i=e._styleSummary[t];(!n||i.time>n.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,s)=>{const o=vi(r,!0);Object.keys(o).forEach(n=>{const i=o[n];"!"==i?e.add(n):i==xn&&t.add(n)}),n||(o.offset=s/this.duration),i.push(o)});const r=e.size?xi(e.values()):[],s=t.size?xi(t.values()):[];if(n){const e=i[0],t=yi(e);e.offset=0,t.offset=1,i=[e,t]}return Yi(this.element,i,r,s,this.duration,this.startTime,this.easing,!1)}}class nr extends tr{constructor(e,t,n,i,r,s,o=!1){super(e,t,s.delay),this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const r=[],s=n+t,o=t/s,a=vi(e[0],!1);a.offset=0,r.push(a);const l=vi(e[0],!1);l.offset=ir(o),r.push(l);const c=e.length-1;for(let i=1;i<=c;i++){let o=vi(e[i],!1);o.offset=ir((t+o.offset*n)/s),r.push(o)}n=s,t=0,i="",e=r}return Yi(this.element,e,this.preStyleProps,this.postStyleProps,n,t,i,!0)}}function ir(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class rr{}class sr extends rr{normalizePropertyName(e,t){return Di(e)}normalizeStyleValue(e,t,n,i){let r="";const s=n.toString().trim();if(or[t]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&i.push(`Please provide a CSS unit value for ${e}:${n}`)}return s+r}}const or=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ar(e,t,n,i,r,s,o,a,l,c,u,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const lr={};class cr{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,i){return function(e,t,n,i,r){return e.some(e=>e(t,n,i,r))}(this.ast.matchers,e,t,n,i)}buildStyles(e,t,n){const i=this._stateStyles["*"],r=this._stateStyles[e],s=i?i.buildStyles(t,n):{};return r?r.buildStyles(t,n):s}build(e,t,n,i,r,s,o,a,l,c){const u=[],h=this.ast.options&&this.ast.options.params||lr,d=this.buildStyles(n,o&&o.params||lr,u),p=a&&a.params||lr,f=this.buildStyles(i,p,u),m=new Set,g=new Map,_=new Map,y="void"===i,v={params:Object.assign(Object.assign({},h),p)},b=c?[]:Qi(e,t,this.ast.animation,r,s,d,f,v,l,u);let w=0;if(b.forEach(e=>{w=Math.max(e.duration+e.delay,w)}),u.length)return ar(t,this._triggerName,n,i,y,d,f,[],[],g,_,w,u);b.forEach(e=>{const n=e.element,i=$n(g,n,{});e.preStyleProps.forEach(e=>i[e]=!0);const r=$n(_,n,{});e.postStyleProps.forEach(e=>r[e]=!0),n!==t&&m.add(n)});const C=xi(m.values());return ar(t,this._triggerName,n,i,y,d,f,b,C,g,_,w)}}class ur{constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){const n={},i=yi(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(i[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const r=e;Object.keys(r).forEach(e=>{let s=r[e];s.length>1&&(s=Ti(s,i,t));const o=this.normalizer.normalizePropertyName(e,t);s=this.normalizer.normalizeStyleValue(e,o,s,t),n[o]=s})}}),n}}class hr{constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new ur(e.style,e.options&&e.options.params||{},n)}),dr(this.states,"true","1"),dr(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new cr(e,t,this.states))}),this.fallbackTransition=new cr(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,i){return this.transitionFactories.find(r=>r.match(e,t,n,i))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function dr(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const pr=new $i;class fr{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],i=Bi(this._driver,t,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[e]=i}_buildPlayer(e,t,n){const i=e.element,r=Gn(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(i,r,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const i=[],r=this._animations[e];let s;const o=new Map;if(r?(s=Qi(this._driver,t,r,ci,ui,{},{},n,pr,i),s.forEach(e=>{const t=$n(o,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),s=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);o.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,xn)})});const a=zn(s.map(e=>{const t=o.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,n,i){const r=Yn(t,"","","");return Zn(this._getPlayer(e),n,r,i),()=>{}}command(e,t,n,i){if("register"==n)return void this.register(e,i[0]);if("create"==n)return void this.create(e,t,i[0]||{});const r=this._getPlayer(e);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const mr="ng-animate-queued",gr="ng-animate-disabled",_r=".ng-animate-disabled",yr=[],vr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},br={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class wr{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=null!=(i=n?e.value:e)?i:null,n){const t=yi(e);delete t.value,this.options=t}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const Cr="void",Sr=new wr(Cr);class kr{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Rr(t,this._hostClassName)}listen(e,t,n,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);var r;const s=$n(this._elementListeners,e,[]),o={name:t,phase:n,callback:i};s.push(o);const a=$n(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(Rr(e,hi),Rr(e,"ng-trigger-"+t),a[t]=Sr),()=>{this._engine.afterFlush(()=>{const e=s.indexOf(o);e>=0&&s.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,i=!0){const r=this._getTrigger(t),s=new Er(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(Rr(e,hi),Rr(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,o={}));let a=o[t];const l=new wr(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[t]=l,a||(a=Sr),l.value!==Cr&&a.value===l.value){if(!function(e,t){const n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!t.hasOwnProperty(i)||e[i]!==t[i])return!1}return!0}(a.params,l.params)){const t=[],n=r.matchStyles(a.value,a.params,t),i=r.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{Si(e,n),Ci(e,i)})}return}const c=$n(this._engine.playersByElement,e,[]);c.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let u=r.matchTransition(a.value,l.value,e,l.params),h=!1;if(!u){if(!i)return;u=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:u,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(Rr(e,mr),s.onStart(()=>{Or(e,mr)})),s.onDone(()=>{let t=this.players.indexOf(s);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(s);e>=0&&n.splice(e,1)}}),this.players.push(s),c.push(s),s}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,di,!0);n.forEach(e=>{if(e.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,n,i){const r=this._engine.statesByElement.get(e);if(r){const s=[];if(Object.keys(r).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,Cr,i);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&zn(s).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){const i=new Set;t.forEach(t=>{const r=t.name;if(i.has(r))return;i.add(r);const s=this._triggers[r].fallbackTransition,o=n[r]||Sr,a=new wr(Cr),l=new Er(this.id,r,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:r,transition:s,fromState:o,toState:a,player:l,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)i=!0;else{let t=e;for(;t=t.parentNode;)if(n.statesByElement.get(t)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)n.markElementAsRemoved(this.id,e,!1,t);else{const i=e.__ng_removed;i&&i!==vr||(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){Rr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,s=this._elementListeners.get(r);s&&s.forEach(t=>{if(t.name==n.triggerName){const i=Yn(r,n.triggerName,n.fromState.value,n.toState.value);i._data=e,Zn(n.player,t.phase,i,t.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,i=t.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class Ir{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new kr(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,t)){this._namespaceList.splice(r+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=n[e[i]].namespaceId;if(r){const e=this._fetchNamespace(r);e&&t.add(e)}}}return t}trigger(e,t,n,i){if(Tr(t)){const r=this._fetchNamespace(e);if(r)return r.trigger(t,n,i),!0}return!1}insertNode(e,t,n,i){if(!Tr(t))return;const r=t.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const i=this._fetchNamespace(e);i&&i.insertNode(t,n)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Rr(e,gr)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Or(e,gr))}removeNode(e,t,n,i){if(Tr(t)){const r=e?this._fetchNamespace(e):null;if(r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),n){const n=this.namespacesByHostElement.get(t);n&&n.id!==e&&n.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,n,i){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,i,r){return Tr(t)?this._fetchNamespace(e).listen(t,n,i,r):()=>{}}_buildInstruction(e,t,n,i,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,r)}destroyInnerAnimations(e){let t=this.driver.query(e,di,!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,fi,!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return zn(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=vr,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,_r)&&this.markElementAsDisabled(e,!1),this.driver.query(e,_r,!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Rr(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?zn(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const n=new $i,i=[],r=new Map,s=[],o=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(e=>{c.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let n=0;n<t.length;n++)c.add(t[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Dr(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((e,t)=>{const n=ci+f++;p.set(t,n),e.forEach(e=>Rr(e,n))});const m=[],g=new Set,_=new Set;for(let D=0;D<this.collectedLeaveElements.length;D++){const e=this.collectedLeaveElements[D],t=e.__ng_removed;t&&t.setForRemoval&&(m.push(e),g.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>g.add(e)):_.add(e))}const y=new Map,v=Dr(h,Array.from(g));v.forEach((e,t)=>{const n=ui+f++;y.set(t,n),e.forEach(e=>Rr(e,n))}),e.push(()=>{d.forEach((e,t)=>{const n=p.get(t);e.forEach(e=>Or(e,n))}),v.forEach((e,t)=>{const n=y.get(t);e.forEach(e=>Or(e,n))}),m.forEach(e=>{this.processLeaveNode(e)})});const b=[],w=[];for(let D=this._namespaceList.length-1;D>=0;D--)this._namespaceList[D].drainQueuedTransitions(t).forEach(e=>{const t=e.player,r=e.element;if(b.push(t),this.collectedEnterElements.length){const e=r.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const c=!u||!this.driver.containsElement(u,r),h=y.get(r),d=p.get(r),f=this._buildInstruction(e,n,d,h,c);if(f.errors&&f.errors.length)w.push(f);else{if(c)return t.onStart(()=>Si(r,f.fromStyles)),t.onDestroy(()=>Ci(r,f.toStyles)),void i.push(t);if(e.isFallbackTransition)return t.onStart(()=>Si(r,f.fromStyles)),t.onDestroy(()=>Ci(r,f.toStyles)),void i.push(t);f.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(r,f.timelines),s.push({instruction:f,player:t,element:r}),f.queriedElements.forEach(e=>$n(o,e,[]).push(t)),f.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=a.get(t);e||a.set(t,e=new Set),n.forEach(t=>e.add(t))}}),f.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let i=l.get(t);i||l.set(t,i=new Set),n.forEach(e=>i.add(e))})}});if(w.length){const e=[];w.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),b.forEach(e=>e.destroy()),this.reportError(e)}const C=new Map,S=new Map;s.forEach(e=>{const t=e.element;n.has(t)&&(S.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,C))}),i.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{$n(C,t,[]).push(e),e.destroy()})});const k=m.filter(e=>Lr(e,a,l)),I=new Map;Ar(I,this.driver,_,l,xn).forEach(e=>{Lr(e,a,l)&&k.push(e)});const E=new Map;d.forEach((e,t)=>{Ar(E,this.driver,new Set(e),a,"!")}),k.forEach(e=>{const t=I.get(e),n=E.get(e);I.set(e,Object.assign(Object.assign({},t),n))});const T=[],x=[],A={};s.forEach(e=>{const{element:t,player:s,instruction:o}=e;if(n.has(t)){if(c.has(t))return s.onDestroy(()=>Ci(t,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void i.push(s);let e=A;if(S.size>1){let n=t;const i=[];for(;n=n.parentNode;){const t=S.get(n);if(t){e=t;break}i.push(n)}i.forEach(t=>S.set(t,e))}const n=this._buildAnimation(s.namespaceId,o,C,r,E,I);if(s.setRealPlayer(n),e===A)T.push(s);else{const t=this.playersByElement.get(e);t&&t.length&&(s.parentPlayer=zn(t)),i.push(s)}}else Si(t,o.fromStyles),s.onDestroy(()=>Ci(t,o.toStyles)),x.push(s),c.has(t)&&i.push(s)}),x.forEach(e=>{const t=r.get(e.element);if(t&&t.length){const n=zn(t);e.setRealPlayer(n)}}),i.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let D=0;D<m.length;D++){const e=m[D],t=e.__ng_removed;if(Or(e,ui),t&&t.hasAnimation)continue;let n=[];if(o.size){let t=o.get(e);t&&t.length&&n.push(...t);let i=this.driver.query(e,fi,!0);for(let e=0;e<i.length;e++){let t=o.get(i[e]);t&&t.length&&n.push(...t)}}const i=n.filter(e=>!e.destroyed);i.length?Pr(this,e,i):this.processLeaveNode(e)}return m.length=0,T.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),T}elementContainsData(e,t){let n=!1;const i=t.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,i,r){let s=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(s=t)}else{const t=this.playersByElement.get(e);if(t){const e=!r||r==Cr;t.forEach(t=>{t.queued||(e||t.triggerName==i)&&s.push(t)})}}return(n||i)&&(s=s.filter(e=>!(n&&n!=e.namespaceId||i&&i!=e.triggerName))),s}_beforeAnimationBuild(e,t,n){const i=t.element,r=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName;for(const o of t.timelines){const e=o.element,a=e!==i,l=$n(n,e,[]);this._getPreviousPlayers(e,a,r,s,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})}Si(i,t.fromStyles)}_buildAnimation(e,t,n,i,r,s){const o=t.triggerName,a=t.element,l=[],c=new Set,u=new Set,h=t.timelines.map(t=>{const h=t.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Un(t.duration,t.delay);const p=h!==a,f=function(e){const t=[];return Nr(e,t),t}((n.get(h)||yr).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===h),m=r.get(h),g=s.get(h),_=Gn(0,this._normalizer,0,t.keyframes,m,g),y=this._buildPlayer(t,_,f);if(t.subTimeline&&i&&u.add(h),p){const t=new Er(e,o,h);t.setRealPlayer(y),l.push(t)}return y});l.forEach(e=>{$n(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,n){let i;if(e instanceof Map){if(i=e.get(t),i){if(i.length){const e=i.indexOf(n);i.splice(e,1)}0==i.length&&e.delete(t)}}else if(i=e[t],i){if(i.length){const e=i.indexOf(n);i.splice(e,1)}0==i.length&&delete e[t]}return i}(this.playersByQueriedElement,e.element,e))}),c.forEach(e=>Rr(e,pi));const d=zn(h);return d.onDestroy(()=>{c.forEach(e=>Or(e,pi)),Ci(a,t.toStyles)}),u.forEach(e=>{$n(i,e,[]).push(d)}),d}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Un(e.duration,e.delay)}}class Er{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new Un,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>Zn(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){$n(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Tr(e){return e&&1===e.nodeType}function xr(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function Ar(e,t,n,i,r){const s=[];n.forEach(e=>s.push(xr(e)));const o=[];i.forEach((n,i)=>{const s={};n.forEach(e=>{const n=s[e]=t.computeStyle(i,e,r);n&&0!=n.length||(i.__ng_removed=br,o.push(i))}),e.set(i,s)});let a=0;return n.forEach(e=>xr(e,s[a++])),o}function Dr(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const i=new Set(t),r=new Map;function s(e){if(!e)return 1;let t=r.get(e);if(t)return t;const o=e.parentNode;return t=n.has(o)?o:i.has(o)?1:s(o),r.set(e,t),t}return t.forEach(e=>{const t=s(e);1!==t&&n.get(t).push(e)}),n}function Rr(e,t){if(e.classList)e.classList.add(t);else{let n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function Or(e,t){if(e.classList)e.classList.remove(t);else{let n=e.$$classes;n&&delete n[t]}}function Pr(e,t,n){zn(n).onDone(()=>e.processLeaveNode(t))}function Nr(e,t){for(let n=0;n<e.length;n++){const i=e[n];i instanceof qn?Nr(i.players,t):t.push(i)}}function Lr(e,t,n){const i=n.get(e);if(!i)return!1;let r=t.get(e);return r?i.forEach(e=>r.add(e)):t.set(e,i),n.delete(e),!0}class Fr{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new Ir(e,t,n),this._timelineEngine=new fr(e,t,n),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,n,i,r){const s=e+"-"+i;let o=this._triggerCache[s];if(!o){const e=[],t=Bi(this._driver,r,e);if(e.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);o=function(e,t,n){return new hr(e,t,n)}(i,t,this._normalizer),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(t,i,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}onRemove(e,t,n,i){this._transitionEngine.removeNode(e,t,i||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,i){if("@"==n.charAt(0)){const[e,r]=Wn(n);this._timelineEngine.command(e,t,r,i)}else this._transitionEngine.trigger(e,t,n,i)}listen(e,t,n,i,r){if("@"==n.charAt(0)){const[e,i]=Wn(n);return this._timelineEngine.listen(e,t,i,r)}return this._transitionEngine.listen(e,t,n,i,r)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Mr(e,t){let n=null,i=null;return Array.isArray(t)&&t.length?(n=Ur(t[0]),t.length>1&&(i=Ur(t[t.length-1]))):t&&(n=Ur(t)),n||i?new Vr(e,n,i):null}class Vr{constructor(e,t,n){this._element=e,this._startStyles=t,this._endStyles=n,this._state=0;let i=Vr.initialStylesByElement.get(e);i||Vr.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Ci(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ci(this._element,this._initialStyles),this._endStyles&&(Ci(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Vr.initialStylesByElement.delete(this._element),this._startStyles&&(Si(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Si(this._element,this._endStyles),this._endStyles=null),Ci(this._element,this._initialStyles),this._state=3)}}function Ur(e){let t=null;const n=Object.keys(e);for(let i=0;i<n.length;i++){const r=n[i];qr(r)&&(t=t||{},t[r]=e[r])}return t}function qr(e){return"display"===e||"position"===e}Vr.initialStylesByElement=new WeakMap;const Br="animation",jr="animationend";class zr{constructor(e,t,n,i,r,s,o){this._element=e,this._name=t,this._duration=n,this._delay=i,this._easing=r,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const n=Wr(e,"").trim();n.length&&(function(e,t){let n=0;for(let i=0;i<e.length;i++)","===e.charAt(i)&&n++}(n),t=`${n}, ${t}`),$r(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Yr(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Gr(this._element,this._name,"paused")}resume(){Gr(this._element,this._name,"running")}setPosition(e){const t=Zr(this._element,this._name);this._position=e*this._duration,$r(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Yr(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const n=Wr(e,"").split(","),i=Hr(n,t);i>=0&&(n.splice(i,1),$r(e,"",n.join(",")))}(this._element,this._name))}}function Gr(e,t,n){$r(e,"PlayState",n,Zr(e,t))}function Zr(e,t){const n=Wr(e,"");return n.indexOf(",")>0?Hr(n.split(","),t):Hr([n],t)}function Hr(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function Yr(e,t,n){n?e.removeEventListener(jr,t):e.addEventListener(jr,t)}function $r(e,t,n,i){const r=Br+t;if(null!=i){const t=e.style[r];if(t.length){const e=t.split(",");e[i]=n,n=e.join(",")}}e.style[r]=n}function Wr(e,t){return e.style[Br+t]||""}class Kr{constructor(e,t,n,i,r,s,o,a){this.element=e,this.keyframes=t,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=i+r,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new zr(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:Ni(this.element,n))})}this.currentSnapshot=e}}class Qr extends Un{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=oi(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class Jr{constructor(){this._count=0}validateStyleProperty(e){return ni(e)}matchesElement(e,t){return ii(e,t)}containsElement(e,t){return ri(e,t)}query(e,t,n){return si(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(e=>oi(e));let i=`@keyframes ${t} {\n`,r="";n.forEach(e=>{r=" ";const t=parseFloat(e.offset);i+=`${r}${100*t}% {\n`,r+=" ",Object.keys(e).forEach(t=>{const n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${t}: ${n};\n`)}}),i+=`${r}}\n`}),i+="}\n";const s=document.createElement("style");return s.textContent=i,s}animate(e,t,n,i,r,s=[],o){const a=s.filter(e=>e instanceof Kr),l={};Ri(n,i)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const c=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(n=>{"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=Oi(e,t,l));if(0==n)return new Qr(e,c);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,u,t);(function(e){var t;const n=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(e).appendChild(h);const d=Mr(e,t),p=new Kr(e,t,u,n,i,r,c,d);return p.onDestroy(()=>{var e;(e=h).parentNode.removeChild(e)}),p}}class Xr{constructor(e,t,n,i){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:Ni(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class es{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(ts().toString()),this._cssKeyframesDriver=new Jr}validateStyleProperty(e){return ni(e)}matchesElement(e,t){return ii(e,t)}containsElement(e,t){return ri(e,t)}query(e,t,n){return si(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,i,r,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,i,r,s);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const l={},c=s.filter(e=>e instanceof Xr);Ri(n,i)&&c.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const u=Mr(e,t=Oi(e,t=t.map(e=>vi(e,!1)),l));return new Xr(e,t,a,u)}}function ts(){return Bn()&&Element.prototype.animate||{}}let ns=(()=>{class e extends Tn{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:i.ifc.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?Rn(e):e;return ss(this._renderer,null,t,"register",[n]),new is(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.FYo),i.LFG(o))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();class is extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new rs(this._id,e,t||{},this._renderer)}}class rs{constructor(e,t,n,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return ss(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function ss(e,t,n,i,r){return e.setProperty(t,`@@${n}:${i}`,r)}const os="@",as="@.disabled";let ls=(()=>{class e{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new cs("",n,this.engine),this._rendererCache.set(n,e)),e}const i=t.id,r=t.id+"-"+this._currentId;this._currentId++,this.engine.register(r,e);const s=t=>{Array.isArray(t)?t.forEach(s):this.engine.registerTrigger(i,r,e,t.name,t)};return t.data.animation.forEach(s),new us(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.FYo),i.LFG(Fr),i.LFG(i.R0b))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();class cs{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,i=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,i){this.delegate.setStyle(e,t,n,i)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==os&&t==as?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class us extends cs{constructor(e,t,n,i){super(t,n,i),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==os?"."==t.charAt(1)&&t==as?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if(t.charAt(0)==os){const i=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let r=t.substr(1),s="";return r.charAt(0)!=os&&([r,s]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(r)),this.engine.listen(this.namespaceId,i,r,s,e=>{this.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}let hs=(()=>{class e extends Fr{constructor(e,t,n){super(e.body,t,n)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(o),i.LFG(li),i.LFG(rr))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const ds=new i.OlP("AnimationModuleType"),ps=[{provide:Tn,useClass:ns},{provide:rr,useFactory:function(){return new sr}},{provide:Fr,useClass:hs},{provide:i.FYo,useFactory:function(e,t,n){return new ls(e,t,n)},deps:[de,Fr,i.R0b]}],fs=[{provide:li,useFactory:function(){return"function"==typeof ts()?new es:new Jr}},{provide:ds,useValue:"BrowserAnimations"},...ps],ms=[{provide:li,useClass:ai},{provide:ds,useValue:"NoopAnimations"},...ps];let gs=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?ms:fs}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:fs,imports:[Te]}),e})();function _s(e,t){if(1&e&&i._UZ(0,"mat-pseudo-checkbox",4),2&e){const e=i.oxw();i.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function ys(e,t){if(1&e&&(i.TgZ(0,"span",5),i._uU(1),i.qZA()),2&e){const e=i.oxw();i.xp6(1),i.hij("(",e.group.label,")")}}const vs=["*"],bs=new i.GfV("12.2.13"),ws=new i.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Cs=(()=>{class e{constructor(e,t,n){this._hasDoneGlobalChecks=!1,this._document=n,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=t,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!(!(0,i.X6Q)()||Rt())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&bs.full!==Cn.full&&console.warn("The Angular Material version ("+bs.full+") does not match the Angular CDK version ("+Cn.full+").\nPlease ensure the versions of these two packages exactly match.")}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(_n),i.LFG(ws,8),i.LFG(o))},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[wn],wn]}),e})();function Ss(e){return class extends e{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=ut(e)}}}function ks(e,t){return class extends e{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const t=e||this.defaultColor;t!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),t&&this._elementRef.nativeElement.classList.add(`mat-${t}`),this._color=t)}}}function Is(e){return class extends e{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ut(e)}}}function Es(e,t=0){return class extends e{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?ht(e):this.defaultTabIndex}}}function Ts(e){return class extends e{constructor(...e){super(...e),this.stateChanges=new xe.xQ,this.errorState=!1}updateErrorState(){const e=this.errorState,t=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);t!==e&&(this.errorState=t,this.stateChanges.next())}}}function xs(e){return class extends e{constructor(...e){super(...e),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new Ot.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(e){e.next(),e.complete()}}}const As=new i.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return(0,i.f3M)(i.soG)}});class Ds{constructor(){this._localeChanges=new xe.xQ,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let n=this.isValid(e),i=this.isValid(t);return n&&i?!this.compareDate(e,t):n==i}return e==t}clampDate(e,t,n){return t&&this.compareDate(e,t)<0?t:n&&this.compareDate(e,n)>0?n:e}}const Rs=new i.OlP("mat-date-formats");let Os;try{Os="undefined"!=typeof Intl}catch(FV){Os=!1}const Ps={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},Ns=Ms(31,e=>String(e+1)),Ls={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},Fs=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Ms(e,t){const n=Array(e);for(let i=0;i<e;i++)n[i]=t(i);return n}let Vs=(()=>{class e extends Ds{constructor(e,t){super(),this.useUtcForDisplay=!0,super.setLocale(e),this.useUtcForDisplay=!t.TRIDENT,this._clampDate=t.TRIDENT||t.EDGE}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){if(Os){const t=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return Ms(12,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,e,1))))}return Ps[e]}getDateNames(){if(Os){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Ms(31,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return Ns}getDayOfWeekNames(e){if(Os){const t=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return Ms(7,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,e+1))))}return Ls[e]}getYearName(e){if(Os){const t=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(t,e))}return String(this.getYear(e))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,t,n){let i=this._createDateWithOverflow(e,t,n);return i.getMonth(),i}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,t){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");if(Os){this._clampDate&&(e.getFullYear()<1||e.getFullYear()>9999)&&(e=this.clone(e)).setFullYear(Math.max(1,Math.min(9999,e.getFullYear()))),t=Object.assign(Object.assign({},t),{timeZone:"utc"});const n=new Intl.DateTimeFormat(this.locale,t);return this._stripDirectionalityCharacters(this._format(n,e))}return this._stripDirectionalityCharacters(e.toDateString())}addCalendarYears(e,t){return this.addCalendarMonths(e,12*t)}addCalendarMonths(e,t){let n=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+t,this.getDate(e));return this.getMonth(n)!=((this.getMonth(e)+t)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}addCalendarDays(e,t){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+t)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(Fs.test(e)){let t=new Date(e);if(this.isValid(t))return t}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,t,n){const i=new Date;return i.setFullYear(e,t,n),i.setHours(0,0,0,0),i}_2digit(e){return("00"+e).slice(-2)}_stripDirectionalityCharacters(e){return e.replace(/[\u200e\u200f]/g,"")}_format(e,t){const n=new Date;return n.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setUTCHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e.format(n)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(As,8),i.LFG(yt))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),Us=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[{provide:Ds,useClass:Vs}],imports:[[vt]]}),e})();const qs={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Bs=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[{provide:Rs,useValue:qs}],imports:[[Us]]}),e})(),js=(()=>{class e{isErrorState(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})(),zs=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.lG2({type:e,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),e})();function Gs(e,t,n){const i=e.nativeElement.classList;n?i.add(t):i.remove(t)}let Zs=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[Cs],Cs]}),e})();class Hs{constructor(e,t,n){this._renderer=e,this.element=t,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Ys={enterDuration:225,exitDuration:150},$s=Et({passive:!0}),Ws=["mousedown","touchstart"],Ks=["mouseup","mouseleave","touchend","touchcancel"];class Qs{constructor(e,t,n,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=mt(n))}fadeInRipple(e,t,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},Ys),n.animation);n.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const s=n.radius||function(e,t,n){const i=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),r=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(i*i+r*r)}(e,t,i),o=e-i.left,a=t-i.top,l=r.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=o-s+"px",c.style.top=a-s+"px",c.style.height=2*s+"px",c.style.width=2*s+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const u=new Hs(this,c,n);return u.state=0,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const e=u===this._mostRecentTransientRipple;u.state=1,n.persistent||e&&this._isPointerDown||u.fadeOut()},l),u}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const n=e.element,i=Object.assign(Object.assign({},Ys),e.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,n.parentNode.removeChild(n)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=mt(e);t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(Ws))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Ks),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=Xt(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||t||n||(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!en(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let e=0;e<t.length;e++)this.fadeInRipple(t[e].clientX,t[e].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(e=>{this._triggerElement.addEventListener(e,this,$s)})})}_removeTriggerEvents(){this._triggerElement&&(Ws.forEach(e=>{this._triggerElement.removeEventListener(e,this,$s)}),this._pointerUpEventsRegistered&&Ks.forEach(e=>{this._triggerElement.removeEventListener(e,this,$s)}))}}const Js=new i.OlP("mat-ripple-global-options");let Xs=(()=>{class e{constructor(e,t,n,i,r){this._elementRef=e,this._animationMode=r,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new Qs(this,t,e,n)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,t=0,n){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(yt),i.Y36(Js,8),i.Y36(ds,8))},e.\u0275dir=i.lG2({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,t){2&e&&i.ekj("mat-ripple-unbounded",t.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),e})(),eo=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[Cs,vt],Cs]}),e})(),to=(()=>{class e{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(ds,8))},e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,t){2&e&&i.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===t.state)("mat-pseudo-checkbox-checked","checked"===t.state)("mat-pseudo-checkbox-disabled",t.disabled)("_mat-animation-noopable","NoopAnimations"===t._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,t){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),e})(),no=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[Cs]]}),e})();const io=new i.OlP("MAT_OPTION_PARENT_COMPONENT"),ro=Ss(class{});let so=0,oo=(()=>{class e extends ro{constructor(e){var t;super(),this._labelId="mat-optgroup-label-"+so++,this._inert=null!==(t=null==e?void 0:e.inertGroups)&&void 0!==t&&t}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(io,8))},e.\u0275dir=i.lG2({type:e,inputs:{label:"label"},features:[i.qOj]}),e})();const ao=new i.OlP("MatOptgroup");let lo=0;class co{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let uo=(()=>{class e{constructor(e,t,n,r){this._element=e,this._changeDetectorRef=t,this._parent=n,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+lo++,this.onSelectionChange=new i.vpe,this._stateChanges=new xe.xQ}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=ut(e)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,t){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(t)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){e.keyCode!==Pe&&e.keyCode!==Ne||Me(e)||(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new co(this,e))}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(void 0),i.Y36(oo))},e.\u0275dir=i.lG2({type:e,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),e})(),ho=(()=>{class e extends uo{constructor(e,t,n,i){super(e,t,n,i)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(io,8),i.Y36(ao,8))},e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,t){1&e&&i.NdJ("click",function(){return t._selectViaInteraction()})("keydown",function(e){return t._handleKeydown(e)}),2&e&&(i.Ikx("id",t.id),i.uIk("tabindex",t._getTabIndex())("aria-selected",t._getAriaSelected())("aria-disabled",t.disabled.toString()),i.ekj("mat-selected",t.selected)("mat-option-multiple",t.multiple)("mat-active",t.active)("mat-option-disabled",t.disabled))},exportAs:["matOption"],features:[i.qOj],ngContentSelectors:vs,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,t){1&e&&(i.F$t(),i.YNc(0,_s,1,2,"mat-pseudo-checkbox",0),i.TgZ(1,"span",1),i.Hsn(2),i.qZA(),i.YNc(3,ys,2,1,"span",2),i._UZ(4,"div",3)),2&e&&(i.Q6J("ngIf",t.multiple),i.xp6(3),i.Q6J("ngIf",t.group&&t.group._inert),i.xp6(1),i.Q6J("matRippleTrigger",t._getHostElement())("matRippleDisabled",t.disabled||t.disableRipple))},directives:[O,Xs,to],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),e})();function po(e,t,n){if(n.length){let i=t.toArray(),r=n.toArray(),s=0;for(let t=0;t<e+1;t++)i[t].group&&i[t].group===r[s]&&s++;return s}return 0}let fo=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[eo,G,Cs,no]]}),e})(),mo=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[yn,Cs],Cs]}),e})();const go=["mat-button",""],_o=["*"],yo=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],vo=ks(Ss(Is(class{constructor(e){this._elementRef=e}})));let bo=(()=>{class e extends vo{constructor(e,t,n){super(e),this._focusMonitor=t,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const i of yo)this._hasHostAttributes(i)&&this._getHostElement().classList.add(i);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,t){e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(e=>this._getHostElement().hasAttribute(e))}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(dn),i.Y36(ds,8))},e.\u0275cmp=i.Xpm({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,t){if(1&e&&i.Gf(Xs,5),2&e){let e;i.iGM(e=i.CRH())&&(t.ripple=e.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,t){2&e&&(i.uIk("disabled",t.disabled||null),i.ekj("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-button-disabled",t.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[i.qOj],attrs:go,ngContentSelectors:_o,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,t){1&e&&(i.F$t(),i.TgZ(0,"span",0),i.Hsn(1),i.qZA(),i._UZ(2,"span",1),i._UZ(3,"span",2)),2&e&&(i.xp6(2),i.ekj("mat-button-ripple-round",t.isRoundButton||t.isIconButton),i.Q6J("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",t.isIconButton)("matRippleTrigger",t._getHostElement()))},directives:[Xs],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),e})(),wo=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[eo,Cs],Cs]}),e})();var Co=n(6682);function So(e){return e&&"function"==typeof e.connect}class ko{applyChanges(e,t,n,i,r){e.forEachOperation((e,i,s)=>{let o,a;if(null==e.previousIndex){const r=n(e,i,s);o=t.createEmbeddedView(r.templateRef,r.context,r.index),a=1}else null==s?(t.remove(i),a=3):(o=t.get(i),t.move(o,s),a=2);r&&r({context:null==o?void 0:o.context,operation:a,record:e})})}detach(){}}class Io{constructor(e=!1,t,n=!0){this._multiple=e,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new xe.xQ,t&&t.length&&(e?t.forEach(e=>this._markSelected(e)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}const Eo=new i.OlP("_ViewRepeater");var To=n(9796),xo=n(9105);function Ao(e,t,n,i){return(0,xo.m)(n)&&(i=n,n=void 0),i?Ao(e,t,n).pipe((0,$e.U)(e=>(0,To.k)(e)?i(...e):i(e))):new Ot.y(i=>{Do(e,t,function(e){i.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},i,n)})}function Do(e,t,n,i,r){let s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const i=e;e.addEventListener(t,n,r),s=()=>i.removeEventListener(t,n,r)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const i=e;e.on(t,n),s=()=>i.off(t,n)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const i=e;e.addListener(t,n),s=()=>i.removeListener(t,n)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,o=e.length;s<o;s++)Do(e[s],t,n,i,r)}i.add(s)}const Ro=["underline"],Oo=["connectionContainer"],Po=["inputContainer"],No=["label"];function Lo(e,t){1&e&&(i.ynx(0),i.TgZ(1,"div",14),i._UZ(2,"div",15),i._UZ(3,"div",16),i._UZ(4,"div",17),i.qZA(),i.TgZ(5,"div",18),i._UZ(6,"div",15),i._UZ(7,"div",16),i._UZ(8,"div",17),i.qZA(),i.BQk())}function Fo(e,t){1&e&&(i.TgZ(0,"div",19),i.Hsn(1,1),i.qZA())}function Mo(e,t){if(1&e&&(i.ynx(0),i.Hsn(1,2),i.TgZ(2,"span"),i._uU(3),i.qZA(),i.BQk()),2&e){const e=i.oxw(2);i.xp6(3),i.Oqu(e._control.placeholder)}}function Vo(e,t){1&e&&i.Hsn(0,3,["*ngSwitchCase","true"])}function Uo(e,t){1&e&&(i.TgZ(0,"span",23),i._uU(1," *"),i.qZA())}function qo(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"label",20,21),i.NdJ("cdkObserveContent",function(){return i.CHM(e),i.oxw().updateOutlineGap()}),i.YNc(2,Mo,4,1,"ng-container",12),i.YNc(3,Vo,1,0,"ng-content",12),i.YNc(4,Uo,2,0,"span",22),i.qZA()}if(2&e){const e=i.oxw();i.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),i.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),i.uIk("for",e._control.id)("aria-owns",e._control.id),i.xp6(2),i.Q6J("ngSwitchCase",!1),i.xp6(1),i.Q6J("ngSwitchCase",!0),i.xp6(1),i.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function Bo(e,t){1&e&&(i.TgZ(0,"div",24),i.Hsn(1,4),i.qZA())}function jo(e,t){if(1&e&&(i.TgZ(0,"div",25,26),i._UZ(2,"span",27),i.qZA()),2&e){const e=i.oxw();i.xp6(2),i.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function zo(e,t){if(1&e&&(i.TgZ(0,"div"),i.Hsn(1,5),i.qZA()),2&e){const e=i.oxw();i.Q6J("@transitionMessages",e._subscriptAnimationState)}}function Go(e,t){if(1&e&&(i.TgZ(0,"div",31),i._uU(1),i.qZA()),2&e){const e=i.oxw(2);i.Q6J("id",e._hintLabelId),i.xp6(1),i.Oqu(e.hintLabel)}}function Zo(e,t){if(1&e&&(i.TgZ(0,"div",28),i.YNc(1,Go,2,2,"div",29),i.Hsn(2,6),i._UZ(3,"div",30),i.Hsn(4,7),i.qZA()),2&e){const e=i.oxw();i.Q6J("@transitionMessages",e._subscriptAnimationState),i.xp6(1),i.Q6J("ngIf",e.hintLabel)}}const Ho=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Yo=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let $o=0;const Wo=new i.OlP("MatError");let Ko=(()=>{class e{constructor(e,t){this.id="mat-error-"+$o++,e||t.nativeElement.setAttribute("aria-live","polite")}}return e.\u0275fac=function(t){return new(t||e)(i.$8M("aria-live"),i.Y36(i.SBq))},e.\u0275dir=i.lG2({type:e,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,t){2&e&&i.uIk("id",t.id)},inputs:{id:"id"},features:[i._Bn([{provide:Wo,useExisting:e}])]}),e})();const Qo={transitionMessages:An("transitionMessages",[Pn("enter",On({opacity:1,transform:"translateY(0%)"})),Ln("void => enter",[On({opacity:0,transform:"translateY(-5px)"}),Dn("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Jo=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.lG2({type:e}),e})();const Xo=new i.OlP("MatHint");let ea=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.lG2({type:e,selectors:[["mat-label"]]}),e})(),ta=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.lG2({type:e,selectors:[["mat-placeholder"]]}),e})();const na=new i.OlP("MatPrefix"),ia=new i.OlP("MatSuffix");let ra=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.lG2({type:e,selectors:[["","matSuffix",""]],features:[i._Bn([{provide:ia,useExisting:e}])]}),e})(),sa=0;const oa=ks(class{constructor(e){this._elementRef=e}},"primary"),aa=new i.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),la=new i.OlP("MatFormField");let ca=(()=>{class e extends oa{constructor(e,t,n,i,r,s,o,a){super(e),this._changeDetectorRef=t,this._dir=i,this._defaults=r,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new xe.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+sa++,this._labelId="mat-form-field-label-"+sa++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=r&&r.appearance?r.appearance:"legacy",this._hideRequiredMarker=!(!r||null==r.hideRequiredMarker)&&r.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const t=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&t!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=ut(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(En(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(at(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(at(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Co.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(En(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(En(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(at(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const t=this._control?this._control.ngControl:null;return t&&t[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Ao(this._label.nativeElement,"transitionend").pipe(Qe(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const t=this._hintChildren?this._hintChildren.find(e=>"start"===e.align):null,n=this._hintChildren?this._hintChildren.find(e=>"end"===e.align):null;t?e.push(t.id):this._hintLabel&&e.push(this._hintLabelId),n&&e.push(n.id)}else this._errorChildren&&e.push(...this._errorChildren.map(e=>e.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!e||!e.children.length||!e.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let t=0,n=0;const i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),s=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const r=i.getBoundingClientRect();if(0===r.width&&0===r.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(r),o=e.children,a=this._getStartEnd(o[0].getBoundingClientRect());let l=0;for(let e=0;e<o.length;e++)l+=o[e].offsetWidth;t=Math.abs(a-s)-5,n=l>0?.75*l+10:0}for(let o=0;o<r.length;o++)r[o].style.width=`${t}px`;for(let o=0;o<s.length;o++)s[o].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const t=e.getRootNode();return t&&t!==e}return document.documentElement.contains(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(bn,8),i.Y36(aa,8),i.Y36(yt),i.Y36(i.R0b),i.Y36(ds,8))},e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-form-field"]],contentQueries:function(e,t,n){if(1&e&&(i.Suo(n,Jo,5),i.Suo(n,Jo,7),i.Suo(n,ea,5),i.Suo(n,ea,7),i.Suo(n,ta,5),i.Suo(n,Wo,5),i.Suo(n,Xo,5),i.Suo(n,na,5),i.Suo(n,ia,5)),2&e){let e;i.iGM(e=i.CRH())&&(t._controlNonStatic=e.first),i.iGM(e=i.CRH())&&(t._controlStatic=e.first),i.iGM(e=i.CRH())&&(t._labelChildNonStatic=e.first),i.iGM(e=i.CRH())&&(t._labelChildStatic=e.first),i.iGM(e=i.CRH())&&(t._placeholderChild=e.first),i.iGM(e=i.CRH())&&(t._errorChildren=e),i.iGM(e=i.CRH())&&(t._hintChildren=e),i.iGM(e=i.CRH())&&(t._prefixChildren=e),i.iGM(e=i.CRH())&&(t._suffixChildren=e)}},viewQuery:function(e,t){if(1&e&&(i.Gf(Ro,5),i.Gf(Oo,7),i.Gf(Po,5),i.Gf(No,5)),2&e){let e;i.iGM(e=i.CRH())&&(t.underlineRef=e.first),i.iGM(e=i.CRH())&&(t._connectionContainerRef=e.first),i.iGM(e=i.CRH())&&(t._inputContainerRef=e.first),i.iGM(e=i.CRH())&&(t._label=e.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,t){2&e&&i.ekj("mat-form-field-appearance-standard","standard"==t.appearance)("mat-form-field-appearance-fill","fill"==t.appearance)("mat-form-field-appearance-outline","outline"==t.appearance)("mat-form-field-appearance-legacy","legacy"==t.appearance)("mat-form-field-invalid",t._control.errorState)("mat-form-field-can-float",t._canLabelFloat())("mat-form-field-should-float",t._shouldLabelFloat())("mat-form-field-has-label",t._hasFloatingLabel())("mat-form-field-hide-placeholder",t._hideControlPlaceholder())("mat-form-field-disabled",t._control.disabled)("mat-form-field-autofilled",t._control.autofilled)("mat-focused",t._control.focused)("ng-untouched",t._shouldForward("untouched"))("ng-touched",t._shouldForward("touched"))("ng-pristine",t._shouldForward("pristine"))("ng-dirty",t._shouldForward("dirty"))("ng-valid",t._shouldForward("valid"))("ng-invalid",t._shouldForward("invalid"))("ng-pending",t._shouldForward("pending"))("_mat-animation-noopable",!t._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[i._Bn([{provide:la,useExisting:e}]),i.qOj],ngContentSelectors:Yo,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,t){1&e&&(i.F$t(Ho),i.TgZ(0,"div",0),i.TgZ(1,"div",1,2),i.NdJ("click",function(e){return t._control.onContainerClick&&t._control.onContainerClick(e)}),i.YNc(3,Lo,9,0,"ng-container",3),i.YNc(4,Fo,2,0,"div",4),i.TgZ(5,"div",5,6),i.Hsn(7),i.TgZ(8,"span",7),i.YNc(9,qo,5,16,"label",8),i.qZA(),i.qZA(),i.YNc(10,Bo,2,0,"div",9),i.qZA(),i.YNc(11,jo,3,4,"div",10),i.TgZ(12,"div",11),i.YNc(13,zo,2,1,"div",12),i.YNc(14,Zo,5,2,"div",13),i.qZA(),i.qZA()),2&e&&(i.xp6(3),i.Q6J("ngIf","outline"==t.appearance),i.xp6(1),i.Q6J("ngIf",t._prefixChildren.length),i.xp6(5),i.Q6J("ngIf",t._hasFloatingLabel()),i.xp6(1),i.Q6J("ngIf",t._suffixChildren.length),i.xp6(1),i.Q6J("ngIf","outline"!=t.appearance),i.xp6(1),i.Q6J("ngSwitch",t._getDisplayedMessages()),i.xp6(1),i.Q6J("ngSwitchCase","error"),i.xp6(1),i.Q6J("ngSwitchCase","hint"))},directives:[O,F,M,Lt],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Qo.transitionMessages]},changeDetection:0}),e})(),ua=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[G,Cs,Ft],Cs]}),e})();var ha=n(4402),da=n(1555);function pa(...e){if(1===e.length){const t=e[0];if((0,To.k)(t))return fa(t,null);if((0,da.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return fa(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return fa(e=1===e.length&&(0,To.k)(e[0])?e[0]:e,null).pipe((0,$e.U)(e=>t(...e)))}return fa(e,null)}function fa(e,t){return new Ot.y(n=>{const i=e.length;if(0===i)return void n.complete();const r=new Array(i);let s=0,o=0;for(let a=0;a<i;a++){const l=(0,ha.D)(e[a]);let c=!1;n.add(l.subscribe({next:e=>{c||(c=!0,o++),r[a]=e},error:e=>n.error(e),complete:()=>{s++,s!==i&&c||(o===i&&n.next(t?t.reduce((e,t,n)=>(e[t]=r[n],e),{}):r),n.complete())}}))}})}let ma=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Qsj),i.Y36(i.SBq))},e.\u0275dir=i.lG2({type:e}),e})(),ga=(()=>{class e extends ma{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i.n5z(e)))(n||e)}}(),e.\u0275dir=i.lG2({type:e,features:[i.qOj]}),e})();const _a=new i.OlP("NgValueAccessor"),ya={provide:_a,useExisting:(0,i.Gpc)(()=>ba),multi:!0},va=new i.OlP("CompositionEventMode");let ba=(()=>{class e extends ma{constructor(e,t,n){super(e,t),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=s()?s().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(va,8))},e.\u0275dir=i.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&i.NdJ("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[i._Bn([ya]),i.qOj]}),e})();function wa(e){return null==e||0===e.length}function Ca(e){return null!=e&&"number"==typeof e.length}const Sa=new i.OlP("NgValidators"),ka=new i.OlP("NgAsyncValidators"),Ia=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ea{static min(e){return function(e){return t=>{if(wa(t.value)||wa(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(e)}static max(e){return function(e){return t=>{if(wa(t.value)||wa(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(e)}static required(e){return function(e){return wa(e.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(e){return!0===e.value?null:{required:!0}}(e)}static email(e){return function(e){return wa(e.value)||Ia.test(e.value)?null:{email:!0}}(e)}static minLength(e){return function(e){return t=>wa(t.value)||!Ca(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(e)}static maxLength(e){return function(e){return t=>Ca(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(e)}static pattern(e){return function(e){if(!e)return Ta;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(wa(e.value))return null;const i=e.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Pa(e)}static composeAsync(e){return La(e)}}function Ta(e){return null}function xa(e){return null!=e}function Aa(e){const t=(0,i.QGY)(e)?(0,ha.D)(e):e;return(0,i.CqO)(t),t}function Da(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Ra(e,t){return t.map(t=>t(e))}function Oa(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function Pa(e){if(!e)return null;const t=e.filter(xa);return 0==t.length?null:function(e){return Da(Ra(e,t))}}function Na(e){return null!=e?Pa(Oa(e)):null}function La(e){if(!e)return null;const t=e.filter(xa);return 0==t.length?null:function(e){return pa(Ra(e,t).map(Aa)).pipe((0,$e.U)(Da))}}function Fa(e){return null!=e?La(Oa(e)):null}function Ma(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Va(e){return e._rawValidators}function Ua(e){return e._rawAsyncValidators}let qa=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Na(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Fa(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.lG2({type:e}),e})(),Ba=(()=>{class e extends qa{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i.n5z(e)))(n||e)}}(),e.\u0275dir=i.lG2({type:e,features:[i.qOj]}),e})();class ja extends qa{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class za{constructor(e){this._cd=e}is(e){var t,n,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===i?void 0:i[e])}}let Ga=(()=>{class e extends za{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(ja,2))},e.\u0275dir=i.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&i.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[i.qOj]}),e})(),Za=(()=>{class e extends za{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(Ba,10))},e.\u0275dir=i.lG2({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,t){2&e&&i.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))("ng-submitted",t.is("submitted"))},features:[i.qOj]}),e})();function Ha(e,t){Wa(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Qa(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Qa(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function Ya(e,t,n=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Ka(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function $a(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Wa(e,t){const n=Va(e);null!==t.validator?e.setValidators(Ma(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const i=Ua(e);null!==t.asyncValidator?e.setAsyncValidators(Ma(i,t.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]);const r=()=>e.updateValueAndValidity();$a(t._rawValidators,r),$a(t._rawAsyncValidators,r)}function Ka(e,t){let n=!1;if(null!==e){if(null!==t.validator){const i=Va(e);if(Array.isArray(i)&&i.length>0){const r=i.filter(e=>e!==t.validator);r.length!==i.length&&(n=!0,e.setValidators(r))}}if(null!==t.asyncValidator){const i=Ua(e);if(Array.isArray(i)&&i.length>0){const r=i.filter(e=>e!==t.asyncValidator);r.length!==i.length&&(n=!0,e.setAsyncValidators(r))}}}const i=()=>{};return $a(t._rawValidators,i),$a(t._rawAsyncValidators,i),n}function Qa(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Ja(e,t){Wa(e,t)}function Xa(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function el(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const tl="VALID",nl="INVALID",il="PENDING",rl="DISABLED";function sl(e){return(cl(e)?e.validators:e)||null}function ol(e){return Array.isArray(e)?Na(e):e||null}function al(e,t){return(cl(t)?t.asyncValidators:e)||null}function ll(e){return Array.isArray(e)?Fa(e):e||null}function cl(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class ul{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=ol(this._rawValidators),this._composedAsyncValidatorFn=ll(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===tl}get invalid(){return this.status===nl}get pending(){return this.status==il}get disabled(){return this.status===rl}get enabled(){return this.status!==rl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=ol(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=ll(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=il,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=rl,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=tl,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==tl&&this.status!==il||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rl:tl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=il,this._hasOwnPendingAsyncValidator=!0;const t=Aa(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let i=e;return t.forEach(e=>{i=i instanceof dl?i.controls.hasOwnProperty(e)?i.controls[e]:null:i instanceof pl&&i.at(e)||null}),i}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new i.vpe,this.statusChanges=new i.vpe}_calculateStatus(){return this._allControlsDisabled()?rl:this.errors?nl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(il)?il:this._anyControlsHaveStatus(nl)?nl:tl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){cl(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class hl extends ul{constructor(e=null,t,n){super(sl(t),al(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){el(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){el(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class dl extends ul{constructor(e,t,n){super(sl(t),al(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof hl?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,i)=>{n=t(n,e,i)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class pl extends ul{constructor(e,t,n){super(sl(t),al(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof hl?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const fl={provide:Ba,useExisting:(0,i.Gpc)(()=>gl)},ml=(()=>Promise.resolve(null))();let gl=(()=>{class e extends Ba{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new i.vpe,this.form=new dl({},Na(e),Fa(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ml.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),Ha(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ml.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),el(this._directives,e)})}addFormGroup(e){ml.then(()=>{const t=this._findContainer(e.path),n=new dl({});Ja(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ml.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){ml.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Xa(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(Sa,10),i.Y36(ka,10))},e.\u0275dir=i.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&i.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i._Bn([fl]),i.qOj]}),e})(),_l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),yl=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({}),e})();const vl=new i.OlP("NgModelWithFormControlWarning"),bl={provide:Ba,useExisting:(0,i.Gpc)(()=>wl)};let wl=(()=>{class e extends Ba{constructor(e,t){super(),this.validators=e,this.asyncValidators=t,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.vpe,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ka(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return Ha(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){Ya(e.control||null,e,!1),el(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,Xa(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=e.control,n=this.form.get(e.path);t!==n&&(Ya(t||null,e),n instanceof hl&&(Ha(n,e),e.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const t=this.form.get(e.path);Ja(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const t=this.form.get(e.path);t&&function(e,t){return Ka(e,t)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Wa(this.form,this),this._oldForm&&Ka(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(Sa,10),i.Y36(ka,10))},e.\u0275dir=i.lG2({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&i.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i._Bn([bl]),i.qOj,i.TTD]}),e})();const Cl={provide:ja,useExisting:(0,i.Gpc)(()=>Sl)};let Sl=(()=>{class e extends ja{constructor(e,t,n,r,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new i.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=function(e,t){if(!t)return null;let n,i,r;return Array.isArray(t),t.forEach(e=>{e.constructor===ba?n=e:Object.getPrototypeOf(e.constructor)===ga?i=e:r=e}),r||i||n||null}(0,r)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return e=null==this.name?this.name:this.name.toString(),[...this._parent.path,e];var e}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(Ba,13),i.Y36(Sa,10),i.Y36(ka,10),i.Y36(_a,10),i.Y36(vl,8))},e.\u0275dir=i.lG2({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i._Bn([Cl]),i.qOj,i.TTD]}),e._ngModelWarningSentOnce=!1,e})(),kl=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[yl]]}),e})(),Il=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[kl]}),e})(),El=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:vl,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[kl]}),e})(),Tl=(()=>{class e{group(e,t=null){const n=this._reduceControls(e);let i,r=null,s=null;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(r=null!=t.validators?t.validators:null,s=null!=t.asyncValidators?t.asyncValidators:null,i=null!=t.updateOn?t.updateOn:void 0):(r=null!=t.validator?t.validator:null,s=null!=t.asyncValidator?t.asyncValidator:null)),new dl(n,{asyncValidators:s,updateOn:i,validators:r})}control(e,t,n){return new hl(e,t,n)}array(e,t,n){const i=e.map(e=>this._createControl(e));return new pl(i,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){return e instanceof hl||e instanceof dl||e instanceof pl?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,i.Yz7)({factory:function(){return new e},token:e,providedIn:El}),e})();const xl=new i.OlP("mat-chips-default-options"),Al={separatorKeyCodes:[Pe]};let Dl=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[js,{provide:xl,useValue:Al}],imports:[[Cs]]}),e})();var Rl=n(6465),Ol=n(6102);new class extends Ol.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,i=-1,r=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++i<r&&(e=t.shift()));if(this.active=!1,n){for(;++i<r&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends Rl.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}),n(4581);class Pl{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new Nl(e,this.durationSelector))}}class Nl extends ot.Ds{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:t}=this;n=t(e)}catch(t){return this.destination.error(t)}const i=(0,ot.ft)(n,new ot.IY(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:e,hasValue:t,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Ll=n(6561);function Fl(e){const{index:t,period:n,subscriber:i}=e;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}function Ml(e,t=qe.P){return n=()=>function(e=0,t,n){let i=-1;return(0,Ll.k)(t)?i=Number(t)<1?1:Number(t):(0,In.K)(t)&&(n=t),(0,In.K)(n)||(n=qe.P),new Ot.y(t=>{const r=(0,Ll.k)(e)?e:+e-n.now();return n.schedule(Fl,r,{index:0,period:i,subscriber:t})})}(e,t),function(e){return e.lift(new Pl(n))};var n}function Vl(){return e=>e.lift(new Ul)}class Ul{call(e,t){return t.subscribe(new ql(e))}}class ql extends Ue.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}function Bl(e,t){return"function"==typeof t?n=>n.pipe(Bl((n,i)=>(0,ha.D)(e(n,i)).pipe((0,$e.U)((e,r)=>t(n,e,i,r))))):t=>t.lift(new jl(e))}class jl{constructor(e){this.project=e}call(e,t){return t.subscribe(new zl(e,this.project))}}class zl extends ot.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(Dy){return void this.destination.error(Dy)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new ot.IY(this),i=this.destination;i.add(n),this.innerSubscription=(0,ot.ft)(e,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}var Gl=n(7771),Zl=n(6136),Hl=n(8858);class Yl extends xe.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new $l(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let s;if(this.closed)throw new De.N;if(this.isStopped||this.hasError?s=Ae.w.EMPTY:(this.observers.push(e),s=new Hl.W(this,e)),i&&e.add(e=new Zl.ht(e,i)),t)for(let o=0;o<r&&!e.closed;o++)e.next(n[o]);else for(let o=0;o<r&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),s}_getNow(){return(this.scheduler||Gl.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let s=0;for(;s<r&&!(e-i[s].time<n);)s++;return r>t&&(s=Math.max(s,r-t)),s>0&&i.splice(0,s),i}}class $l{constructor(e,t){this.time=e,this.value=t}}function Wl(e,t,n){let i;return i=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let r,s,o=0,a=!1,l=!1;return function(c){let u;o++,!r||a?(a=!1,r=new Yl(e,t,i),u=r.subscribe(this),s=c.subscribe({next(e){r.next(e)},error(e){a=!0,r.error(e)},complete(){l=!0,s=void 0,r.complete()}}),l&&(s=void 0)):u=r.subscribe(this),this.add(()=>{o--,u.unsubscribe(),u=void 0,s&&!l&&n&&0===o&&(s.unsubscribe(),s=void 0,r=void 0)})}}(i))}let Kl=(()=>{class e{constructor(e,t,n){this._ngZone=e,this._platform=t,this._scrolled=new xe.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Ot.y(t=>{this._globalSubscription||this._addGlobalListener();const n=e>0?this._scrolled.pipe(Ml(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Oe.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){const n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(Ze(e=>!e||n.indexOf(e)>-1))}getAncestorScrollContainers(e){const t=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,e)&&t.push(i)}),t}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,t){let n=mt(t),i=e.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ao(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.R0b),i.LFG(yt),i.LFG(o,8))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(i.R0b),i.LFG(yt),i.LFG(o,8))},token:e,providedIn:"root"}),e})(),Ql=(()=>{class e{constructor(e,t,n,i){this.elementRef=e,this.scrollDispatcher=t,this.ngZone=n,this.dir=i,this._destroyed=new xe.xQ,this._elementScrolled=new Ot.y(e=>this.ngZone.runOutsideAngular(()=>Ao(this.elementRef.nativeElement,"scroll").pipe(at(this._destroyed)).subscribe(e)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const t=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=n?e.end:e.start),null==e.right&&(e.right=n?e.start:e.end),null!=e.bottom&&(e.top=t.scrollHeight-t.clientHeight-e.bottom),n&&0!=xt()?(null!=e.left&&(e.right=t.scrollWidth-t.clientWidth-e.left),2==xt()?e.left=e.right:1==xt()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=t.scrollWidth-t.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const t=this.elementRef.nativeElement;Tt()?t.scrollTo(e):(null!=e.top&&(t.scrollTop=e.top),null!=e.left&&(t.scrollLeft=e.left))}measureScrollOffset(e){const t="left",n="right",i=this.elementRef.nativeElement;if("top"==e)return i.scrollTop;if("bottom"==e)return i.scrollHeight-i.clientHeight-i.scrollTop;const r=this.dir&&"rtl"==this.dir.value;return"start"==e?e=r?n:t:"end"==e&&(e=r?t:n),r&&2==xt()?e==t?i.scrollWidth-i.clientWidth-i.scrollLeft:i.scrollLeft:r&&1==xt()?e==t?i.scrollLeft+i.scrollWidth-i.clientWidth:-i.scrollLeft:e==t?i.scrollLeft:i.scrollWidth-i.clientWidth-i.scrollLeft}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(Kl),i.Y36(i.R0b),i.Y36(bn,8))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),e})(),Jl=(()=>{class e{constructor(e,t,n){this._platform=e,this._change=new xe.xQ,this._changeListener=e=>{this._change.next(e)},this._document=n,t.runOutsideAngular(()=>{if(e.isBrowser){const e=this._getWindow();e.addEventListener("resize",this._changeListener),e.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:t,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+t,height:n,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,t=this._getWindow(),n=e.documentElement,i=n.getBoundingClientRect();return{top:-i.top||e.body.scrollTop||t.scrollY||n.scrollTop||0,left:-i.left||e.body.scrollLeft||t.scrollX||n.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Ml(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(yt),i.LFG(i.R0b),i.LFG(o,8))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(yt),i.LFG(i.R0b),i.LFG(o,8))},token:e,providedIn:"root"}),e})(),Xl=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({}),e})(),ec=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[wn,vt,Xl],wn,Xl]}),e})();class tc{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class nc extends tc{constructor(e,t,n,i){super(),this.component=e,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=i}}class ic extends tc{constructor(e,t,n){super(),this.templateRef=e,this.viewContainerRef=t,this.context=n}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class rc extends tc{constructor(e){super(),this.element=e instanceof i.SBq?e.nativeElement:e}}class sc{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof nc?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof ic?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof rc?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class oc extends sc{constructor(e,t,n,i,r){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=e=>{const t=e.element,n=this._document.createComment("dom-portal");t.parentNode.insertBefore(n,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(t,n)})},this._document=r}attachComponentPortal(e){const t=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let n;return e.viewContainerRef?(n=e.viewContainerRef.createComponent(t,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=t.create(e.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=e,n}attachTemplatePortal(e){let t=e.viewContainerRef,n=t.createEmbeddedView(e.templateRef,e.context);return n.rootNodes.forEach(e=>this.outletElement.appendChild(e)),n.detectChanges(),this.setDisposeFn(()=>{let e=t.indexOf(n);-1!==e&&t.remove(e)}),this._attachedPortal=e,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let ac=(()=>{class e extends sc{constructor(e,t,n){super(),this._componentFactoryResolver=e,this._viewContainerRef=t,this._isInitialized=!1,this.attached=new i.vpe,this.attachDomPortal=e=>{const t=e.element,n=this._document.createComment("dom-portal");e.setAttachedHost(this),t.parentNode.insertBefore(n,t),this._getRootNode().appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(t,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(e){(!this.hasAttached()||e||this._isInitialized)&&(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const t=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),i=t.createComponent(n,t.length,e.injector||t.injector);return t!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(e){e.setAttachedHost(this);const t=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=t,this.attached.emit(t),t}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i._Vd),i.Y36(i.s_b),i.Y36(o))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[i.qOj]}),e})(),lc=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({}),e})();class cc{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new uc(e,this.predicate,this.inclusive))}}class uc extends Ue.L{constructor(e,t,n){super(e),this.predicate=t,this.inclusive=n,this.index=0}_next(e){const t=this.destination;let n;try{n=this.predicate(e,this.index++)}catch(i){return void t.error(i)}this.nextOrComplete(e,n)}nextOrComplete(e,t){const n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())}}const hc=Tt();class dc{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ft(-this._previousScrollPosition.left),e.style.top=ft(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,t=e.style,n=this._document.body.style,i=t.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),hc&&(t.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),hc&&(t.scrollBehavior=i,n.scrollBehavior=r)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}class pc{constructor(e,t,n,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class fc{enable(){}disable(){}attach(){}}function mc(e,t){return t.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function gc(e,t){return t.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class _c{constructor(e,t,n,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:n}=this._viewportRuler.getViewportSize();mc(e,[{width:t,height:n,bottom:n,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let yc=(()=>{class e{constructor(e,t,n,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this.noop=()=>new fc,this.close=e=>new pc(this._scrollDispatcher,this._ngZone,this._viewportRuler,e),this.block=()=>new dc(this._viewportRuler,this._document),this.reposition=e=>new _c(this._scrollDispatcher,this._viewportRuler,this._ngZone,e),this._document=i}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(Kl),i.LFG(Jl),i.LFG(i.R0b),i.LFG(o))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(Kl),i.LFG(Jl),i.LFG(i.R0b),i.LFG(o))},token:e,providedIn:"root"}),e})();class vc{constructor(e){if(this.scrollStrategy=new fc,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const n of t)void 0!==e[n]&&(this[n]=e[n])}}}class bc{constructor(e,t,n,i,r){this.offsetX=n,this.offsetY=i,this.panelClass=r,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class wc{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let Cc=(()=>{class e{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this.detach()}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(o))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(o))},token:e,providedIn:"root"}),e})(),Sc=(()=>{class e extends Cc{constructor(e){super(e),this._keydownListener=e=>{const t=this._attachedOverlays;for(let n=t.length-1;n>-1;n--)if(t[n]._keydownEvents.observers.length>0){t[n]._keydownEvents.next(e);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(o))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(o))},token:e,providedIn:"root"}),e})(),kc=(()=>{class e extends Cc{constructor(e,t){super(e),this._platform=t,this._cursorStyleIsSet=!1,this._pointerDownListener=e=>{this._pointerDownEventTarget=Dt(e)},this._clickListener=e=>{const t=Dt(e),n="click"===e.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:t;this._pointerDownEventTarget=null;const i=this._attachedOverlays.slice();for(let r=i.length-1;r>-1;r--){const s=i[r];if(!(s._outsidePointerEvents.observers.length<1)&&s.hasAttached()){if(s.overlayElement.contains(t)||s.overlayElement.contains(n))break;s._outsidePointerEvents.next(e)}}}}add(e){if(super.add(e),!this._isAttached){const e=this._document.body;e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=e.style.cursor,e.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(o),i.LFG(yt))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(o),i.LFG(yt))},token:e,providedIn:"root"}),e})(),Ic=(()=>{class e{constructor(e,t){this._platform=t,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Rt()){const t=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const t=this._document.createElement("div");t.classList.add(e),Rt()?t.setAttribute("platform","test"):this._platform.isBrowser||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(o),i.LFG(yt))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(o),i.LFG(yt))},token:e,providedIn:"root"}),e})();class Ec{constructor(e,t,n,i,r,s,o,a,l){this._portalOutlet=e,this._host=t,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=l,this._backdropElement=null,this._backdropClick=new xe.xQ,this._attachments=new xe.xQ,this._detachments=new xe.xQ,this._locationChanges=Ae.w.EMPTY,this._backdropClickHandler=e=>this._backdropClick.next(e),this._keydownEvents=new xe.xQ,this._outsidePointerEvents=new xe.xQ,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Qe(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ft(this._config.width),e.height=ft(this._config.height),e.minWidth=ft(this._config.minWidth),e.minHeight=ft(this._config.minHeight),e.maxWidth=ft(this._config.maxWidth),e.maxHeight=ft(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(e,t,n){const i=e.classList;pt(t).forEach(e=>{e&&(n?i.add(e):i.remove(e))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(at((0,Co.T)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.parentNode&&e.parentNode.removeChild(e),this._backdropElement===e&&(this._backdropElement=null))}}const Tc="cdk-overlay-connected-position-bounding-box",xc=/([A-Za-z%]+)$/;class Ac{constructor(e,t,n,i,r){this._viewportRuler=t,this._document=n,this._platform=i,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new xe.xQ,this._resizeSubscription=Ae.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(Tc),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,n=this._viewportRect,i=[];let r;for(let s of this._preferredPositions){let o=this._getOriginPoint(e,s),a=this._getOverlayPoint(o,t,s),l=this._getOverlayFit(a,t,n,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(l,a,n)?i.push({position:s,origin:o,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!r||r.overlayFit.visibleArea<l.visibleArea)&&(r={overlayFit:l,overlayPoint:a,originPoint:o,position:s,overlayRect:t})}if(i.length){let e=null,t=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>t&&(t=i,e=n)}return this._isPushed=!1,void this._applyPosition(e.position,e.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Dc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Tc),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let n,i;if("center"==t.originX)n=e.left+e.width/2;else{const i=this._isRtl()?e.right:e.left,r=this._isRtl()?e.left:e.right;n="start"==t.originX?i:r}return i="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:n,y:i}}_getOverlayPoint(e,t,n){let i,r;return i="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,r="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:e.x+i,y:e.y+r}}_getOverlayFit(e,t,n,i){const r=Oc(t);let{x:s,y:o}=e,a=this._getOffset(i,"x"),l=this._getOffset(i,"y");a&&(s+=a),l&&(o+=l);let c=0-o,u=o+r.height-n.height,h=this._subtractOverflows(r.width,0-s,s+r.width-n.width),d=this._subtractOverflows(r.height,c,u),p=h*d;return{visibleArea:p,isCompletelyWithinViewport:r.width*r.height===p,fitsInViewportVertically:d===r.height,fitsInViewportHorizontally:h==r.width}}_canFitWithFlexibleDimensions(e,t,n){if(this._hasFlexibleDimensions){const i=n.bottom-t.y,r=n.right-t.x,s=Rc(this._overlayRef.getConfig().minHeight),o=Rc(this._overlayRef.getConfig().minWidth),a=e.fitsInViewportHorizontally||null!=o&&o<=r;return(e.fitsInViewportVertically||null!=s&&s<=i)&&a}return!1}_pushOverlayOnScreen(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=Oc(t),r=this._viewportRect,s=Math.max(e.x+i.width-r.width,0),o=Math.max(e.y+i.height-r.height,0),a=Math.max(r.top-n.top-e.y,0),l=Math.max(r.left-n.left-e.x,0);let c=0,u=0;return c=i.width<=r.width?l||-s:e.x<this._viewportMargin?r.left-n.left-e.x:0,u=i.height<=r.height?a||-o:e.y<this._viewportMargin?r.top-n.top-e.y:0,this._previousPushAmount={x:c,y:u},{x:e.x+c,y:e.y+u}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const t=this._getScrollVisibility(),n=new wc(e,t);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=e.overlayY;n="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let r=0;r<t.length;r++)t[r].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(e,t){const n=this._viewportRect,i=this._isRtl();let r,s,o,a,l,c;if("top"===t.overlayY)s=e.y,r=n.height-s+this._viewportMargin;else if("bottom"===t.overlayY)o=n.height-e.y+2*this._viewportMargin,r=n.height-o+this._viewportMargin;else{const t=Math.min(n.bottom-e.y+n.top,e.y),i=this._lastBoundingBoxSize.height;r=2*t,s=e.y-t,r>i&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-i/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)c=n.width-e.x+this._viewportMargin,a=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)l=e.x,a=n.right-e.x;else{const t=Math.min(n.right-e.x+n.left,e.x),i=this._lastBoundingBoxSize.width;a=2*t,l=e.x-t,a>i&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.x-i/2)}return{top:s,left:l,bottom:o,right:c,width:a,height:r}}_setBoundingBoxStyles(e,t){const n=this._calculateBoundingBoxRect(e,t);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const e=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=ft(n.height),i.top=ft(n.top),i.bottom=ft(n.bottom),i.width=ft(n.width),i.left=ft(n.left),i.right=ft(n.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",e&&(i.maxHeight=ft(e)),r&&(i.maxWidth=ft(r))}this._lastBoundingBoxSize=n,Dc(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Dc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Dc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const i=this._viewportRuler.getViewportScrollPosition();Dc(n,this._getExactOverlayY(t,e,i)),Dc(n,this._getExactOverlayX(t,e,i))}else n.position="static";let o="",a=this._getOffset(t,"x"),l=this._getOffset(t,"y");a&&(o+=`translateX(${a}px) `),l&&(o+=`translateY(${l}px)`),n.transform=o.trim(),s.maxHeight&&(i?n.maxHeight=ft(s.maxHeight):r&&(n.maxHeight="")),s.maxWidth&&(i?n.maxWidth=ft(s.maxWidth):r&&(n.maxWidth="")),Dc(this._pane.style,n)}_getExactOverlayY(e,t,n){let i={top:"",bottom:""},r=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=s,"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":i.top=ft(r.y),i}_getExactOverlayX(e,t,n){let i,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),i=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===i?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=ft(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(e=>e.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:gc(e,n),isOriginOutsideView:mc(e,n),isOverlayClipped:gc(t,n),isOverlayOutsideView:mc(t,n)}}_subtractOverflows(e,...t){return t.reduce((e,t)=>e-Math.max(t,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&pt(e).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof i.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}}function Dc(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Rc(e){if("number"!=typeof e&&null!=e){const[t,n]=e.split(xc);return n&&"px"!==n?null:parseFloat(t)}return e||null}function Oc(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}class Pc{constructor(e,t,n,i,r,s,o){this._preferredPositions=[],this._positionStrategy=new Ac(n,i,r,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,n,i){const r=new bc(e,t,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}const Nc="cdk-global-overlay-wrapper";class Lc{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Nc),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:r,maxWidth:s,maxHeight:o}=n,a=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==r&&"100vh"!==r||o&&"100%"!==o&&"100vh"!==o);e.position=this._cssPosition,e.marginLeft=a?"0":this._leftOffset,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,a?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove(Nc),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Fc=(()=>{class e{constructor(e,t,n,i){this._viewportRuler=e,this._document=t,this._platform=n,this._overlayContainer=i}global(){return new Lc}connectedTo(e,t,n){return new Pc(t,n,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new Ac(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(Jl),i.LFG(o),i.LFG(yt),i.LFG(Ic))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(Jl),i.LFG(o),i.LFG(yt),i.LFG(Ic))},token:e,providedIn:"root"}),e})(),Mc=0,Vc=(()=>{class e{constructor(e,t,n,i,r,s,o,a,l,c,u){this.scrollStrategies=e,this._overlayContainer=t,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._injector=s,this._ngZone=o,this._document=a,this._directionality=l,this._location=c,this._outsideClickDispatcher=u}create(e){const t=this._createHostElement(),n=this._createPaneElement(t),i=this._createPortalOutlet(n),r=new vc(e);return r.direction=r.direction||this._directionality.value,new Ec(i,t,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const t=this._document.createElement("div");return t.id="cdk-overlay-"+Mc++,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(i.z2F)),new oc(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(yc),i.LFG(Ic),i.LFG(i._Vd),i.LFG(Fc),i.LFG(Sc),i.LFG(i.zs3),i.LFG(i.R0b),i.LFG(o),i.LFG(bn),i.LFG(w),i.LFG(kc))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const Uc=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],qc=new i.OlP("cdk-connected-overlay-scroll-strategy");let Bc=(()=>{class e{constructor(e){this.elementRef=e}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),e})(),jc=(()=>{class e{constructor(e,t,n,r,s){this._overlay=e,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Ae.w.EMPTY,this._attachSubscription=Ae.w.EMPTY,this._detachSubscription=Ae.w.EMPTY,this._positionSubscription=Ae.w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new i.vpe,this.positionChange=new i.vpe,this.attach=new i.vpe,this.detach=new i.vpe,this.overlayKeydown=new i.vpe,this.overlayOutsideClick=new i.vpe,this._templatePortal=new ic(t,n),this._scrollStrategyFactory=r,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=ut(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=ut(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=ut(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=ut(e)}get push(){return this._push}set push(e){this._push=ut(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=Uc);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(e=>{this.overlayKeydown.next(e),27!==e.keyCode||this.disableClose||Me(e)||(e.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(e=>{this.overlayOutsideClick.next(e)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),t=new vc({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(t.width=this.width),(this.height||0===this.height)&&(t.height=this.height),(this.minWidth||0===this.minWidth)&&(t.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(t.minHeight=this.minHeight),this.backdropClass&&(t.backdropClass=this.backdropClass),this.panelClass&&(t.panelClass=this.panelClass),t}_updatePositionStrategy(e){const t=this.positions.map(e=>({originX:e.originX,originY:e.originY,overlayX:e.overlayX,overlayY:e.overlayY,offsetX:e.offsetX||this.offsetX,offsetY:e.offsetY||this.offsetY,panelClass:e.panelClass||void 0}));return e.setOrigin(this.origin.elementRef).withPositions(t).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(e),e}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(e,t=!1){return n=>n.lift(new cc(e,t))}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(Vc),i.Y36(i.Rgc),i.Y36(i.s_b),i.Y36(qc),i.Y36(bn,8))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[i.TTD]}),e})();const zc={provide:qc,deps:[Vc],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let Gc=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[Vc,zc],imports:[[wn,lc,ec],ec]}),e})();const Zc=Et({passive:!0});let Hc=(()=>{class e{constructor(e,t){this._platform=e,this._ngZone=t,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Ke.E;const t=mt(e),n=this._monitoredElements.get(t);if(n)return n.subject;const i=new xe.xQ,r="cdk-text-field-autofilled",s=e=>{"cdk-text-field-autofill-start"!==e.animationName||t.classList.contains(r)?"cdk-text-field-autofill-end"===e.animationName&&t.classList.contains(r)&&(t.classList.remove(r),this._ngZone.run(()=>i.next({target:e.target,isAutofilled:!1}))):(t.classList.add(r),this._ngZone.run(()=>i.next({target:e.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{t.addEventListener("animationstart",s,Zc),t.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(t,{subject:i,unlisten:()=>{t.removeEventListener("animationstart",s,Zc)}}),i}stopMonitoring(e){const t=mt(e),n=this._monitoredElements.get(t);n&&(n.unlisten(),n.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}ngOnDestroy(){this._monitoredElements.forEach((e,t)=>this.stopMonitoring(t))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(yt),i.LFG(i.R0b))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(yt),i.LFG(i.R0b))},token:e,providedIn:"root"}),e})(),Yc=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[vt]]}),e})();const $c=new i.OlP("MAT_INPUT_VALUE_ACCESSOR"),Wc=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Kc=0;const Qc=Ts(class{constructor(e,t,n,i){this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=n,this.ngControl=i}});let Jc=(()=>{class e extends Qc{constructor(e,t,n,i,r,s,o,a,l,c){super(s,i,r,n),this._elementRef=e,this._platform=t,this._autofillMonitor=a,this._formField=c,this._uid="mat-input-"+Kc++,this.focused=!1,this.stateChanges=new xe.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>wt().has(e));const u=this._elementRef.nativeElement,h=u.nodeName.toLowerCase();this._inputValueAccessor=o||u,this._previousNativeValue=this.value,this.id=this.id,t.IOS&&l.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",e=>{const t=e.target;t.value||0!==t.selectionStart||0!==t.selectionEnd||(t.setSelectionRange(1,1),t.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isInFormField=!!c,this._isNativeSelect&&(this.controlType=u.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=ut(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=ut(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&wt().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=ut(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,t;const n=(null===(t=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===t?void 0:t.call(e))?null:this.placeholder;if(n!==this._previousPlaceholder){const e=this._elementRef.nativeElement;this._previousPlaceholder=n,n?e.setAttribute("placeholder",n):e.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){Wc.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,t=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&t&&t.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(yt),i.Y36(ja,10),i.Y36(gl,8),i.Y36(wl,8),i.Y36(js),i.Y36($c,10),i.Y36(Hc),i.Y36(i.R0b),i.Y36(la,8))},e.\u0275dir=i.lG2({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(e,t){1&e&&i.NdJ("focus",function(){return t._focusChanged(!0)})("blur",function(){return t._focusChanged(!1)})("input",function(){return t._onInput()}),2&e&&(i.Ikx("disabled",t.disabled)("required",t.required),i.uIk("id",t.id)("data-placeholder",t.placeholder)("readonly",t.readonly&&!t._isNativeSelect||null)("aria-invalid",t.empty&&t.required?null:t.errorState)("aria-required",t.required),i.ekj("mat-input-server",t._isServer)("mat-native-select-inline",t._isInlineSelect()))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[i._Bn([{provide:Jo,useExisting:e}]),i.qOj,i.TTD]}),e})(),Xc=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[js],imports:[[Yc,ua,Cs],Yc,ua]}),e})();const eu=["mat-calendar-body",""];function tu(e,t){if(1&e&&(i.TgZ(0,"tr",2),i.TgZ(1,"td",3),i._uU(2),i.qZA(),i.qZA()),2&e){const e=i.oxw();i.xp6(1),i.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),i.uIk("colspan",e.numCols),i.xp6(1),i.hij(" ",e.label," ")}}function nu(e,t){if(1&e&&(i.TgZ(0,"td",3),i._uU(1),i.qZA()),2&e){const e=i.oxw(2);i.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),i.uIk("colspan",e._firstRowOffset),i.xp6(1),i.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function iu(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"td",7),i.NdJ("click",function(t){const n=i.CHM(e).$implicit;return i.oxw(2)._cellClicked(n,t)}),i.TgZ(1,"div",8),i._uU(2),i.qZA(),i._UZ(3,"div",9),i.qZA()}if(2&e){const e=t.$implicit,n=t.index,r=i.oxw().index,s=i.oxw();i.Udp("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),i.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",s._isActiveCell(r,n))("mat-calendar-body-range-start",s._isRangeStart(e.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",s._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(e.compareValue,r,n))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(e.compareValue,r,n))("mat-calendar-body-comparison-start",s._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",s._isInPreview(e.compareValue)),i.Q6J("ngClass",e.cssClasses)("tabindex",s._isActiveCell(r,n)?0:-1),i.uIk("data-mat-row",r)("data-mat-col",n)("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-selected",s._isSelected(e.compareValue)),i.xp6(1),i.ekj("mat-calendar-body-selected",s._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",s.todayValue===e.compareValue),i.xp6(1),i.hij(" ",e.displayValue," ")}}function ru(e,t){if(1&e&&(i.TgZ(0,"tr",4),i.YNc(1,nu,2,6,"td",5),i.YNc(2,iu,4,46,"td",6),i.qZA()),2&e){const e=t.$implicit,n=t.index,r=i.oxw();i.xp6(1),i.Q6J("ngIf",0===n&&r._firstRowOffset),i.xp6(1),i.Q6J("ngForOf",e)}}function su(e,t){if(1&e&&(i.TgZ(0,"th",5),i.TgZ(1,"abbr",6),i._uU(2),i.qZA(),i.qZA()),2&e){const e=t.$implicit;i.uIk("aria-label",e.long),i.xp6(1),i.uIk("title",e.long),i.xp6(1),i.Oqu(e.narrow)}}const ou=["*"];function au(e,t){}function lu(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"mat-month-view",5),i.NdJ("activeDateChange",function(t){return i.CHM(e),i.oxw().activeDate=t})("_userSelection",function(t){return i.CHM(e),i.oxw()._dateSelected(t)}),i.qZA()}if(2&e){const e=i.oxw();i.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function cu(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"mat-year-view",6),i.NdJ("activeDateChange",function(t){return i.CHM(e),i.oxw().activeDate=t})("monthSelected",function(t){return i.CHM(e),i.oxw()._monthSelectedInYearView(t)})("selectedChange",function(t){return i.CHM(e),i.oxw()._goToDateInView(t,"month")}),i.qZA()}if(2&e){const e=i.oxw();i.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function uu(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"mat-multi-year-view",7),i.NdJ("activeDateChange",function(t){return i.CHM(e),i.oxw().activeDate=t})("yearSelected",function(t){return i.CHM(e),i.oxw()._yearSelectedInMultiYearView(t)})("selectedChange",function(t){return i.CHM(e),i.oxw()._goToDateInView(t,"year")}),i.qZA()}if(2&e){const e=i.oxw();i.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function hu(e,t){}const du=["button"];function pu(e,t){1&e&&(i.O4$(),i.TgZ(0,"svg",3),i._UZ(1,"path",4),i.qZA())}const fu=[[["","matDatepickerToggleIcon",""]]],mu=["[matDatepickerToggleIcon]"];let gu=(()=>{class e{constructor(){this.changes=new xe.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,t){return`${e} \u2013 ${t}`}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})();class _u{constructor(e,t,n,i,r={},s=e,o){this.value=e,this.displayValue=t,this.ariaLabel=n,this.enabled=i,this.cssClasses=r,this.compareValue=s,this.rawValue=o}}let yu=(()=>{class e{constructor(e,t){this._elementRef=e,this._ngZone=t,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new i.vpe,this.previewChange=new i.vpe,this._enterHandler=e=>{if(this._skipNextFocus&&"focus"===e.type)this._skipNextFocus=!1;else if(e.target&&this.isRange){const t=this._getCellFromElement(e.target);t&&this._ngZone.run(()=>this.previewChange.emit({value:t.enabled?t:null,event:e}))}},this._leaveHandler=e=>{null!==this.previewEnd&&this.isRange&&e.target&&vu(e.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:e}))},t.runOutsideAngular(()=>{const t=e.nativeElement;t.addEventListener("mouseenter",this._enterHandler,!0),t.addEventListener("focus",this._enterHandler,!0),t.addEventListener("mouseleave",this._leaveHandler,!0),t.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(e,t){e.enabled&&this.selectedValueChange.emit({value:e.value,event:t})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const t=e.numCols,{rows:n,numCols:i}=this;(e.rows||t)&&(this._firstRowOffset=n&&n.length&&n[0].length?i-n[0].length:0),(e.cellAspectRatio||t||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/i+"%"),!t&&this._cellWidth||(this._cellWidth=100/i+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,t){let n=e*this.numCols+t;return e&&(n-=this._firstRowOffset),n==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Qe(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");t&&(e||(this._skipNextFocus=!0),t.focus())})})}_isRangeStart(e){return bu(e,this.startValue,this.endValue)}_isRangeEnd(e){return wu(e,this.startValue,this.endValue)}_isInRange(e){return Cu(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return bu(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,t,n){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let i=this.rows[t][n-1];if(!i){const e=this.rows[t-1];i=e&&e[e.length-1]}return i&&!this._isRangeEnd(i.compareValue)}_isComparisonBridgeEnd(e,t,n){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let i=this.rows[t][n+1];if(!i){const e=this.rows[t+1];i=e&&e[0]}return i&&!this._isRangeStart(i.compareValue)}_isComparisonEnd(e){return wu(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return Cu(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return bu(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return wu(e,this.previewStart,this.previewEnd)}_isInPreview(e){return Cu(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let t;if(vu(e)?t=e:vu(e.parentNode)&&(t=e.parentNode),t){const e=t.getAttribute("data-mat-row"),n=t.getAttribute("data-mat-col");if(e&&n)return this.rows[parseInt(e)][parseInt(n)]}return null}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(i.R0b))},e.\u0275cmp=i.Xpm({type:e,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",previewStart:"previewStart",previewEnd:"previewEnd",label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[i.TTD],attrs:eu,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell",3,"ngClass","tabindex","mat-calendar-body-disabled","mat-calendar-body-active","mat-calendar-body-range-start","mat-calendar-body-range-end","mat-calendar-body-in-range","mat-calendar-body-comparison-bridge-start","mat-calendar-body-comparison-bridge-end","mat-calendar-body-comparison-start","mat-calendar-body-comparison-end","mat-calendar-body-in-comparison-range","mat-calendar-body-preview-start","mat-calendar-body-preview-end","mat-calendar-body-in-preview","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],[1,"mat-calendar-body-cell-preview"]],template:function(e,t){1&e&&(i.YNc(0,tu,3,6,"tr",0),i.YNc(1,ru,3,2,"tr",1)),2&e&&(i.Q6J("ngIf",t._firstRowOffset<t.labelMinRequiredCells),i.xp6(1),i.Q6J("ngForOf",t.rows))},directives:[O,D,x],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}@media(hover: none){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){background-color:transparent}}\n'],encapsulation:2,changeDetection:0}),e})();function vu(e){return"TD"===e.nodeName}function bu(e,t,n){return null!==n&&t!==n&&e<n&&e===t}function wu(e,t,n){return null!==t&&t!==n&&e>=t&&e===n}function Cu(e,t,n,i){return i&&null!==t&&null!==n&&t!==n&&e>=t&&e<=n}class Su{constructor(e,t){this.start=e,this.end=t}}let ku=(()=>{class e{constructor(e,t){this.selection=e,this._adapter=t,this._selectionChanged=new xe.xQ,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,t){const n=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:t,oldValue:n})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(void 0),i.LFG(Ds))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),Iu=(()=>{class e extends ku{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const t=new e(this._adapter);return t.updateSelection(this.selection,this),t}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(Ds))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const Eu={provide:ku,deps:[[new i.FiY,new i.tp0,ku],Ds],useFactory:function(e,t){return e||new Iu(t)}},Tu=new i.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let xu=(()=>{class e{constructor(e,t,n,r,s){this._changeDetectorRef=e,this._dateFormats=t,this._dateAdapter=n,this._dir=r,this._rangeStrategy=s,this._rerenderSubscription=Ae.w.EMPTY,this.selectedChange=new i.vpe,this._userSelection=new i.vpe,this.activeDateChange=new i.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const t=this._activeDate,n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._hasSameMonthAndYear(t,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Su?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(En(null)).subscribe(()=>this._init())}ngOnChanges(e){const t=e.comparisonStart||e.comparisonEnd;t&&!t.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const t=e.value,n=this._dateAdapter.getYear(this.activeDate),i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.createDate(n,i,t);let s,o;this._selected instanceof Su?(s=this._getDateInCurrentMonth(this._selected.start),o=this._getDateInCurrentMonth(this._selected.end)):s=o=this._getDateInCurrentMonth(this._selected),s===t&&o===t||this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_handleCalendarBodyKeydown(e){const t=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?-1:1);break;case Le:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case Fe:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case Pe:case Ne:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null==this._previewEnd||Me(e)||(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){e.keyCode!==Ne&&e.keyCode!==Pe||(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_previewChanged({event:e,value:t}){if(this._rangeStrategy){const n=this._rangeStrategy.createPreview(t?t.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(n.start),this._previewEnd=this._getCellCompareValue(n.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),t=this._dateAdapter.getDayOfWeekNames("narrow");let n=this._dateAdapter.getDayOfWeekNames("long").map((e,n)=>({long:e,narrow:t[n]}));this._weekdays=n.slice(e).concat(n.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),t=this._dateAdapter.getDateNames();this._weeks=[[]];for(let n=0,i=this._firstWeekOffset;n<e;n++,i++){7==i&&(this._weeks.push([]),i=0);const e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n+1),r=this._shouldEnableDate(e),s=this._dateAdapter.format(e,this._dateFormats.display.dateA11yLabel),o=this.dateClass?this.dateClass(e,"month"):void 0;this._weeks[this._weeks.length-1].push(new _u(n+1,t[n],s,r,o,this._getCellCompareValue(e),e))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,t){return!(!e||!t||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(t)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(t))}_getCellCompareValue(e){if(e){const t=this._dateAdapter.getYear(e),n=this._dateAdapter.getMonth(e),i=this._dateAdapter.getDate(e);return new Date(t,n,i).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Su?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.sBO),i.Y36(Rs,8),i.Y36(Ds,8),i.Y36(bn,8),i.Y36(Tu,8))},e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-month-view"]],viewQuery:function(e,t){if(1&e&&i.Gf(yu,5),2&e){let e;i.iGM(e=i.CRH())&&(t._matCalendarBody=e.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[i.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keyup","keydown"],["scope","col"],[1,"mat-calendar-abbr"]],template:function(e,t){1&e&&(i.TgZ(0,"table",0),i.TgZ(1,"thead",1),i.TgZ(2,"tr"),i.YNc(3,su,3,3,"th",2),i.qZA(),i.TgZ(4,"tr"),i._UZ(5,"th",3),i.qZA(),i.qZA(),i.TgZ(6,"tbody",4),i.NdJ("selectedValueChange",function(e){return t._dateSelected(e)})("previewChange",function(e){return t._previewChanged(e)})("keyup",function(e){return t._handleCalendarBodyKeyup(e)})("keydown",function(e){return t._handleCalendarBodyKeydown(e)}),i.qZA(),i.qZA()),2&e&&(i.xp6(3),i.Q6J("ngForOf",t._weekdays),i.xp6(3),i.Q6J("label",t._monthLabel)("rows",t._weeks)("todayValue",t._todayDate)("startValue",t._rangeStart)("endValue",t._rangeEnd)("comparisonStart",t._comparisonRangeStart)("comparisonEnd",t._comparisonRangeEnd)("previewStart",t._previewStart)("previewEnd",t._previewEnd)("isRange",t._isRange)("labelMinRequiredCells",3)("activeCell",t._dateAdapter.getDate(t.activeDate)-1))},directives:[D,yu],encapsulation:2,changeDetection:0}),e})();const Au=24;let Du=(()=>{class e{constructor(e,t,n){this._changeDetectorRef=e,this._dateAdapter=t,this._dir=n,this._rerenderSubscription=Ae.w.EMPTY,this.selectedChange=new i.vpe,this.yearSelected=new i.vpe,this.activeDateChange=new i.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate;const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),Ru(this._dateAdapter,t,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Su?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(En(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const e=this._dateAdapter.getYear(this._activeDate)-Ou(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let t=0,n=[];t<Au;t++)n.push(e+t),4==n.length&&(this._years.push(n.map(e=>this._createCellForYear(e))),n=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const t=e.value;this.yearSelected.emit(this._dateAdapter.createDate(t,0,1));let n=this._dateAdapter.getMonth(this.activeDate),i=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,n,1));this.selectedChange.emit(this._dateAdapter.createDate(t,n,Math.min(this._dateAdapter.getDate(this.activeDate),i)))}_handleCalendarBodyKeydown(e){const t=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?-1:1);break;case Le:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case Fe:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Ou(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Au-Ou(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:Au);break;case Pe:case Ne:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){e.keyCode!==Ne&&e.keyCode!==Pe||(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return Ou(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(e){const t=this._dateAdapter.createDate(e,0,1),n=this._dateAdapter.getYearName(t),i=this.dateClass?this.dateClass(t,"multi-year"):void 0;return new _u(e,n,n,this._shouldEnableYear(e),i)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let t=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(t)==e;t=this._dateAdapter.addCalendarDays(t,1))if(this.dateFilter(t))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Su){const t=e.start||e.end;t&&(this._selectedYear=this._dateAdapter.getYear(t))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.sBO),i.Y36(Ds,8),i.Y36(bn,8))},e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-multi-year-view"]],viewQuery:function(e,t){if(1&e&&i.Gf(yu,5),2&e){let e;i.iGM(e=i.CRH())&&(t._matCalendarBody=e.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(e,t){1&e&&(i.TgZ(0,"table",0),i.TgZ(1,"thead",1),i.TgZ(2,"tr"),i._UZ(3,"th",2),i.qZA(),i.qZA(),i.TgZ(4,"tbody",3),i.NdJ("selectedValueChange",function(e){return t._yearSelected(e)})("keyup",function(e){return t._handleCalendarBodyKeyup(e)})("keydown",function(e){return t._handleCalendarBodyKeydown(e)}),i.qZA(),i.qZA()),2&e&&(i.xp6(4),i.Q6J("rows",t._years)("todayValue",t._todayYear)("startValue",t._selectedYear)("endValue",t._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",t._getActiveCell()))},directives:[yu],encapsulation:2,changeDetection:0}),e})();function Ru(e,t,n,i,r){const s=e.getYear(t),o=e.getYear(n),a=Pu(e,i,r);return Math.floor((s-a)/Au)===Math.floor((o-a)/Au)}function Ou(e,t,n,i){return((e.getYear(t)-Pu(e,n,i))%Au+24)%24}function Pu(e,t,n){let i=0;return n?i=e.getYear(n)-Au+1:t&&(i=e.getYear(t)),i}let Nu=(()=>{class e{constructor(e,t,n,r){this._changeDetectorRef=e,this._dateFormats=t,this._dateAdapter=n,this._dir=r,this._rerenderSubscription=Ae.w.EMPTY,this.selectedChange=new i.vpe,this.monthSelected=new i.vpe,this.activeDateChange=new i.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate;const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._dateAdapter.getYear(t)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Su?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(En(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const t=e.value,n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1);this.monthSelected.emit(n);const i=this._dateAdapter.getNumDaysInMonth(n);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),i)))}_handleCalendarBodyKeydown(e){const t=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?-1:1);break;case Le:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case Fe:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case Pe:case Ne:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){e.keyCode!==Ne&&e.keyCode!==Pe||(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(t=>t.map(t=>this._createCellForMonth(t,e[t]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_createCellForMonth(e,t){const n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),i=this._dateAdapter.format(n,this._dateFormats.display.monthYearA11yLabel),r=this.dateClass?this.dateClass(n,"year"):void 0;return new _u(e,t.toLocaleUpperCase(),i,this._shouldEnableMonth(e),r)}_shouldEnableMonth(e){const t=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(t,e)||this._isYearAndMonthBeforeMinDate(t,e))return!1;if(!this.dateFilter)return!0;for(let n=this._dateAdapter.createDate(t,e,1);this._dateAdapter.getMonth(n)==e;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}_isYearAndMonthAfterMaxDate(e,t){if(this.maxDate){const n=this._dateAdapter.getYear(this.maxDate),i=this._dateAdapter.getMonth(this.maxDate);return e>n||e===n&&t>i}return!1}_isYearAndMonthBeforeMinDate(e,t){if(this.minDate){const n=this._dateAdapter.getYear(this.minDate),i=this._dateAdapter.getMonth(this.minDate);return e<n||e===n&&t<i}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Su?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.sBO),i.Y36(Rs,8),i.Y36(Ds,8),i.Y36(bn,8))},e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-year-view"]],viewQuery:function(e,t){if(1&e&&i.Gf(yu,5),2&e){let e;i.iGM(e=i.CRH())&&(t._matCalendarBody=e.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(e,t){1&e&&(i.TgZ(0,"table",0),i.TgZ(1,"thead",1),i.TgZ(2,"tr"),i._UZ(3,"th",2),i.qZA(),i.qZA(),i.TgZ(4,"tbody",3),i.NdJ("selectedValueChange",function(e){return t._monthSelected(e)})("keyup",function(e){return t._handleCalendarBodyKeyup(e)})("keydown",function(e){return t._handleCalendarBodyKeydown(e)}),i.qZA(),i.qZA()),2&e&&(i.xp6(4),i.Q6J("label",t._yearLabel)("rows",t._months)("todayValue",t._todayMonth)("startValue",t._selectedMonth)("endValue",t._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",t._dateAdapter.getMonth(t.activeDate)))},directives:[yu],encapsulation:2,changeDetection:0}),e})(),Lu=0,Fu=(()=>{class e{constructor(e,t,n,i,r){this._intl=e,this.calendar=t,this._dateAdapter=n,this._dateFormats=i,this._buttonDescriptionId="mat-calendar-button-"+Lu++,this.calendar.stateChanges.subscribe(()=>r.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const e=this._dateAdapter.getYear(this.calendar.activeDate)-Ou(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),t=e+Au-1,n=this._dateAdapter.getYearName(this._dateAdapter.createDate(e,0,1)),i=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1));return this._intl.formatYearRange(n,i)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:Au)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,t){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t):Ru(this._dateAdapter,e,t,this.calendar.minDate,this.calendar.maxDate)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(gu),i.Y36((0,i.Gpc)(()=>Mu)),i.Y36(Ds,8),i.Y36(Rs,8),i.Y36(i.sBO))},e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:ou,decls:10,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","cdkAriaLive","polite",1,"mat-calendar-period-button",3,"click"],[1,"mat-calendar-arrow"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,t){1&e&&(i.F$t(),i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"button",2),i.NdJ("click",function(){return t.currentPeriodClicked()}),i.TgZ(3,"span"),i._uU(4),i.qZA(),i._UZ(5,"div",3),i.qZA(),i._UZ(6,"div",4),i.Hsn(7),i.TgZ(8,"button",5),i.NdJ("click",function(){return t.previousClicked()}),i.qZA(),i.TgZ(9,"button",6),i.NdJ("click",function(){return t.nextClicked()}),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(2),i.uIk("aria-label",t.periodButtonLabel)("aria-describedby",t._buttonDescriptionId),i.xp6(1),i.uIk("id",t._buttonDescriptionId),i.xp6(1),i.Oqu(t.periodButtonText),i.xp6(1),i.ekj("mat-calendar-invert","month"!==t.calendar.currentView),i.xp6(3),i.Q6J("disabled",!t.previousEnabled()),i.uIk("aria-label",t.prevButtonLabel),i.xp6(1),i.Q6J("disabled",!t.nextEnabled()),i.uIk("aria-label",t.nextButtonLabel))},directives:[bo,cn],encapsulation:2,changeDetection:0}),e})(),Mu=(()=>{class e{constructor(e,t,n,r){this._dateAdapter=t,this._dateFormats=n,this._changeDetectorRef=r,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new i.vpe,this.yearSelected=new i.vpe,this.monthSelected=new i.vpe,this.viewChanged=new i.vpe(!0),this._userSelection=new i.vpe,this.stateChanges=new xe.xQ,this._intlChanges=e.changes.subscribe(()=>{r.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Su?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const t=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),t&&this.viewChanged.emit(t)}ngAfterContentInit(){this._calendarHeaderPortal=new nc(this.headerComponent||Fu),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const t=e.minDate||e.maxDate||e.dateFilter;if(t&&!t.firstChange){const e=this._getCurrentViewComponent();e&&(this._changeDetectorRef.detectChanges(),e._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const t=e.value;(this.selected instanceof Su||t&&!this._dateAdapter.sameDate(t,this.selected))&&this.selectedChange.emit(t),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,t){this.activeDate=e,this.currentView=t}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(gu),i.Y36(Ds,8),i.Y36(Rs,8),i.Y36(i.sBO))},e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-calendar"]],viewQuery:function(e,t){if(1&e&&(i.Gf(xu,5),i.Gf(Nu,5),i.Gf(Du,5)),2&e){let e;i.iGM(e=i.CRH())&&(t.monthView=e.first),i.iGM(e=i.CRH())&&(t.yearView=e.first),i.iGM(e=i.CRH())&&(t.multiYearView=e.first)}},hostAttrs:[1,"mat-calendar"],inputs:{startView:"startView",startAt:"startAt",selected:"selected",minDate:"minDate",maxDate:"maxDate",headerComponent:"headerComponent",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[i._Bn([Eu]),i.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,t){1&e&&(i.YNc(0,au,0,0,"ng-template",0),i.TgZ(1,"div",1),i.YNc(2,lu,1,8,"mat-month-view",2),i.YNc(3,cu,1,6,"mat-year-view",3),i.YNc(4,uu,1,6,"mat-multi-year-view",4),i.qZA()),2&e&&(i.Q6J("cdkPortalOutlet",t._calendarHeaderPortal),i.xp6(1),i.Q6J("ngSwitch",t.currentView),i.xp6(1),i.Q6J("ngSwitchCase","month"),i.xp6(1),i.Q6J("ngSwitchCase","year"),i.xp6(1),i.Q6J("ngSwitchCase","multi-year"))},directives:[ac,pn,F,M,xu,Nu,Du],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(33% / 7 - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top-width:5px;border-top-style:solid;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-abbr{text-decoration:none}\n'],encapsulation:2,changeDetection:0}),e})();const Vu={transformPanel:An("transformPanel",[Ln("void => enter-dropdown",Dn("120ms cubic-bezier(0, 0, 0.2, 1)",Nn([On({opacity:0,transform:"scale(1, 0.8)"}),On({opacity:1,transform:"scale(1, 1)"})]))),Ln("void => enter-dialog",Dn("150ms cubic-bezier(0, 0, 0.2, 1)",Nn([On({opacity:0,transform:"scale(0.7)"}),On({transform:"none",opacity:1})]))),Ln("* => void",Dn("100ms linear",On({opacity:0})))]),fadeInCalendar:An("fadeInCalendar",[Pn("void",On({opacity:0})),Pn("enter",On({opacity:1})),Ln("void => *",Dn("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let Uu=0;const qu=new i.OlP("mat-datepicker-scroll-strategy"),Bu={provide:qu,deps:[Vc],useFactory:function(e){return()=>e.scrollStrategies.reposition()}},ju=ks(class{constructor(e){this._elementRef=e}});let zu=(()=>{class e extends ju{constructor(e,t,n,i,r,s){super(e),this._changeDetectorRef=t,this._globalModel=n,this._dateAdapter=i,this._rangeSelectionStrategy=r,this._subscriptions=new Ae.w,this._animationDone=new xe.xQ,this._actionsPortal=null,this._closeButtonText=s.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const t=this._model.selection,n=e.value,i=t instanceof Su;if(i&&this._rangeSelectionStrategy){const i=this._rangeSelectionStrategy.selectionFinished(n,t,e.event);this._model.updateSelection(i,this)}else!n||!i&&this._dateAdapter.sameDate(n,t)||this._model.add(n);this._model&&!this._model.isComplete()||this._actionsPortal||this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(ku),i.Y36(Ds),i.Y36(Tu,8),i.Y36(gu))},e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-datepicker-content"]],viewQuery:function(e,t){if(1&e&&i.Gf(Mu,5),2&e){let e;i.iGM(e=i.CRH())&&(t._calendar=e.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,t){1&e&&i.WFA("@transformPanel.done",function(){return t._animationDone.next()}),2&e&&(i.d8E("@transformPanel",t._animationState),i.ekj("mat-datepicker-content-touch",t.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[i.qOj],decls:5,vars:20,consts:[["cdkTrapFocus","",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"mat-calendar",1),i.NdJ("yearSelected",function(e){return t.datepicker._selectYear(e)})("monthSelected",function(e){return t.datepicker._selectMonth(e)})("viewChanged",function(e){return t.datepicker._viewChanged(e)})("_userSelection",function(e){return t._handleUserSelection(e)}),i.qZA(),i.YNc(2,hu,0,0,"ng-template",2),i.TgZ(3,"button",3),i.NdJ("focus",function(){return t._closeButtonFocused=!0})("blur",function(){return t._closeButtonFocused=!1})("click",function(){return t.datepicker.close()}),i._uU(4),i.qZA(),i.qZA()),2&e&&(i.ekj("mat-datepicker-content-container-with-actions",t._actionsPortal),i.xp6(1),i.Q6J("id",t.datepicker.id)("ngClass",t.datepicker.panelClass)("startAt",t.datepicker.startAt)("startView",t.datepicker.startView)("minDate",t.datepicker._getMinDate())("maxDate",t.datepicker._getMaxDate())("dateFilter",t.datepicker._getDateFilter())("headerComponent",t.datepicker.calendarHeaderComponent)("selected",t._getSelected())("dateClass",t.datepicker.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)("@fadeInCalendar","enter"),i.xp6(1),i.Q6J("cdkPortalOutlet",t._actionsPortal),i.xp6(1),i.ekj("cdk-visually-hidden",!t._closeButtonFocused),i.Q6J("color",t.color||"primary"),i.xp6(1),i.Oqu(t._closeButtonText))},directives:[Jt,Mu,x,ac,bo],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[Vu.transformPanel,Vu.fadeInCalendar]},changeDetection:0}),e})(),Gu=(()=>{class e{constructor(e,t,n,r,s,o,a,l,c){this._overlay=t,this._ngZone=n,this._viewContainerRef=r,this._dateAdapter=o,this._dir=a,this._model=c,this._inputStateChanges=Ae.w.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new i.vpe,this.monthSelected=new i.vpe,this.viewChanged=new i.vpe(!0),this.openedStream=new i.vpe,this.closedStream=new i.vpe,this._opened=!1,this.id="mat-datepicker-"+Uu++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new xe.xQ,this._scrollStrategy=s}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=ut(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const t=ut(e);t!==this._disabled&&(this._disabled=t,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=ut(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function(e,t=/\s+/){const n=[];if(null!=e){const i=Array.isArray(e)?e:`${e}`.split(t);for(const e of i){const t=`${e}`.trim();t&&n.push(t)}}return n}(e)}get opened(){return this._opened}set opened(e){ut(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const t=e.xPosition||e.yPosition;if(t&&!t.firstChange&&this._overlayRef){const e=this._overlayRef.getConfig().positionStrategy;e instanceof Ac&&(this._setConnectedPositions(e),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=At(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const e=this._componentRef.instance;e._startExitAnimation(),e._animationDone.pipe(Qe(1)).subscribe(()=>this._destroyOverlay())}const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_applyPendingSelection(){var e,t;null===(t=null===(e=this._componentRef)||void 0===e?void 0:e.instance)||void 0===t||t._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._actionsPortal=this._actionsPortal}_openOverlay(){this._destroyOverlay();const e=this.touchUi,t=this.datepickerInput.getOverlayLabelId(),n=new nc(zu,this._viewContainerRef),i=this._overlayRef=this._overlay.create(new vc({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")})),r=i.overlayElement;r.setAttribute("role","dialog"),t&&r.setAttribute("aria-labelledby",t),e&&r.setAttribute("aria-modal","true"),this._getCloseStream(i).subscribe(e=>{e&&e.preventDefault(),this.close()}),this._componentRef=i.attach(n),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(Qe(1)).subscribe(()=>i.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const t="end"===this.xPosition?"end":"start",n="start"===t?"end":"start",i="above"===this.yPosition?"bottom":"top",r="top"===i?"bottom":"top";return e.withPositions([{originX:t,originY:r,overlayX:t,overlayY:i},{originX:t,originY:i,overlayX:t,overlayY:r},{originX:n,originY:r,overlayX:n,overlayY:i},{originX:n,originY:i,overlayX:n,overlayY:r}])}_getCloseStream(e){return(0,Co.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Ze(e=>27===e.keyCode&&!Me(e)||this.datepickerInput&&Me(e,"altKey")&&e.keyCode===Le)))}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(Vc),i.Y36(i.R0b),i.Y36(i.s_b),i.Y36(qu),i.Y36(Ds,8),i.Y36(bn,8),i.Y36(o,8),i.Y36(ku))},e.\u0275dir=i.lG2({type:e,inputs:{startView:"startView",xPosition:"xPosition",yPosition:"yPosition",startAt:"startAt",color:"color",touchUi:"touchUi",disabled:"disabled",restoreFocus:"restoreFocus",panelClass:"panelClass",opened:"opened",calendarHeaderComponent:"calendarHeaderComponent",dateClass:"dateClass"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[i.TTD]}),e})(),Zu=(()=>{class e extends Gu{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i.n5z(e)))(n||e)}}(),e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[i._Bn([Eu,{provide:Gu,useExisting:e}]),i.qOj],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),e})();class Hu{constructor(e,t){this.target=e,this.targetElement=t,this.value=this.target.value}}let Yu=(()=>{class e{constructor(e,t,n){this._elementRef=e,this._dateAdapter=t,this._dateFormats=n,this.dateChange=new i.vpe,this.dateInput=new i.vpe,this.stateChanges=new xe.xQ,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Ae.w.EMPTY,this._localeSubscription=Ae.w.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=e=>{const t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value));return!t||this._matchesFilter(t)?null:{matDatepickerFilter:!0}},this._minValidator=e=>{const t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),n=this._getMinDate();return!n||!t||this._dateAdapter.compareDate(n,t)<=0?null:{matDatepickerMin:{min:n,actual:t}}},this._maxValidator=e=>{const t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),n=this._getMaxDate();return!n||!t||this._dateAdapter.compareDate(n,t)>=0?null:{matDatepickerMax:{max:n,actual:t}}},this._lastValueValid=!1,this._localeSubscription=t.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const t=ut(e),n=this._elementRef.nativeElement;this._disabled!==t&&(this._disabled=t,this.stateChanges.next(void 0)),t&&this._isInitialized&&n.blur&&n.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(e=>{if(this._shouldHandleChangeEvent(e)){const t=this._getValueFromModel(e.selection);this._lastValueValid=this._isValidValue(t),this._cvaOnChange(t),this._onTouched(),this._formatValue(t),this.dateInput.emit(new Hu(this,this._elementRef.nativeElement)),this.dateChange.emit(new Hu(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function(e,t){const n=Object.keys(e);for(let i of n){const{previousValue:n,currentValue:r}=e[i];if(!t.isDateInstance(n)||!t.isDateInstance(r))return!0;if(!t.sameDate(n,r))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&e.keyCode===Fe&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const t=this._lastValueValid;let n=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(n),n=this._dateAdapter.getValidDateOrNull(n),this._dateAdapter.sameDate(n,this.value)?(e&&!this.value&&this._cvaOnChange(n),t!==this._lastValueValid&&this._validatorOnChange()):(this._assignValue(n),this._cvaOnChange(n),this.dateInput.emit(new Hu(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Hu(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const t=this._getDateFilter();return!t||t(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(Ds,8),i.Y36(Rs,8))},e.\u0275dir=i.lG2({type:e,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[i.TTD]}),e})();const $u={provide:_a,useExisting:(0,i.Gpc)(()=>Ku),multi:!0},Wu={provide:Sa,useExisting:(0,i.Gpc)(()=>Ku),multi:!0};let Ku=(()=>{class e extends Yu{constructor(e,t,n,i){super(e,t,n),this._formField=i,this._closedSubscription=Ae.w.EMPTY,this._validator=Ea.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._min)||(this._min=t,this._validatorOnChange())}get max(){return this._max}set max(e){const t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._max)||(this._max=t,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const t=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==t&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(Ds,8),i.Y36(Rs,8),i.Y36(la,8))},e.\u0275dir=i.lG2({type:e,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,t){1&e&&i.NdJ("input",function(e){return t._onInput(e.target.value)})("change",function(){return t._onChange()})("blur",function(){return t._onBlur()})("keydown",function(e){return t._onKeydown(e)}),2&e&&(i.Ikx("disabled",t.disabled),i.uIk("aria-haspopup",t._datepicker?"dialog":null)("aria-owns",(null==t._datepicker?null:t._datepicker.opened)&&t._datepicker.id||null)("min",t.min?t._dateAdapter.toIso8601(t.min):null)("max",t.max?t._dateAdapter.toIso8601(t.max):null)("data-mat-calendar",t._datepicker?t._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[i._Bn([$u,Wu,{provide:$c,useExisting:e}]),i.qOj]}),e})(),Qu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.lG2({type:e,selectors:[["","matDatepickerToggleIcon",""]]}),e})(),Ju=(()=>{class e{constructor(e,t,n){this._intl=e,this._changeDetectorRef=t,this._stateChanges=Ae.w.EMPTY;const i=Number(n);this.tabIndex=i||0===i?i:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=ut(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:(0,Oe.of)(),t=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,Oe.of)(),n=this.datepicker?(0,Co.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,Oe.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,Co.T)(this._intl.changes,e,t,n).subscribe(()=>this._changeDetectorRef.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(gu),i.Y36(i.sBO),i.$8M("tabindex"))},e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,t,n){if(1&e&&i.Suo(n,Qu,5),2&e){let e;i.iGM(e=i.CRH())&&(t._customIcon=e.first)}},viewQuery:function(e,t){if(1&e&&i.Gf(du,5),2&e){let e;i.iGM(e=i.CRH())&&(t._button=e.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,t){1&e&&i.NdJ("click",function(e){return t._open(e)}),2&e&&(i.uIk("tabindex",null)("data-mat-calendar",t.datepicker?t.datepicker.id:null),i.ekj("mat-datepicker-toggle-active",t.datepicker&&t.datepicker.opened)("mat-accent",t.datepicker&&"accent"===t.datepicker.color)("mat-warn",t.datepicker&&"warn"===t.datepicker.color))},inputs:{tabIndex:"tabIndex",disabled:"disabled",datepicker:["for","datepicker"],ariaLabel:["aria-label","ariaLabel"],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[i.TTD],ngContentSelectors:mu,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,t){1&e&&(i.F$t(fu),i.TgZ(0,"button",0,1),i.YNc(2,pu,2,0,"svg",2),i.Hsn(3),i.qZA()),2&e&&(i.Q6J("disabled",t.disabled)("disableRipple",t.disableRipple),i.uIk("aria-haspopup",t.datepicker?"dialog":null)("aria-label",t.ariaLabel||t._intl.openCalendarLabel)("tabindex",t.disabled?-1:t.tabIndex),i.xp6(2),i.Q6J("ngIf",!t._customIcon))},directives:[bo,O],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),e})(),Xu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[gu,Bu],imports:[[G,wo,Gc,yn,lc,Cs],Xl]}),e})(),eh=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[Zs,Cs],Zs,Cs]}),e})();var th=n(205);function nh(e){return function(t){const n=new ih(e),i=t.lift(n);return n.caught=i}}class ih{constructor(e){this.selector=e}call(e,t){return t.subscribe(new rh(e,this.selector,this.caught))}}class rh extends ot.Ds{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const i=new ot.IY(this);this.add(i);const r=(0,ot.ft)(n,i);r!==i&&this.add(r)}}}function sh(e){return t=>t.lift(new oh(e))}class oh{constructor(e){this.callback=e}call(e,t){return t.subscribe(new ah(e,this.callback))}}class ah extends Ue.L{constructor(e,t){super(e),this.add(new Ae.w(t))}}var lh=n(8819),ch=n(9773);function uh(e,t){return(0,ch.zg)(e,t,1)}class hh{}class dh{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),i=n.toLowerCase(),r=e.slice(t+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const i=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof dh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new dh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof dh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...n),this.headers.set(t,i);break;case"d":const r=e.value;if(r){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===r.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class ph{encodeKey(e){return fh(e)}encodeValue(e){return fh(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function fh(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function mh(e){return`${e}`}class gh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ph,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(e=>{const i=e.indexOf("="),[r,s]=-1==i?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,i)),t.decodeValue(e.slice(i+1))],o=n.get(r)||[];o.push(s),n.set(r,o)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(n=>{const i=e[n];Array.isArray(i)?i.forEach(e=>{t.push({param:n,value:e,op:"a"})}):t.push({param:n,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new gh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(mh(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(mh(e.value));-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class _h{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function yh(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function vh(e){return"undefined"!=typeof Blob&&e instanceof Blob}function bh(e){return"undefined"!=typeof FormData&&e instanceof FormData}class wh{constructor(e,t,n,i){let r;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new dh),this.context||(this.context=new _h),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new gh,this.urlWithParams=t}serializeBody(){return null===this.body?null:yh(this.body)||vh(this.body)||bh(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof gh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||bh(this.body)?null:vh(this.body)?this.body.type||null:yh(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof gh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),c)),new wh(n,i,s,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:o})}}var Ch=(()=>((Ch=Ch||{})[Ch.Sent=0]="Sent",Ch[Ch.UploadProgress=1]="UploadProgress",Ch[Ch.ResponseHeader=2]="ResponseHeader",Ch[Ch.DownloadProgress=3]="DownloadProgress",Ch[Ch.Response=4]="Response",Ch[Ch.User=5]="User",Ch))();class Sh extends class{constructor(e,t=200,n="OK"){this.headers=e.headers||new dh,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Ch.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Sh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function kh(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let Ih=(()=>{class e{constructor(e){this.handler=e}request(e,t,n={}){let i;if(e instanceof wh)i=e;else{let r,s;r=n.headers instanceof dh?n.headers:new dh(n.headers),n.params&&(s=n.params instanceof gh?n.params:new gh({fromObject:n.params})),i=new wh(e,t,void 0!==n.body?n.body:null,{headers:r,context:n.context,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=(0,Oe.of)(i).pipe(uh(e=>this.handler.handle(e)));if(e instanceof wh||"events"===n.observe)return r;const s=r.pipe(Ze(e=>e instanceof Sh));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return s.pipe((0,$e.U)(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return s.pipe((0,$e.U)(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return s.pipe((0,$e.U)(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return s.pipe((0,$e.U)(e=>e.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new gh).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,kh(n,t))}post(e,t,n={}){return this.request("POST",e,kh(n,t))}put(e,t,n={}){return this.request("PUT",e,kh(n,t))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(hh))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const Eh=["*"];function Th(e){return Error(`Unable to find icon with the name "${e}"`)}function xh(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function Ah(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}class Dh{constructor(e,t,n){this.url=e,this.svgText=t,this.options=n}}let Rh=(()=>{class e{constructor(e,t,n,i){this._httpClient=e,this._sanitizer=t,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(e,t,n){return this.addSvgIconInNamespace("",e,t,n)}addSvgIconLiteral(e,t,n){return this.addSvgIconLiteralInNamespace("",e,t,n)}addSvgIconInNamespace(e,t,n,i){return this._addSvgIconConfig(e,t,new Dh(n,null,i))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,t,n,r){const s=this._sanitizer.sanitize(i.q3G.HTML,n);if(!s)throw Ah(n);return this._addSvgIconConfig(e,t,new Dh("",s,r))}addSvgIconSet(e,t){return this.addSvgIconSetInNamespace("",e,t)}addSvgIconSetLiteral(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}addSvgIconSetInNamespace(e,t,n){return this._addSvgIconSetConfig(e,new Dh(t,null,n))}addSvgIconSetLiteralInNamespace(e,t,n){const r=this._sanitizer.sanitize(i.q3G.HTML,t);if(!r)throw Ah(t);return this._addSvgIconSetConfig(e,new Dh("",r,n))}registerFontClassAlias(e,t=e){return this._fontCssClassesByAlias.set(e,t),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const t=this._sanitizer.sanitize(i.q3G.RESOURCE_URL,e);if(!t)throw xh(e);const n=this._cachedIconsByUrl.get(t);return n?(0,Oe.of)(Oh(n)):this._loadSvgIconFromConfig(new Dh(e,null)).pipe((0,Ve.b)(e=>this._cachedIconsByUrl.set(t,e)),(0,$e.U)(e=>Oh(e)))}getNamedSvgIcon(e,t=""){const n=Ph(t,e);let i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);if(i=this._getIconConfigFromResolvers(t,e),i)return this._svgIconConfigs.set(n,i),this._getSvgFromConfig(i);const r=this._iconSetConfigs.get(t);return r?this._getSvgFromIconSetConfigs(e,r):(0,th._)(Th(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,Oe.of)(Oh(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,$e.U)(e=>Oh(e)))}_getSvgFromIconSetConfigs(e,t){const n=this._extractIconWithNameFromAnySet(e,t);return n?(0,Oe.of)(n):pa(t.filter(e=>!e.svgText).map(e=>this._loadSvgIconSetFromConfig(e).pipe(nh(t=>{const n=this._sanitizer.sanitize(i.q3G.RESOURCE_URL,e.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${t.message}`)),(0,Oe.of)(null)})))).pipe((0,$e.U)(()=>{const n=this._extractIconWithNameFromAnySet(e,t);if(!n)throw Th(e);return n}))}_extractIconWithNameFromAnySet(e,t){for(let n=t.length-1;n>=0;n--){const i=t[n];if(i.svgText&&i.svgText.indexOf(e)>-1){const t=this._svgElementFromConfig(i),n=this._extractSvgIconFromSet(t,e,i.options);if(n)return n}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Ve.b)(t=>e.svgText=t),(0,$e.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,Oe.of)(null):this._fetchIcon(e).pipe((0,Ve.b)(t=>e.svgText=t))}_extractSvgIconFromSet(e,t,n){const i=e.querySelector(`[id="${t}"]`);if(!i)return null;const r=i.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,n);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(r),this._setSvgAttributes(s,n)}_svgElementFromString(e){const t=this._document.createElement("DIV");t.innerHTML=e;const n=t.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(e){const t=this._svgElementFromString("<svg></svg>"),n=e.attributes;for(let i=0;i<n.length;i++){const{name:e,value:r}=n[i];"id"!==e&&t.setAttribute(e,r)}for(let i=0;i<e.childNodes.length;i++)e.childNodes[i].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[i].cloneNode(!0));return t}_setSvgAttributes(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}_fetchIcon(e){var t;const{url:n,options:r}=e,s=null!==(t=null==r?void 0:r.withCredentials)&&void 0!==t&&t;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(i.q3G.RESOURCE_URL,n);if(!o)throw xh(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const l=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(sh(()=>this._inProgressUrlFetches.delete(o)),(0,lh.B)());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(e,t,n){return this._svgIconConfigs.set(Ph(e,t),n),this}_addSvgIconSetConfig(e,t){const n=this._iconSetConfigs.get(e);return n?n.push(t):this._iconSetConfigs.set(e,[t]),this}_svgElementFromConfig(e){if(!e.svgElement){const t=this._svgElementFromString(e.svgText);this._setSvgAttributes(t,e.options),e.svgElement=t}return e.svgElement}_getIconConfigFromResolvers(e,t){for(let i=0;i<this._resolvers.length;i++){const r=this._resolvers[i](t,e);if(r)return(n=r).url&&n.options?new Dh(r.url,null,r.options):new Dh(r,null)}var n}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(Ih,8),i.LFG(Ce),i.LFG(o,8),i.LFG(i.qLn))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(Ih,8),i.LFG(Ce),i.LFG(o,8),i.LFG(i.qLn))},token:e,providedIn:"root"}),e})();function Oh(e){return e.cloneNode(!0)}function Ph(e,t){return e+":"+t}const Nh=ks(class{constructor(e){this._elementRef=e}}),Lh=new i.OlP("mat-icon-location",{providedIn:"root",factory:function(){const e=(0,i.f3M)(o),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),Fh=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Mh=Fh.map(e=>`[${e}]`).join(", "),Vh=/^url\(['"]?#(.*?)['"]?\)$/;let Uh=(()=>{class e extends Nh{constructor(e,t,n,i,r){super(e),this._iconRegistry=t,this._location=i,this._errorHandler=r,this._inline=!1,this._currentIconFetch=Ae.w.EMPTY,n||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=ut(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const t=this._cleanupFontValue(e);t!==this._fontSet&&(this._fontSet=t,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const t=this._cleanupFontValue(e);t!==this._fontIcon&&(this._fontIcon=t,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const t=e.querySelectorAll("style");for(let i=0;i<t.length;i++)t[i].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){const n=e.childNodes[t];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||e.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,t=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();t!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),t&&e.classList.add(t),this._previousFontSetClass=t),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const t=this._elementsWithExternalReferences;t&&t.forEach((t,n)=>{t.forEach(t=>{n.setAttribute(t.name,`url('${e}#${t.value}')`)})})}_cacheChildrenWithExternalReferences(e){const t=e.querySelectorAll(Mh),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<t.length;i++)Fh.forEach(e=>{const r=t[i],s=r.getAttribute(e),o=s?s.match(Vh):null;if(o){let t=n.get(r);t||(t=[],n.set(r,t)),t.push({name:e,value:o[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[t,n]=this._splitIconName(e);t&&(this._svgNamespace=t),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,t).pipe(Qe(1)).subscribe(e=>this._setSvgElement(e),e=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${t}:${n}! ${e.message}`))})}}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(Rh),i.$8M("aria-hidden"),i.Y36(Lh),i.Y36(i.qLn))},e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,t){2&e&&(i.uIk("data-mat-icon-type",t._usingFontIcon()?"font":"svg")("data-mat-icon-name",t._svgName||t.fontIcon)("data-mat-icon-namespace",t._svgNamespace||t.fontSet),i.ekj("mat-icon-inline",t.inline)("mat-icon-no-color","primary"!==t.color&&"accent"!==t.color&&"warn"!==t.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[i.qOj],ngContentSelectors:Eh,decls:1,vars:0,template:function(e,t){1&e&&(i.F$t(),i.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),e})(),qh=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[Cs],Cs]}),e})(),Bh=(()=>{class e{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=ut(e)}get inset(){return this._inset}set inset(e){this._inset=ut(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,t){2&e&&(i.uIk("aria-orientation",t.vertical?"vertical":"horizontal"),i.ekj("mat-divider-vertical",t.vertical)("mat-divider-horizontal",!t.vertical)("mat-divider-inset",t.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,t){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),e})(),jh=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[Cs],Cs]}),e})();const zh=["*"],Gh=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],Zh=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],Hh=Ss(Is(class{})),Yh=Is(class{}),$h=new i.OlP("MatList"),Wh=new i.OlP("MatNavList");let Kh=(()=>{class e extends Hh{constructor(){super(...arguments),this._stateChanges=new xe.xQ}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i.n5z(e)))(n||e)}}(),e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[i._Bn([{provide:Wh,useExisting:e}]),i.qOj,i.TTD],ngContentSelectors:zh,decls:1,vars:0,template:function(e,t){1&e&&(i.F$t(),i.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),e})(),Qh=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.lG2({type:e,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),e})(),Jh=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.lG2({type:e,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),e})(),Xh=(()=>{class e extends Yh{constructor(e,t,n,i){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new xe.xQ,this._disabled=!1,this._isInteractiveList=!!(n||i&&"action-list"===i._getListType()),this._list=n||i;const r=this._getHostElement();"button"!==r.nodeName.toLowerCase()||r.hasAttribute("type")||r.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(at(this._destroyed)).subscribe(()=>{t.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=ut(e)}ngAfterContentInit(){!function(e,t,n="mat"){e.changes.pipe(En(e)).subscribe(({length:e})=>{Gs(t,`${n}-2-line`,!1),Gs(t,`${n}-3-line`,!1),Gs(t,`${n}-multi-line`,!1),2===e||3===e?Gs(t,`${n}-${e}-line`,!0):e>3&&Gs(t,`${n}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(Wh,8),i.Y36($h,8))},e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,t,n){if(1&e&&(i.Suo(n,Qh,5),i.Suo(n,Jh,5),i.Suo(n,zs,5)),2&e){let e;i.iGM(e=i.CRH())&&(t._avatar=e.first),i.iGM(e=i.CRH())&&(t._icon=e.first),i.iGM(e=i.CRH())&&(t._lines=e)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(e,t){2&e&&i.ekj("mat-list-item-disabled",t.disabled)("mat-list-item-avatar",t._avatar||t._icon)("mat-list-item-with-avatar",t._avatar||t._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[i.qOj],ngContentSelectors:Zh,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,t){1&e&&(i.F$t(Gh),i.TgZ(0,"div",0),i._UZ(1,"div",1),i.Hsn(2),i.TgZ(3,"div",2),i.Hsn(4,1),i.qZA(),i.Hsn(5,2),i.qZA()),2&e&&(i.xp6(1),i.Q6J("matRippleTrigger",t._getHostElement())("matRippleDisabled",t._isRippleDisabled()))},directives:[Xs],encapsulation:2,changeDetection:0}),e})(),ed=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[Zs,eo,Cs,no,G],Zs,Cs,no,jh]}),e})();function td(e){return new Ot.y(t=>{let n;try{n=e()}catch(i){return void t.error(i)}return(n?(0,ha.D)(n):(0,Ke.c)()).subscribe(t)})}const nd=["trigger"],id=["panel"];function rd(e,t){if(1&e&&(i.TgZ(0,"span",8),i._uU(1),i.qZA()),2&e){const e=i.oxw();i.xp6(1),i.Oqu(e.placeholder)}}function sd(e,t){if(1&e&&(i.TgZ(0,"span",12),i._uU(1),i.qZA()),2&e){const e=i.oxw(2);i.xp6(1),i.Oqu(e.triggerValue)}}function od(e,t){1&e&&i.Hsn(0,0,["*ngSwitchCase","true"])}function ad(e,t){if(1&e&&(i.TgZ(0,"span",9),i.YNc(1,sd,2,1,"span",10),i.YNc(2,od,1,0,"ng-content",11),i.qZA()),2&e){const e=i.oxw();i.Q6J("ngSwitch",!!e.customTrigger),i.xp6(2),i.Q6J("ngSwitchCase",!0)}}function ld(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",13),i.TgZ(1,"div",14,15),i.NdJ("@transformPanel.done",function(t){return i.CHM(e),i.oxw()._panelDoneAnimatingStream.next(t.toState)})("keydown",function(t){return i.CHM(e),i.oxw()._handleKeydown(t)}),i.Hsn(3,1),i.qZA(),i.qZA()}if(2&e){const e=i.oxw();i.Q6J("@transformPanelWrap",void 0),i.xp6(1),i.Gre("mat-select-panel ",e._getPanelTheme(),""),i.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),i.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),i.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const cd=[[["mat-select-trigger"]],"*"],ud=["mat-select-trigger","*"],hd={transformPanelWrap:An("transformPanelWrap",[Ln("* => void",Mn("@transformPanel",[Fn()],{optional:!0}))]),transformPanel:An("transformPanel",[Pn("void",On({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Pn("showing",On({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Pn("showing-multiple",On({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Ln("void => *",Dn("120ms cubic-bezier(0, 0, 0.2, 1)")),Ln("* => void",Dn("100ms 25ms linear",On({opacity:0})))])};let dd=0;const pd=256,fd=new i.OlP("mat-select-scroll-strategy"),md=new i.OlP("MAT_SELECT_CONFIG"),gd={provide:fd,deps:[Vc],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};class _d{constructor(e,t){this.source=e,this.value=t}}const yd=Is(Es(Ss(Ts(class{constructor(e,t,n,i,r){this._elementRef=e,this._defaultErrorStateMatcher=t,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r}})))),vd=new i.OlP("MatSelectTrigger");let bd=(()=>{class e extends yd{constructor(e,t,n,r,s,o,a,l,c,u,h,d,p,f){var m,g,_;super(s,r,a,l,u),this._viewportRuler=e,this._changeDetectorRef=t,this._ngZone=n,this._dir=o,this._parentFormField=c,this._liveAnnouncer=p,this._defaultOptions=f,this._panelOpen=!1,this._compareWith=(e,t)=>e===t,this._uid="mat-select-"+dd++,this._triggerAriaLabelledBy=null,this._destroy=new xe.xQ,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+dd++,this._panelDoneAnimatingStream=new xe.xQ,this._overlayPanelClass=(null===(m=this._defaultOptions)||void 0===m?void 0:m.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(_=null===(g=this._defaultOptions)||void 0===g?void 0:g.disableOptionCentering)&&void 0!==_&&_,this.ariaLabel="",this.optionSelectionChanges=td(()=>{const e=this.options;return e?e.changes.pipe(En(e),Bl(()=>(0,Co.T)(...e.map(e=>e.onSelectionChange)))):this._ngZone.onStable.pipe(Qe(1),Bl(()=>this.optionSelectionChanges))}),this.openedChange=new i.vpe,this._openedStream=this.openedChange.pipe(Ze(e=>e),(0,$e.U)(()=>{})),this._closedStream=this.openedChange.pipe(Ze(e=>!e),(0,$e.U)(()=>{})),this.selectionChange=new i.vpe,this.valueChange=new i.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==f?void 0:f.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=f.typeaheadDebounceInterval),this._scrollStrategyFactory=d,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required}set required(e){this._required=ut(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=ut(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=ut(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=ht(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Io(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(it(),at(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(at(this._destroy)).subscribe(e=>{e.added.forEach(e=>e.select()),e.removed.forEach(e=>e.deselect())}),this.options.changes.pipe(En(null),at(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby();if(e!==this._triggerAriaLabelledBy){const t=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?t.setAttribute("aria-labelledby",e):t.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this.value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,t;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(t=this._selectionModel)||void 0===t?void 0:t.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(e=>e.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const t=e.keyCode,n=t===Fe||t===Le||37===t||39===t,i=t===Pe||t===Ne,r=this._keyManager;if(!r.isTyping()&&i&&!Me(e)||(this.multiple||e.altKey)&&n)e.preventDefault(),this.open();else if(!this.multiple){const t=this.selected;r.onKeydown(e);const n=this.selected;n&&t!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(e){const t=this._keyManager,n=e.keyCode,i=n===Fe||n===Le,r=t.isTyping();if(i&&e.altKey)e.preventDefault(),this.close();else if(r||n!==Pe&&n!==Ne||!t.activeItem||Me(e))if(!r&&this._multiple&&65===n&&e.ctrlKey){e.preventDefault();const t=this.options.some(e=>!e.disabled&&!e.selected);this.options.forEach(e=>{e.disabled||(t?e.select():e.deselect())})}else{const n=t.activeItemIndex;t.onKeydown(e),this._multiple&&i&&e.shiftKey&&t.activeItem&&t.activeItemIndex!==n&&t.activeItem._selectViaInteraction()}else e.preventDefault(),t.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Qe(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(e=>e.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(e=>this._selectValue(e)),this._sortValues();else{const t=this._selectValue(e);t?this._keyManager.updateActiveItem(t):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(e){const t=this.options.find(t=>{if(this._selectionModel.isSelected(t))return!1;try{return null!=t.value&&this._compareWith(t.value,e)}catch(Dy){return!1}});return t&&this._selectionModel.select(t),t}_initKeyManager(){this._keyManager=new Ht(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(at(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(at(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Co.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(at(e)).subscribe(e=>{this._onSelect(e.source,e.isUserInput),e.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Co.T)(...this.options.map(e=>e._stateChanges)).pipe(at(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,t){const n=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(n!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),t&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),t&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),n!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((t,n)=>this.sortComparator?this.sortComparator(t,n,e):e.indexOf(t)-e.indexOf(n)),this.stateChanges.next()}}_propagateChanges(e){let t=null;t=this.multiple?this.selected.map(e=>e.value):this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this._onChange(t),this.selectionChange.emit(this._getChangeEvent(t)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const t=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const t=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let n=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(Jl),i.Y36(i.sBO),i.Y36(i.R0b),i.Y36(js),i.Y36(i.SBq),i.Y36(bn,8),i.Y36(gl,8),i.Y36(wl,8),i.Y36(la,8),i.Y36(ja,10),i.$8M("tabindex"),i.Y36(fd),i.Y36(ln),i.Y36(md,8))},e.\u0275dir=i.lG2({type:e,viewQuery:function(e,t){if(1&e&&(i.Gf(nd,5),i.Gf(id,5),i.Gf(jc,5)),2&e){let e;i.iGM(e=i.CRH())&&(t.trigger=e.first),i.iGM(e=i.CRH())&&(t.panel=e.first),i.iGM(e=i.CRH())&&(t._overlayDir=e.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[i.qOj,i.TTD]}),e})(),wd=(()=>{class e extends bd{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,t,n){const i=this._getItemHeight();return Math.min(Math.max(0,i*e-t+i/2),n)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(at(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Qe(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const t=po(e,this.options,this.optionGroups),n=this._getItemHeight();var i,r,s;this.panel.nativeElement.scrollTop=0===e&&1===t?0:(r=n,(i=(e+t)*n)<(s=this.panel.nativeElement.scrollTop)?i:i+r>s+256?Math.max(0,i-256+r):s)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new _d(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),t=this._viewportRuler.getViewportSize(),n=this._isRtl(),i=this.multiple?56:32;let r;if(this.multiple)r=40;else if(this.disableOptionCentering)r=16;else{let e=this._selectionModel.selected[0]||this.options.first;r=e&&e.group?32:16}n||(r*=-1);const s=0-(e.left+r-(n?i:0)),o=e.right+r-t.width+(n?0:i);s>0?r+=s+8:o>0&&(r-=o+8),this._overlayDir.offsetX=Math.round(r),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,t,n){const i=this._getItemHeight(),r=(i-this._triggerRect.height)/2,s=Math.floor(pd/i);let o;return this.disableOptionCentering?0:(o=0===this._scrollTop?e*i:this._scrollTop===n?(e-(this._getItemCount()-s))*i+(i-(this._getItemCount()*i-pd)%i):t-i/2,Math.round(-1*o-r))}_checkOverlayWithinViewport(e){const t=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-8,r=n.height-this._triggerRect.bottom-8,s=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*t,pd)-s-this._triggerRect.height;o>r?this._adjustPanelUp(o,r):s>i?this._adjustPanelDown(s,i,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,t){const n=Math.round(e-t);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,t,n){const i=Math.round(e-t);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),t=this._getItemCount(),n=Math.min(t*e,pd),i=t*e-n;let r;r=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),r+=po(r,this.options,this.optionGroups);const s=n/2;this._scrollTop=this._calculateOverlayScroll(r,s,i),this._offsetY=this._calculateOverlayOffsetY(r,s,i),this._checkOverlayWithinViewport(i)}_getOriginBasedOnOption(){const e=this._getItemHeight(),t=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-t+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i.n5z(e)))(n||e)}}(),e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-select"]],contentQueries:function(e,t,n){if(1&e&&(i.Suo(n,vd,5),i.Suo(n,ho,5),i.Suo(n,ao,5)),2&e){let e;i.iGM(e=i.CRH())&&(t.customTrigger=e.first),i.iGM(e=i.CRH())&&(t.options=e),i.iGM(e=i.CRH())&&(t.optionGroups=e)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,t){1&e&&i.NdJ("keydown",function(e){return t._handleKeydown(e)})("focus",function(){return t._onFocus()})("blur",function(){return t._onBlur()}),2&e&&(i.uIk("id",t.id)("tabindex",t.tabIndex)("aria-controls",t.panelOpen?t.id+"-panel":null)("aria-expanded",t.panelOpen)("aria-label",t.ariaLabel||null)("aria-required",t.required.toString())("aria-disabled",t.disabled.toString())("aria-invalid",t.errorState)("aria-describedby",t._ariaDescribedby||null)("aria-activedescendant",t._getAriaActiveDescendant()),i.ekj("mat-select-disabled",t.disabled)("mat-select-invalid",t.errorState)("mat-select-required",t.required)("mat-select-empty",t.empty)("mat-select-multiple",t.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[i._Bn([{provide:Jo,useExisting:e},{provide:io,useExisting:e}]),i.qOj],ngContentSelectors:ud,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,t){if(1&e&&(i.F$t(cd),i.TgZ(0,"div",0,1),i.NdJ("click",function(){return t.toggle()}),i.TgZ(3,"div",2),i.YNc(4,rd,2,1,"span",3),i.YNc(5,ad,3,2,"span",4),i.qZA(),i.TgZ(6,"div",5),i._UZ(7,"div",6),i.qZA(),i.qZA(),i.YNc(8,ld,4,14,"ng-template",7),i.NdJ("backdropClick",function(){return t.close()})("attach",function(){return t._onAttached()})("detach",function(){return t.close()})),2&e){const e=i.MAs(1);i.uIk("aria-owns",t.panelOpen?t.id+"-panel":null),i.xp6(3),i.Q6J("ngSwitch",t.empty),i.uIk("id",t._valueId),i.xp6(1),i.Q6J("ngSwitchCase",!0),i.xp6(1),i.Q6J("ngSwitchCase",!1),i.xp6(3),i.Q6J("cdkConnectedOverlayPanelClass",t._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",t._scrollStrategy)("cdkConnectedOverlayOrigin",e)("cdkConnectedOverlayOpen",t.panelOpen)("cdkConnectedOverlayPositions",t._positions)("cdkConnectedOverlayMinWidth",null==t._triggerRect?null:t._triggerRect.width)("cdkConnectedOverlayOffsetY",t._offsetY)}},directives:[Bc,F,M,jc,V,x],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[hd.transformPanelWrap,hd.transformPanel]},changeDetection:0}),e})(),Cd=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[gd],imports:[[G,Gc,fo,Cs],Xl,ua,fo,Cs]}),e})();class Sd extends Ue.L{notifyNext(e,t,n,i,r){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class kd extends Ue.L{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Id=n(7444);function Ed(e,t,n,i,r=new kd(e,n,i)){if(!r.closed)return t instanceof Ot.y?t.subscribe(r):(0,Id.s)(t)(r)}var Td=n(6693);const xd={};function Ad(...e){let t,n;return(0,In.K)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&(0,To.k)(e[0])&&(e=e[0]),(0,Td.n)(e,n).lift(new Dd(t))}class Dd{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Rd(e,this.resultSelector))}}class Rd extends Sd{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(xd),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add(Ed(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const i=this.values,r=this.toRespond?i[n]===xd?--this.toRespond:this.toRespond:0;i[n]=t,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const Od=new Set;let Pd,Nd=(()=>{class e{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ld}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function(e){if(!Od.has(e))try{Pd||(Pd=document.createElement("style"),Pd.setAttribute("type","text/css"),document.head.appendChild(Pd)),Pd.sheet&&(Pd.sheet.insertRule(`@media ${e} {body{ }}`,0),Od.add(e))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(yt))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(yt))},token:e,providedIn:"root"}),e})();function Ld(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let Fd=(()=>{class e{constructor(e,t){this._mediaMatcher=e,this._zone=t,this._queries=new Map,this._destroySubject=new xe.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Md(pt(e)).some(e=>this._registerQuery(e).mql.matches)}observe(e){let t=Ad(Md(pt(e)).map(e=>this._registerQuery(e).observable));return t=kn(t.pipe(Qe(1)),t.pipe(et(1),Be(0))),t.pipe((0,$e.U)(e=>{const t={matches:!1,breakpoints:{}};return e.forEach(({matches:e,query:n})=>{t.matches=t.matches||e,t.breakpoints[n]=e}),t}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const t=this._mediaMatcher.matchMedia(e),n={observable:new Ot.y(e=>{const n=t=>this._zone.run(()=>e.next(t));return t.addListener(n),()=>{t.removeListener(n)}}).pipe(En(t),(0,$e.U)(({matches:t})=>({query:e,matches:t})),at(this._destroySubject)),mql:t};return this._queries.set(e,n),n}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(Nd),i.LFG(i.R0b))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(Nd),i.LFG(i.R0b))},token:e,providedIn:"root"}),e})();function Md(e){return e.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const Vd={tooltipState:An("state",[Pn("initial, void, hidden",On({opacity:0,transform:"scale(0)"})),Pn("visible",On({transform:"scale(1)"})),Ln("* => visible",Dn("200ms cubic-bezier(0, 0, 0.2, 1)",Nn([On({opacity:0,transform:"scale(0)",offset:0}),On({opacity:.5,transform:"scale(0.99)",offset:.5}),On({opacity:1,transform:"scale(1)",offset:1})]))),Ln("* => hidden",Dn("100ms cubic-bezier(0, 0, 0.2, 1)",On({opacity:0})))])},Ud=Et({passive:!0}),qd=new i.OlP("mat-tooltip-scroll-strategy"),Bd={provide:qd,deps:[Vc],useFactory:function(e){return()=>e.scrollStrategies.reposition({scrollThrottle:20})}},jd=new i.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let zd=(()=>{class e{constructor(e,t,n,i,r,s,o,a,l,c,u,h){this._overlay=e,this._elementRef=t,this._scrollDispatcher=n,this._viewContainerRef=i,this._ngZone=r,this._platform=s,this._ariaDescriber=o,this._focusMonitor=a,this._dir=c,this._defaultOptions=u,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new xe.xQ,this._handleKeydown=e=>{this._isTooltipVisible()&&27===e.keyCode&&!Me(e)&&(e.preventDefault(),e.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=l,this._document=h,u&&(u.position&&(this.position=u.position),u.touchGestures&&(this.touchGestures=u.touchGestures)),c.change.pipe(at(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),r.runOutsideAngular(()=>{t.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(e){var t;e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(t=this._tooltipInstance)||void 0===t||t.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=ut(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(at(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),e.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([t,n])=>{e.removeEventListener(t,n,Ud)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const t=this._createOverlay();this._detach(),this._portal=this._portal||new nc(this._tooltipComponent,this._viewContainerRef),this._tooltipInstance=t.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(at(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),t=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return t.positionChanges.pipe(at(this._destroyed)).subscribe(e=>{this._updateCurrentPositionClass(e.connectionPair),this._tooltipInstance&&e.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:t,panelClass:`${this._cssClassPrefix}-tooltip-panel`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(at(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(at(this._destroyed)).subscribe(()=>{var e;return null===(e=this._tooltipInstance)||void 0===e?void 0:e._handleBodyInteraction()}),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const t=e.getConfig().positionStrategy,n=this._getOrigin(),i=this._getOverlayPosition();t.withPositions([this._addOffset(Object.assign(Object.assign({},n.main),i.main)),this._addOffset(Object.assign(Object.assign({},n.fallback),i.fallback))])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,t=this.position;let n;"above"==t||"below"==t?n={originX:"center",originY:"above"==t?"top":"bottom"}:"before"==t||"left"==t&&e||"right"==t&&!e?n={originX:"start",originY:"center"}:("after"==t||"right"==t&&e||"left"==t&&!e)&&(n={originX:"end",originY:"center"});const{x:i,y:r}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:i,originY:r}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,t=this.position;let n;"above"==t?n={overlayX:"center",overlayY:"bottom"}:"below"==t?n={overlayX:"center",overlayY:"top"}:"before"==t||"left"==t&&e||"right"==t&&!e?n={overlayX:"end",overlayY:"center"}:("after"==t||"right"==t&&e||"left"==t&&!e)&&(n={overlayX:"start",overlayY:"center"});const{x:i,y:r}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:i,overlayY:r}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Qe(1),at(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,t){return"above"===this.position||"below"===this.position?"top"===t?t="bottom":"bottom"===t&&(t="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:t}}_updateCurrentPositionClass(e){const{overlayY:t,originX:n,originY:i}=e;let r;if(r="center"===t?this._dir&&"rtl"===this._dir.value?"end"===n?"left":"right":"start"===n?"left":"right":"bottom"===t&&"top"===i?"above":"below",r!==this._currentPosition){const e=this._overlayRef;if(e){const t=`${this._cssClassPrefix}-tooltip-panel-`;e.removePanelClass(t+this._currentPosition),e.addPanelClass(t+r)}this._currentPosition=r}}_setupPointerEnterEventsIfNeeded(){!this._disabled&&this.message&&this._viewInitialized&&!this._passiveListeners.length&&(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",()=>this.hide()],["wheel",e=>this._wheelListener(e)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const t=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",t],["touchcancel",t])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([e,t])=>{this._elementRef.nativeElement.addEventListener(e,t,Ud)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const t=this._document.elementFromPoint(e.clientX,e.clientY),n=this._elementRef.nativeElement;t===n||n.contains(t)||this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const t=this._elementRef.nativeElement,n=t.style;("on"===e||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName)&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),"on"!==e&&t.draggable||(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(Vc),i.Y36(i.SBq),i.Y36(Kl),i.Y36(i.s_b),i.Y36(i.R0b),i.Y36(yt),i.Y36(zt),i.Y36(dn),i.Y36(void 0),i.Y36(bn),i.Y36(void 0),i.Y36(o))},e.\u0275dir=i.lG2({type:e,inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),e})(),Gd=(()=>{class e extends zd{constructor(e,t,n,i,r,s,o,a,l,c,u,h){super(e,t,n,i,r,s,o,a,l,c,u,h),this._tooltipComponent=Hd}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(Vc),i.Y36(i.SBq),i.Y36(Kl),i.Y36(i.s_b),i.Y36(i.R0b),i.Y36(yt),i.Y36(zt),i.Y36(dn),i.Y36(qd),i.Y36(bn,8),i.Y36(jd,8),i.Y36(o))},e.\u0275dir=i.lG2({type:e,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[i.qOj]}),e})(),Zd=(()=>{class e{constructor(e){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new xe.xQ}show(e){clearTimeout(this._hideTimeoutId),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=void 0,this._onShow(),this._markForCheck()},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=void 0,this._markForCheck()},e)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(e){const t=e.toState;"hidden"!==t||this.isVisible()||this._onHide.next(),"visible"!==t&&"hidden"!==t||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_onShow(){}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.sBO))},e.\u0275dir=i.lG2({type:e}),e})(),Hd=(()=>{class e extends Zd{constructor(e,t){super(e),this._breakpointObserver=t,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.sBO),i.Y36(Fd))},e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,t){2&e&&i.Udp("zoom","visible"===t._visibility?1:null)},features:[i.qOj],decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(e,t){if(1&e&&(i.TgZ(0,"div",0),i.NdJ("@state.start",function(){return t._animationStart()})("@state.done",function(e){return t._animationDone(e)}),i.ALo(1,"async"),i._uU(2),i.qZA()),2&e){let e;i.ekj("mat-tooltip-handset",null==(e=i.lcZ(1,5,t._isHandset))?null:e.matches),i.Q6J("ngClass",t.tooltipClass)("@state",t._visibility),i.xp6(2),i.Oqu(t.message)}},directives:[x],pipes:[z],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[Vd.tooltipState]},changeDetection:0}),e})(),Yd=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[Bd],imports:[[yn,G,Gc,Cs],Cs,Xl]}),e})();function $d(e,t){if(1&e&&(i.TgZ(0,"mat-option",19),i._uU(1),i.qZA()),2&e){const e=t.$implicit;i.Q6J("value",e),i.xp6(1),i.hij(" ",e," ")}}function Wd(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"mat-form-field",16),i.TgZ(1,"mat-select",17),i.NdJ("selectionChange",function(t){return i.CHM(e),i.oxw(2)._changePageSize(t.value)}),i.YNc(2,$d,2,2,"mat-option",18),i.qZA(),i.qZA()}if(2&e){const e=i.oxw(2);i.Q6J("appearance",e._formFieldAppearance)("color",e.color),i.xp6(1),i.Q6J("value",e.pageSize)("disabled",e.disabled)("aria-label",e._intl.itemsPerPageLabel),i.xp6(1),i.Q6J("ngForOf",e._displayedPageSizeOptions)}}function Kd(e,t){if(1&e&&(i.TgZ(0,"div",20),i._uU(1),i.qZA()),2&e){const e=i.oxw(2);i.xp6(1),i.Oqu(e.pageSize)}}function Qd(e,t){if(1&e&&(i.TgZ(0,"div",12),i.TgZ(1,"div",13),i._uU(2),i.qZA(),i.YNc(3,Wd,3,6,"mat-form-field",14),i.YNc(4,Kd,2,1,"div",15),i.qZA()),2&e){const e=i.oxw();i.xp6(2),i.hij(" ",e._intl.itemsPerPageLabel," "),i.xp6(1),i.Q6J("ngIf",e._displayedPageSizeOptions.length>1),i.xp6(1),i.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function Jd(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"button",21),i.NdJ("click",function(){return i.CHM(e),i.oxw().firstPage()}),i.O4$(),i.TgZ(1,"svg",7),i._UZ(2,"path",22),i.qZA(),i.qZA()}if(2&e){const e=i.oxw();i.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),i.uIk("aria-label",e._intl.firstPageLabel)}}function Xd(e,t){if(1&e){const e=i.EpF();i.O4$(),i.kcU(),i.TgZ(0,"button",23),i.NdJ("click",function(){return i.CHM(e),i.oxw().lastPage()}),i.O4$(),i.TgZ(1,"svg",7),i._UZ(2,"path",24),i.qZA(),i.qZA()}if(2&e){const e=i.oxw();i.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),i.uIk("aria-label",e._intl.lastPageLabel)}}let ep=(()=>{class e{constructor(){this.changes=new xe.xQ,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,t,n)=>{if(0==n||0==t)return`0 of ${n}`;const i=e*t;return`${i+1} \u2013 ${i<(n=Math.max(n,0))?Math.min(i+t,n):i+t} of ${n}`}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})();const tp={provide:ep,deps:[[new i.FiY,new i.tp0,ep]],useFactory:function(e){return e||new ep}},np=new i.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),ip=Ss(xs(class{}));let rp=(()=>{class e extends ip{constructor(e,t,n){if(super(),this._intl=e,this._changeDetectorRef=t,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new i.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),n){const{pageSize:e,pageSizeOptions:t,hidePageSize:i,showFirstLastButtons:r}=n;null!=e&&(this._pageSize=e),null!=t&&(this._pageSizeOptions=t),null!=i&&(this._hidePageSize=i),null!=r&&(this._showFirstLastButtons=r)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(ht(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=ht(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(ht(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(e=>ht(e)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=ut(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=ut(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex++,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex--,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const t=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(t)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,t)=>e-t),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(ep),i.Y36(i.sBO),i.Y36(void 0))},e.\u0275dir=i.lG2({type:e,inputs:{pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",color:"color"},outputs:{page:"page"},features:[i.qOj]}),e})(),sp=(()=>{class e extends rp{constructor(e,t,n){super(e,t,n),n&&null!=n.formFieldAppearance&&(this._formFieldAppearance=n.formFieldAppearance)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(ep),i.Y36(i.sBO),i.Y36(np,8))},e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[i.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.YNc(2,Qd,5,3,"div",2),i.TgZ(3,"div",3),i.TgZ(4,"div",4),i._uU(5),i.qZA(),i.YNc(6,Jd,3,5,"button",5),i.TgZ(7,"button",6),i.NdJ("click",function(){return t.previousPage()}),i.O4$(),i.TgZ(8,"svg",7),i._UZ(9,"path",8),i.qZA(),i.qZA(),i.kcU(),i.TgZ(10,"button",9),i.NdJ("click",function(){return t.nextPage()}),i.O4$(),i.TgZ(11,"svg",7),i._UZ(12,"path",10),i.qZA(),i.qZA(),i.YNc(13,Xd,3,5,"button",11),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(2),i.Q6J("ngIf",!t.hidePageSize),i.xp6(3),i.hij(" ",t._intl.getRangeLabel(t.pageIndex,t.pageSize,t.length)," "),i.xp6(1),i.Q6J("ngIf",t.showFirstLastButtons),i.xp6(1),i.Q6J("matTooltip",t._intl.previousPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),i.uIk("aria-label",t._intl.previousPageLabel),i.xp6(3),i.Q6J("matTooltip",t._intl.nextPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),i.uIk("aria-label",t._intl.nextPageLabel),i.xp6(3),i.Q6J("ngIf",t.showFirstLastButtons))},directives:[O,bo,Gd,ca,wd,D,ho],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}\n"],encapsulation:2,changeDetection:0}),e})(),op=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[tp],imports:[[G,wo,Cd,Yd,Cs]]}),e})(),ap=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[eo,Cs],Cs]}),e})();function lp(e){return t=>t.lift(new cp(e))}class cp{constructor(e){this.value=e}call(e,t){return t.subscribe(new up(e,this.value))}}class up extends Ue.L{constructor(e,t){super(e),this.value=t}_next(e){this.destination.next(this.value)}}const hp=["*"];function dp(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",2),i.NdJ("click",function(){return i.CHM(e),i.oxw()._onBackdropClicked()}),i.qZA()}if(2&e){const e=i.oxw();i.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function pp(e,t){1&e&&(i.TgZ(0,"mat-drawer-content"),i.Hsn(1,2),i.qZA())}const fp=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],mp=["mat-drawer","mat-drawer-content","*"];function gp(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",2),i.NdJ("click",function(){return i.CHM(e),i.oxw()._onBackdropClicked()}),i.qZA()}if(2&e){const e=i.oxw();i.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function _p(e,t){1&e&&(i.TgZ(0,"mat-sidenav-content",3),i.Hsn(1,2),i.qZA())}const yp=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],vp=["mat-sidenav","mat-sidenav-content","*"],bp=".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n",wp={transformDrawer:An("transform",[Pn("open, open-instant",On({transform:"none",visibility:"visible"})),Pn("void",On({"box-shadow":"none",visibility:"hidden"})),Ln("void => open-instant",Dn("0ms")),Ln("void <=> open, open-instant => void",Dn("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Cp=new i.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),Sp=new i.OlP("MAT_DRAWER_CONTAINER");let kp=(()=>{class e extends Ql{constructor(e,t,n,i,r){super(n,i,r),this._changeDetectorRef=e,this._container=t}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.sBO),i.Y36((0,i.Gpc)(()=>Ep)),i.Y36(i.SBq),i.Y36(Kl),i.Y36(i.R0b))},e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,t){2&e&&i.Udp("margin-left",t._container._contentMargins.left,"px")("margin-right",t._container._contentMargins.right,"px")},features:[i.qOj],ngContentSelectors:hp,decls:1,vars:0,template:function(e,t){1&e&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),e})(),Ip=(()=>{class e{constructor(e,t,n,r,s,o,a){this._elementRef=e,this._focusTrapFactory=t,this._focusMonitor=n,this._platform=r,this._ngZone=s,this._doc=o,this._container=a,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new xe.xQ,this._animationEnd=new xe.xQ,this._animationState="void",this.openedChange=new i.vpe(!0),this._openedStream=this.openedChange.pipe(Ze(e=>e),(0,$e.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Ze(e=>e.fromState!==e.toState&&0===e.toState.indexOf("open")),lp(void 0)),this._closedStream=this.openedChange.pipe(Ze(e=>!e),(0,$e.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Ze(e=>e.fromState!==e.toState&&"void"===e.toState),lp(void 0)),this._destroyed=new xe.xQ,this.onPositionChanged=new i.vpe,this._modeChanged=new xe.xQ,this.openedChange.subscribe(e=>{e?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{Ao(this._elementRef.nativeElement,"keydown").pipe(Ze(e=>27===e.keyCode&&!this.disableClose&&!Me(e)),at(this._destroyed)).subscribe(e=>this._ngZone.run(()=>{this.close(),e.stopPropagation(),e.preventDefault()}))}),this._animationEnd.pipe(it((e,t)=>e.fromState===t.fromState&&e.toState===t.toState)).subscribe(e=>{const{fromState:t,toState:n}=e;(0===n.indexOf("open")&&"void"===t||"void"===n&&0===t.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!=this._position&&(this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=ut(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"!==this.mode:e}set autoFocus(e){this._autoFocus=ut(e)}get opened(){return this._opened}set opened(e){this.toggle(ut(e))}_takeFocus(){this.autoFocus&&this._focusTrap&&this._focusTrap.focusInitialElementWhenReady().then(e=>{e||"function"!=typeof this._elementRef.nativeElement.focus||this._elementRef.nativeElement.focus()})}_restoreFocus(){this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var e;const t=null===(e=this._doc)||void 0===e?void 0:e.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(e=!this.opened,t){return this._setOpen(e,!e&&this._isFocusWithinDrawer(),t)}_setOpen(e,t,n="program"){return this._opened=e,e?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=n):(this._animationState="void",t&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(e=>{this.openedChange.pipe(Qe(1)).subscribe(t=>e(t?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(e){this._animationStarted.next(e)}_animationDoneListener(e){this._animationEnd.next(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(Qt),i.Y36(dn),i.Y36(yt),i.Y36(i.R0b),i.Y36(o,8),i.Y36(Sp,8))},e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,t){1&e&&i.WFA("@transform.start",function(e){return t._animationStartListener(e)})("@transform.done",function(e){return t._animationDoneListener(e)}),2&e&&(i.uIk("align",null),i.d8E("@transform",t._animationState),i.ekj("mat-drawer-end","end"===t.position)("mat-drawer-over","over"===t.mode)("mat-drawer-push","push"===t.mode)("mat-drawer-side","side"===t.mode)("mat-drawer-opened",t.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:hp,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,t){1&e&&(i.F$t(),i.TgZ(0,"div",0),i.Hsn(1),i.qZA())},directives:[Ql],encapsulation:2,data:{animation:[wp.transformDrawer]},changeDetection:0}),e})(),Ep=(()=>{class e{constructor(e,t,n,r,s,o=!1,a){this._dir=e,this._element=t,this._ngZone=n,this._changeDetectorRef=r,this._animationMode=a,this._drawers=new i.n_E,this.backdropClick=new i.vpe,this._destroyed=new xe.xQ,this._doCheckSubject=new xe.xQ,this._contentMargins={left:null,right:null},this._contentMarginChanges=new xe.xQ,e&&e.change.pipe(at(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(at(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=o}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=ut(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:ut(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(En(this._allDrawers),at(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(e=>!e._container||e._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(En(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Be(10),at(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,t=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const n=this._left._getWidth();e+=n,t-=n}if(this._right&&this._right.opened)if("side"==this._right.mode)t+=this._right._getWidth();else if("push"==this._right.mode){const n=this._right._getWidth();t+=n,e-=n}e=e||null,t=t||null,e===this._contentMargins.left&&t===this._contentMargins.right||(this._contentMargins={left:e,right:t},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Ze(e=>e.fromState!==e.toState),at(this._drawers.changes)).subscribe(e=>{"open-instant"!==e.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(at(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(at(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Qe(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(at((0,Co.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const t=this._element.nativeElement.classList,n="mat-drawer-container-has-open";e?t.add(n):t.remove(n)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(bn,8),i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(i.sBO),i.Y36(Jl),i.Y36(Cp),i.Y36(ds,8))},e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-drawer-container"]],contentQueries:function(e,t,n){if(1&e&&(i.Suo(n,kp,5),i.Suo(n,Ip,5)),2&e){let e;i.iGM(e=i.CRH())&&(t._content=e.first),i.iGM(e=i.CRH())&&(t._allDrawers=e)}},viewQuery:function(e,t){if(1&e&&i.Gf(kp,5),2&e){let e;i.iGM(e=i.CRH())&&(t._userContent=e.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,t){2&e&&i.ekj("mat-drawer-container-explicit-backdrop",t._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[i._Bn([{provide:Sp,useExisting:e}])],ngContentSelectors:mp,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,t){1&e&&(i.F$t(fp),i.YNc(0,dp,1,2,"div",0),i.Hsn(1),i.Hsn(2,1),i.YNc(3,pp,2,0,"mat-drawer-content",1)),2&e&&(i.Q6J("ngIf",t.hasBackdrop),i.xp6(3),i.Q6J("ngIf",!t._content))},directives:[O,kp],styles:[bp],encapsulation:2,changeDetection:0}),e})(),Tp=(()=>{class e extends kp{constructor(e,t,n,i,r){super(e,t,n,i,r)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.sBO),i.Y36((0,i.Gpc)(()=>Ap)),i.Y36(i.SBq),i.Y36(Kl),i.Y36(i.R0b))},e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,t){2&e&&i.Udp("margin-left",t._container._contentMargins.left,"px")("margin-right",t._container._contentMargins.right,"px")},features:[i.qOj],ngContentSelectors:hp,decls:1,vars:0,template:function(e,t){1&e&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),e})(),xp=(()=>{class e extends Ip{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=ut(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=ht(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=ht(e)}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i.n5z(e)))(n||e)}}(),e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,t){2&e&&(i.uIk("align",null),i.Udp("top",t.fixedInViewport?t.fixedTopGap:null,"px")("bottom",t.fixedInViewport?t.fixedBottomGap:null,"px"),i.ekj("mat-drawer-end","end"===t.position)("mat-drawer-over","over"===t.mode)("mat-drawer-push","push"===t.mode)("mat-drawer-side","side"===t.mode)("mat-drawer-opened",t.opened)("mat-sidenav-fixed",t.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[i.qOj],ngContentSelectors:hp,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,t){1&e&&(i.F$t(),i.TgZ(0,"div",0),i.Hsn(1),i.qZA())},directives:[Ql],encapsulation:2,data:{animation:[wp.transformDrawer]},changeDetection:0}),e})(),Ap=(()=>{class e extends Ep{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i.n5z(e)))(n||e)}}(),e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-sidenav-container"]],contentQueries:function(e,t,n){if(1&e&&(i.Suo(n,Tp,5),i.Suo(n,xp,5)),2&e){let e;i.iGM(e=i.CRH())&&(t._content=e.first),i.iGM(e=i.CRH())&&(t._allDrawers=e)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,t){2&e&&i.ekj("mat-drawer-container-explicit-backdrop",t._backdropOverride)},exportAs:["matSidenavContainer"],features:[i._Bn([{provide:Sp,useExisting:e}]),i.qOj],ngContentSelectors:vp,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(e,t){1&e&&(i.F$t(yp),i.YNc(0,gp,1,2,"div",0),i.Hsn(1),i.Hsn(2,1),i.YNc(3,_p,2,0,"mat-sidenav-content",1)),2&e&&(i.Q6J("ngIf",t.hasBackdrop),i.xp6(3),i.Q6J("ngIf",!t._content))},directives:[O,Tp,Ql],styles:[bp],encapsulation:2,changeDetection:0}),e})(),Dp=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[G,Cs,vt,Xl],Xl,Cs]}),e})();const Rp=[[["caption"]],[["colgroup"],["col"]]],Op=["caption","colgroup, col"];function Pp(e){return class extends e{constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=ut(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}}}const Np=new i.OlP("CDK_TABLE");let Lp=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Rgc))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdkCellDef",""]]}),e})(),Fp=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Rgc))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdkHeaderCellDef",""]]}),e})(),Mp=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Rgc))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdkFooterCellDef",""]]}),e})();class Vp{}const Up=Pp(Vp);let qp=(()=>{class e extends Up{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const t=this._stickyEnd;this._stickyEnd=ut(e),this._hasStickyChanged=t!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(Np,8))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,t,n){if(1&e&&(i.Suo(n,Lp,5),i.Suo(n,Fp,5),i.Suo(n,Mp,5)),2&e){let e;i.iGM(e=i.CRH())&&(t.cell=e.first),i.iGM(e=i.CRH())&&(t.headerCell=e.first),i.iGM(e=i.CRH())&&(t.footerCell=e.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[i._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:e}]),i.qOj]}),e})();class Bp{constructor(e,t){const n=t.nativeElement.classList;for(const i of e._columnCssClassName)n.add(i)}}let jp=(()=>{class e extends Bp{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(qp),i.Y36(i.SBq))},e.\u0275dir=i.lG2({type:e,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[i.qOj]}),e})(),zp=(()=>{class e extends Bp{constructor(e,t){var n;if(super(e,t),1===(null===(n=e._table)||void 0===n?void 0:n._elementRef.nativeElement.nodeType)){const n=e._table._elementRef.nativeElement.getAttribute("role");t.nativeElement.setAttribute("role","grid"===n||"treegrid"===n?"gridcell":"cell")}}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(qp),i.Y36(i.SBq))},e.\u0275dir=i.lG2({type:e,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[i.qOj]}),e})();class Gp{constructor(){this.tasks=[],this.endTasks=[]}}const Zp=new i.OlP("_COALESCED_STYLE_SCHEDULER");let Hp=(()=>{class e{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new xe.xQ}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Gp,this._getScheduleObservable().pipe(at(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new Gp;for(const t of e.tasks)t();for(const t of e.endTasks)t()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,ha.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Qe(1))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.R0b))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),Yp=(()=>{class e{constructor(e,t){this.template=e,this._differs=t}ngOnChanges(e){if(!this._columnsDiffer){const t=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(t).create(),this._columnsDiffer.diff(t)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Kp?e.headerCell.template:this instanceof Xp?e.footerCell.template:e.cell.template}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Rgc),i.Y36(i.ZZ4))},e.\u0275dir=i.lG2({type:e,features:[i.TTD]}),e})();class $p extends Yp{}const Wp=Pp($p);let Kp=(()=>{class e extends Wp{constructor(e,t,n){super(e,t),this._table=n}ngOnChanges(e){super.ngOnChanges(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Rgc),i.Y36(i.ZZ4),i.Y36(Np,8))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[i.qOj,i.TTD]}),e})();class Qp extends Yp{}const Jp=Pp(Qp);let Xp=(()=>{class e extends Jp{constructor(e,t,n){super(e,t),this._table=n}ngOnChanges(e){super.ngOnChanges(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Rgc),i.Y36(i.ZZ4),i.Y36(Np,8))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[i.qOj,i.TTD]}),e})(),ef=(()=>{class e extends Yp{constructor(e,t,n){super(e,t),this._table=n}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Rgc),i.Y36(i.ZZ4),i.Y36(Np,8))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[i.qOj]}),e})(),tf=(()=>{class e{constructor(t){this._viewContainer=t,e.mostRecentCellOutlet=this}ngOnDestroy(){e.mostRecentCellOutlet===this&&(e.mostRecentCellOutlet=null)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.s_b))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdkCellOutlet",""]]}),e.mostRecentCellOutlet=null,e})(),nf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&i.GkF(0,0)},directives:[tf],encapsulation:2}),e})(),rf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&i.GkF(0,0)},directives:[tf],encapsulation:2}),e})(),sf=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Rgc))},e.\u0275dir=i.lG2({type:e,selectors:[["ng-template","cdkNoDataRow",""]]}),e})();const of=["top","bottom","left","right"];class af{constructor(e,t,n,i,r=!0,s=!0,o){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=n,this._coalescedStyleScheduler=i,this._isBrowser=r,this._needsPositionStickyOnElement=s,this._positionListener=o,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const n=[];for(const i of e)if(i.nodeType===i.ELEMENT_NODE){n.push(i);for(let e=0;e<i.children.length;e++)n.push(i.children[e])}this._coalescedStyleScheduler.schedule(()=>{for(const e of n)this._removeStickyStyle(e,t)})}updateStickyColumns(e,t,n,i=!0){if(!e.length||!this._isBrowser||!t.some(e=>e)&&!n.some(e=>e))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const r=e[0],s=r.children.length,o=this._getCellWidths(r,i),a=this._getStickyStartColumnPositions(o,t),l=this._getStickyEndColumnPositions(o,n),c=t.lastIndexOf(!0),u=n.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const i="rtl"===this.direction,r=i?"right":"left",h=i?"left":"right";for(const o of e)for(let e=0;e<s;e++){const i=o.children[e];t[e]&&this._addStickyStyle(i,r,a[e],e===c),n[e]&&this._addStickyStyle(i,h,l[e],e===u)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===c?[]:o.slice(0,c+1).map((e,n)=>t[n]?e:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===u?[]:o.slice(u).map((e,t)=>n[t+u]?e:null).reverse()}))})}stickRows(e,t,n){if(!this._isBrowser)return;const i="bottom"===n?e.slice().reverse():e,r="bottom"===n?t.slice().reverse():t,s=[],o=[],a=[];for(let c=0,u=0;c<i.length;c++){if(!r[c])continue;s[c]=u;const e=i[c];a[c]=this._isNativeHtmlTable?Array.from(e.children):[e];const t=e.getBoundingClientRect().height;u+=t,o[c]=t}const l=r.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var e,t;for(let o=0;o<i.length;o++){if(!r[o])continue;const e=s[o],t=o===l;for(const i of a[o])this._addStickyStyle(i,n,e,t)}"top"===n?null===(e=this._positionListener)||void 0===e||e.stickyHeaderRowsUpdated({sizes:o,offsets:s,elements:a}):null===(t=this._positionListener)||void 0===t||t.stickyFooterRowsUpdated({sizes:o,offsets:s,elements:a})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const n=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(e=>!e)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const n of t)e.style[n]="",e.classList.remove(this._borderCellCss[n]);of.some(n=>-1===t.indexOf(n)&&e.style[n])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,n,i){e.classList.add(this._stickCellCss),i&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${n}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let n=0;for(const i of of)e.style[i]&&(n+=t[i]);return n?`${n}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const n=[],i=e.children;for(let r=0;r<i.length;r++)n.push(i[r].getBoundingClientRect().width);return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(e,t){const n=[];let i=0;for(let r=0;r<e.length;r++)t[r]&&(n[r]=i,i+=e[r]);return n}_getStickyEndColumnPositions(e,t){const n=[];let i=0;for(let r=e.length;r>0;r--)t[r]&&(n[r]=i,i+=e[r]);return n}}const lf=new i.OlP("CDK_SPL");let cf=(()=>{class e{constructor(e,t){this.viewContainer=e,this.elementRef=t}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.s_b),i.Y36(i.SBq))},e.\u0275dir=i.lG2({type:e,selectors:[["","rowOutlet",""]]}),e})(),uf=(()=>{class e{constructor(e,t){this.viewContainer=e,this.elementRef=t}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.s_b),i.Y36(i.SBq))},e.\u0275dir=i.lG2({type:e,selectors:[["","headerRowOutlet",""]]}),e})(),hf=(()=>{class e{constructor(e,t){this.viewContainer=e,this.elementRef=t}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.s_b),i.Y36(i.SBq))},e.\u0275dir=i.lG2({type:e,selectors:[["","footerRowOutlet",""]]}),e})(),df=(()=>{class e{constructor(e,t){this.viewContainer=e,this.elementRef=t}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.s_b),i.Y36(i.SBq))},e.\u0275dir=i.lG2({type:e,selectors:[["","noDataRowOutlet",""]]}),e})(),pf=(()=>{class e{constructor(e,t,n,r,s,o,a,l,c,u,h){this._differs=e,this._changeDetectorRef=t,this._elementRef=n,this._dir=s,this._platform=a,this._viewRepeater=l,this._coalescedStyleScheduler=c,this._viewportRuler=u,this._stickyPositioningListener=h,this._onDestroy=new xe.xQ,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new i.vpe,this.viewChange=new Re({start:0,end:Number.MAX_VALUE}),r||this._elementRef.nativeElement.setAttribute("role","table"),this._document=o,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=ut(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=ut(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,t)=>this.trackBy?this.trackBy(t.dataIndex,t.data):t),this._viewportRuler.change().pipe(at(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const e=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||e,this._forceRecalculateCellWidths=e,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),So(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const t=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,t,(e,t,n)=>this._getEmbeddedViewArgs(e.item,n),e=>e.item.data,e=>{1===e.operation&&e.context&&this._renderCellTemplateForItem(e.record.item.rowDef,e.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(e=>{t.get(e.currentIndex).context.$implicit=e.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),t=this._elementRef.nativeElement.querySelector("thead");t&&(t.style.display=e.length?"":"none");const n=this._headerRowDefs.map(e=>e.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,n,"top"),this._headerRowDefs.forEach(e=>e.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),t=this._elementRef.nativeElement.querySelector("tfoot");t&&(t.style.display=e.length?"":"none");const n=this._footerRowDefs.map(e=>e.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(e=>e.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),t=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...t,...n],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((e,t)=>{this._addStickyColumnStyles([e],this._headerRowDefs[t])}),this._rowDefs.forEach(e=>{const n=[];for(let i=0;i<t.length;i++)this._renderRows[i].rowDef===e&&n.push(t[i]);this._addStickyColumnStyles(n,e)}),n.forEach((e,t)=>{this._addStickyColumnStyles([e],this._footerRowDefs[t])}),Array.from(this._columnDefsByName.values()).forEach(e=>e.resetStickyChanged())}_getAllRenderRows(){const e=[],t=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let i=this._data[n];const r=this._getRenderRowsForData(i,n,t.get(i));this._cachedRenderRowsMap.has(i)||this._cachedRenderRowsMap.set(i,new WeakMap);for(let t=0;t<r.length;t++){let n=r[t];const i=this._cachedRenderRowsMap.get(n.data);i.has(n.rowDef)?i.get(n.rowDef).push(n):i.set(n.rowDef,[n]),e.push(n)}}return e}_getRenderRowsForData(e,t,n){return this._getRowDefs(e,t).map(i=>{const r=n&&n.has(i)?n.get(i):[];if(r.length){const e=r.shift();return e.dataIndex=t,e}return{data:e,rowDef:i,dataIndex:t}})}_cacheColumnDefs(){this._columnDefsByName.clear(),ff(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(e=>{this._columnDefsByName.has(e.name),this._columnDefsByName.set(e.name,e)})}_cacheRowDefs(){this._headerRowDefs=ff(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=ff(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=ff(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(e=>!e.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(e,t)=>e||!!t.getColumnsDiff(),t=this._rowDefs.reduce(e,!1);t&&this._forceRenderDataRows();const n=this._headerRowDefs.reduce(e,!1);n&&this._forceRenderHeaderRows();const i=this._footerRowDefs.reduce(e,!1);return i&&this._forceRenderFooterRows(),t||n||i}_switchDataSource(e){this._data=[],So(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;var t;So(this.dataSource)?e=this.dataSource.connect(this):(t=this.dataSource)&&(t instanceof Ot.y||"function"==typeof t.lift&&"function"==typeof t.subscribe)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,Oe.of)(this.dataSource)),this._renderChangeSubscription=e.pipe(at(this._onDestroy)).subscribe(e=>{this._data=e||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,t)=>this._renderRow(this._headerRowOutlet,e,t)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,t)=>this._renderRow(this._footerRowOutlet,e,t)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,t){const n=Array.from(t.columns||[]).map(e=>this._columnDefsByName.get(e)),i=n.map(e=>e.sticky),r=n.map(e=>e.stickyEnd);this._stickyStyler.updateStickyColumns(e,i,r,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const t=[];for(let n=0;n<e.viewContainer.length;n++){const i=e.viewContainer.get(n);t.push(i.rootNodes[0])}return t}_getRowDefs(e,t){if(1==this._rowDefs.length)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(n=>!n.when||n.when(t,e));else{let i=this._rowDefs.find(n=>n.when&&n.when(t,e))||this._defaultRowDef;i&&n.push(i)}return n}_getEmbeddedViewArgs(e,t){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:t}}_renderRow(e,t,n,i={}){const r=e.viewContainer.createEmbeddedView(t.template,i,n);return this._renderCellTemplateForItem(t,i),r}_renderCellTemplateForItem(e,t){for(let n of this._getCellTemplates(e))tf.mostRecentCellOutlet&&tf.mostRecentCellOutlet._viewContainer.createEmbeddedView(n,t);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let t=0,n=e.length;t<n;t++){const i=e.get(t).context;i.count=n,i.first=0===t,i.last=t===n-1,i.even=t%2==0,i.odd=!i.even,this.multiTemplateDataRows?(i.dataIndex=this._renderRows[t].dataIndex,i.renderIndex=t):i.index=this._renderRows[t].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,t=>{const n=this._columnDefsByName.get(t);return e.extractCellTemplate(n)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),t=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const n of t){const t=this._document.createElement(n.tag);t.setAttribute("role","rowgroup");for(const e of n.outlets)t.appendChild(e.elementRef.nativeElement);e.appendChild(t)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(e,t)=>e||t.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new af(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,Oe.of)()).pipe(at(this._onDestroy)).subscribe(e=>{this._stickyStyler.direction=e,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(e=>!e._table||e._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(e){const t=0===this._rowOutlet.viewContainer.length;if(t!==this._isShowingNoDataRow){const n=this._noDataRowOutlet.viewContainer;t?n.createEmbeddedView(e.templateRef):n.clear(),this._isShowingNoDataRow=t}}}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.ZZ4),i.Y36(i.sBO),i.Y36(i.SBq),i.$8M("role"),i.Y36(bn,8),i.Y36(o),i.Y36(yt),i.Y36(Eo),i.Y36(Zp),i.Y36(Jl),i.Y36(lf,12))},e.\u0275cmp=i.Xpm({type:e,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,t,n){if(1&e&&(i.Suo(n,sf,5),i.Suo(n,qp,5),i.Suo(n,ef,5),i.Suo(n,Kp,5),i.Suo(n,Xp,5)),2&e){let e;i.iGM(e=i.CRH())&&(t._noDataRow=e.first),i.iGM(e=i.CRH())&&(t._contentColumnDefs=e),i.iGM(e=i.CRH())&&(t._contentRowDefs=e),i.iGM(e=i.CRH())&&(t._contentHeaderRowDefs=e),i.iGM(e=i.CRH())&&(t._contentFooterRowDefs=e)}},viewQuery:function(e,t){if(1&e&&(i.Gf(cf,7),i.Gf(uf,7),i.Gf(hf,7),i.Gf(df,7)),2&e){let e;i.iGM(e=i.CRH())&&(t._rowOutlet=e.first),i.iGM(e=i.CRH())&&(t._headerRowOutlet=e.first),i.iGM(e=i.CRH())&&(t._footerRowOutlet=e.first),i.iGM(e=i.CRH())&&(t._noDataRowOutlet=e.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,t){2&e&&i.ekj("cdk-table-fixed-layout",t.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[i._Bn([{provide:Np,useExisting:e},{provide:Eo,useClass:ko},{provide:Zp,useClass:Hp},{provide:lf,useValue:null}])],ngContentSelectors:Op,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,t){1&e&&(i.F$t(Rp),i.Hsn(0),i.Hsn(1,1),i.GkF(2,0),i.GkF(3,1),i.GkF(4,2),i.GkF(5,3))},directives:[uf,cf,df,hf],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),e})();function ff(e,t){return e.concat(Array.from(t))}let mf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[ec]]}),e})();const gf=[[["caption"]],[["colgroup"],["col"]]],_f=["caption","colgroup, col"];let yf=(()=>{class e extends pf{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i.n5z(e)))(n||e)}}(),e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,t){2&e&&i.ekj("mat-table-fixed-layout",t.fixedLayout)},exportAs:["matTable"],features:[i._Bn([{provide:Eo,useClass:ko},{provide:pf,useExisting:e},{provide:Np,useExisting:e},{provide:Zp,useClass:Hp},{provide:lf,useValue:null}]),i.qOj],ngContentSelectors:_f,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,t){1&e&&(i.F$t(gf),i.Hsn(0),i.Hsn(1,1),i.GkF(2,0),i.GkF(3,1),i.GkF(4,2),i.GkF(5,3))},directives:[uf,cf,df,hf],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),e})(),vf=(()=>{class e extends Lp{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i.n5z(e)))(n||e)}}(),e.\u0275dir=i.lG2({type:e,selectors:[["","matCellDef",""]],features:[i._Bn([{provide:Lp,useExisting:e}]),i.qOj]}),e})(),bf=(()=>{class e extends Fp{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i.n5z(e)))(n||e)}}(),e.\u0275dir=i.lG2({type:e,selectors:[["","matHeaderCellDef",""]],features:[i._Bn([{provide:Fp,useExisting:e}]),i.qOj]}),e})(),wf=(()=>{class e extends qp{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i.n5z(e)))(n||e)}}(),e.\u0275dir=i.lG2({type:e,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[i._Bn([{provide:qp,useExisting:e},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:e}]),i.qOj]}),e})(),Cf=(()=>{class e extends jp{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i.n5z(e)))(n||e)}}(),e.\u0275dir=i.lG2({type:e,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[i.qOj]}),e})(),Sf=(()=>{class e extends zp{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i.n5z(e)))(n||e)}}(),e.\u0275dir=i.lG2({type:e,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[i.qOj]}),e})(),kf=(()=>{class e extends Kp{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i.n5z(e)))(n||e)}}(),e.\u0275dir=i.lG2({type:e,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[i._Bn([{provide:Kp,useExisting:e}]),i.qOj]}),e})(),If=(()=>{class e extends ef{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i.n5z(e)))(n||e)}}(),e.\u0275dir=i.lG2({type:e,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[i._Bn([{provide:ef,useExisting:e}]),i.qOj]}),e})(),Ef=(()=>{class e extends nf{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i.n5z(e)))(n||e)}}(),e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[i._Bn([{provide:nf,useExisting:e}]),i.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&i.GkF(0,0)},directives:[tf],encapsulation:2}),e})(),Tf=(()=>{class e extends rf{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i.n5z(e)))(n||e)}}(),e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[i._Bn([{provide:rf,useExisting:e}]),i.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&i.GkF(0,0)},directives:[tf],encapsulation:2}),e})(),xf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[mf,Cs],Cs]}),e})();class Af extends class extends class{}{constructor(e=[]){super(),this._renderData=new Re([]),this._filter=new Re(""),this._internalPageChanges=new xe.xQ,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,t)=>{const n=e[t];if(dt(n)){const e=Number(n);return e<9007199254740991?e:n}return n},this.sortData=(e,t)=>{const n=t.active,i=t.direction;return n&&""!=i?e.sort((e,t)=>{let r=this.sortingDataAccessor(e,n),s=this.sortingDataAccessor(t,n);const o=typeof r,a=typeof s;o!==a&&("number"===o&&(r+=""),"number"===a&&(s+=""));let l=0;return null!=r&&null!=s?r>s?l=1:r<s&&(l=-1):null!=r?l=1:null!=s&&(l=-1),l*("asc"==i?1:-1)}):e},this.filterPredicate=(e,t)=>{const n=Object.keys(e).reduce((t,n)=>t+e[n]+"\u25ec","").toLowerCase(),i=t.trim().toLowerCase();return-1!=n.indexOf(i)},this._data=new Re(e),this._updateChangeSubscription()}get data(){return this._data.value}set data(e){this._data.next(e),this._renderChangesSubscription||this._filterData(e)}get filter(){return this._filter.value}set filter(e){this._filter.next(e),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(e){this._sort=e,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(e){this._paginator=e,this._updateChangeSubscription()}_updateChangeSubscription(){var e;const t=this._sort?(0,Co.T)(this._sort.sortChange,this._sort.initialized):(0,Oe.of)(null),n=this._paginator?(0,Co.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,Oe.of)(null),i=Ad([this._data,this._filter]).pipe((0,$e.U)(([e])=>this._filterData(e))),r=Ad([i,t]).pipe((0,$e.U)(([e])=>this._orderData(e))),s=Ad([r,n]).pipe((0,$e.U)(([e])=>this._pageData(e)));null===(e=this._renderChangesSubscription)||void 0===e||e.unsubscribe(),this._renderChangesSubscription=s.subscribe(e=>this._renderData.next(e))}_filterData(e){return this.filteredData=null==this.filter||""===this.filter?e:e.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(e){return this.sort?this.sortData(e.slice(),this.sort):e}_pageData(e){if(!this.paginator)return e;const t=this.paginator.pageIndex*this.paginator.pageSize;return e.slice(t,t+this.paginator.pageSize)}_updatePaginator(e){Promise.resolve().then(()=>{const t=this.paginator;if(t&&(t.length=e,t.pageIndex>0)){const e=Math.ceil(t.length/t.pageSize)-1||0,n=Math.min(t.pageIndex,e);n!==t.pageIndex&&(t.pageIndex=n,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var e;null===(e=this._renderChangesSubscription)||void 0===e||e.unsubscribe(),this._renderChangesSubscription=null}}{}const Df=["*",[["mat-toolbar-row"]]],Rf=["*","mat-toolbar-row"],Of=ks(class{constructor(e){this._elementRef=e}});let Pf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.lG2({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),e})(),Nf=(()=>{class e extends Of{constructor(e,t,n){super(e),this._platform=t,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(yt),i.Y36(o))},e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-toolbar"]],contentQueries:function(e,t,n){if(1&e&&i.Suo(n,Pf,5),2&e){let e;i.iGM(e=i.CRH())&&(t._toolbarRows=e)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,t){2&e&&i.ekj("mat-toolbar-multiple-rows",t._toolbarRows.length>0)("mat-toolbar-single-row",0===t._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[i.qOj],ngContentSelectors:Rf,decls:2,vars:0,template:function(e,t){1&e&&(i.F$t(Df),i.Hsn(0),i.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),e})(),Lf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[Cs],Cs]}),e})(),Ff=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[Xu],imports:[[G,wo,Lf,qh,Dp,mo,ed,eh,ua,Xc,Cd,ap,Xu,Bs,Dl,Yd,xf,op],wo,Lf,qh,Dp,mo,ed,eh,Xc,ua,Cd,ap,Xu,Dl,Yd,xf,op]}),e})();const Mf=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();var Vf=n(2441);function Uf(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new qf(e,t,n))}}class qf{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new Bf(e,this.accumulator,this.seed,this.hasSeed))}}class Bf extends Ue.L{constructor(e,t,n,i){super(e),this.accumulator=t,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}function jf(e){return function(t){return 0===e?(0,Ke.c)():t.lift(new zf(e))}}class zf{constructor(e){if(this.total=e,this.total<0)throw new We}call(e,t){return t.subscribe(new Gf(e,this.total))}}class Gf extends Ue.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,i=this.count++;t.length<n?t.push(e):t[i%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=t++%n;e.next(i[r])}}e.complete()}}function Zf(e=$f){return t=>t.lift(new Hf(e))}class Hf{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Yf(e,this.errorFactory))}}class Yf extends Ue.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function $f(){return new Mf}function Wf(e=null){return t=>t.lift(new Kf(e))}class Kf{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Qf(e,this.defaultValue))}}class Qf extends Ue.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Jf=n(4487);function Xf(e,t){const n=arguments.length>=2;return i=>i.pipe(e?Ze((t,n)=>e(t,n,i)):Jf.y,Qe(1),n?Wf(t):Zf(()=>new Mf))}var em=n(1307);class tm{constructor(e,t){this.id=e,this.url=t}}class nm extends tm{constructor(e,t,n="imperative",i=null){super(e,t),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class im extends tm{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rm extends tm{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class sm extends tm{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class om extends tm{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class am extends tm{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lm extends tm{constructor(e,t,n,i,r){super(e,t),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cm extends tm{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class um extends tm{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hm{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dm{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pm{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fm{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mm{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gm{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _m{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ym="primary";class vm{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function bm(e){return new vm(e)}function wm(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Cm(e,t,n){const i=n.path.split("/");if(i.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const r={};for(let s=0;s<i.length;s++){const t=i[s],n=e[s];if(t.startsWith(":"))r[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function Sm(e,t){const n=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!km(e[r],t[r]))return!1;return!0}function km(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),i=[...t].sort();return n.every((e,t)=>i[t]===e)}return e===t}function Im(e){return Array.prototype.concat.apply([],e)}function Em(e){return e.length>0?e[e.length-1]:null}function Tm(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function xm(e){return(0,i.CqO)(e)?e:(0,i.QGY)(e)?(0,ha.D)(Promise.resolve(e)):(0,Oe.of)(e)}const Am={exact:function e(t,n,i){if(!Vm(t.segments,n.segments))return!1;if(!Nm(t.segments,n.segments,i))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r],i))return!1}return!0},subset:Om},Dm={exact:function(e,t){return Sm(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>km(e[n],t[n]))},ignored:()=>!0};function Rm(e,t,n){return Am[n.paths](e.root,t.root,n.matrixParams)&&Dm[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function Om(e,t,n){return Pm(e,t,t.segments,n)}function Pm(e,t,n,i){if(e.segments.length>n.length){const r=e.segments.slice(0,n.length);return!!Vm(r,n)&&!t.hasChildren()&&!!Nm(r,n,i)}if(e.segments.length===n.length){if(!Vm(e.segments,n))return!1;if(!Nm(e.segments,n,i))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!Om(e.children[n],t.children[n],i))return!1}return!0}{const r=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!Vm(e.segments,r)&&!!Nm(e.segments,r,i)&&!!e.children.primary&&Pm(e.children.primary,t,s,i)}}function Nm(e,t,n){return t.every((t,i)=>Dm[n](e[i].parameters,t.parameters))}class Lm{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bm(this.queryParams)),this._queryParamMap}toString(){return Bm.serialize(this)}}class Fm{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Tm(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jm(this)}}class Mm{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=bm(this.parameters)),this._parameterMap}toString(){return Wm(this)}}function Vm(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}class Um{}class qm{parse(e){const t=new eg(e);return new Lm(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`/${zm(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${Zm(t)}=${Zm(e)}`).join("&"):`${Zm(t)}=${Zm(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const Bm=new qm;function jm(e){return e.segments.map(e=>Wm(e)).join("/")}function zm(e,t){if(!e.hasChildren())return jm(e);if(t){const t=e.children.primary?zm(e.children.primary,!1):"",n=[];return Tm(e.children,(e,t)=>{t!==ym&&n.push(`${t}:${zm(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(e,t){let n=[];return Tm(e.children,(e,i)=>{i===ym&&(n=n.concat(t(e,i)))}),Tm(e.children,(e,i)=>{i!==ym&&(n=n.concat(t(e,i)))}),n}(e,(t,n)=>n===ym?[zm(e.children.primary,!1)]:[`${n}:${zm(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${jm(e)}/${t[0]}`:`${jm(e)}/(${t.join("//")})`}}function Gm(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zm(e){return Gm(e).replace(/%3B/gi,";")}function Hm(e){return Gm(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ym(e){return decodeURIComponent(e)}function $m(e){return Ym(e.replace(/\+/g,"%20"))}function Wm(e){return`${Hm(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${Hm(e)}=${Hm(t[e])}`).join("")}`;var t}const Km=/^[^\/()?;=#]+/;function Qm(e){const t=e.match(Km);return t?t[0]:""}const Jm=/^[^=?&#]+/,Xm=/^[^?&#]+/;class eg{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fm([],{}):new Fm([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Fm(e,t)),n}parseSegment(){const e=Qm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Mm(Ym(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Qm(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=Qm(this.remaining);e&&(n=e,this.capture(n))}e[Ym(t)]=Ym(n)}parseQueryParam(e){const t=function(e){const t=e.match(Jm);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Xm);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const i=$m(t),r=$m(n);if(e.hasOwnProperty(i)){let t=e[i];Array.isArray(t)||(t=[t],e[i]=t),t.push(r)}else e[i]=r}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Qm(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):e&&(r=ym);const s=this.parseChildren();t[r]=1===Object.keys(s).length?s.primary:new Fm([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class tg{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ng(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=ng(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ig(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return ig(e,this._root).map(e=>e.value)}}function ng(e,t){if(e===t.value)return t;for(const n of t.children){const t=ng(e,n);if(t)return t}return null}function ig(e,t){if(e===t.value)return[t];for(const n of t.children){const i=ig(e,n);if(i.length)return i.unshift(t),i}return[]}class rg{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function sg(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class og extends tg{constructor(e,t){super(e),this.snapshot=t,dg(this,e)}toString(){return this.snapshot.toString()}}function ag(e,t){const n=function(e,t){const n=new ug([],{},{},"",{},ym,t,null,e.root,-1,{});return new hg("",new rg(n,[]))}(e,t),i=new Re([new Mm("",{})]),r=new Re({}),s=new Re({}),o=new Re({}),a=new Re(""),l=new lg(i,r,o,a,s,ym,t,n.root);return l.snapshot=n.root,new og(new rg(l,[]),n)}class lg{constructor(e,t,n,i,r,s,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,$e.U)(e=>bm(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,$e.U)(e=>bm(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function cg(e,t="emptyOnly"){const n=e.pathFromRoot;let i=0;if("always"!==t)for(i=n.length-1;i>=1;){const e=n[i],t=n[i-1];if(e.routeConfig&&""===e.routeConfig.path)i--;else{if(t.component)break;i--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class ug{constructor(e,t,n,i,r,s,o,a,l,c,u){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bm(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bm(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hg extends tg{constructor(e,t){super(t),this.url=e,dg(this,t)}toString(){return pg(this._root)}}function dg(e,t){t.value._routerState=e,t.children.forEach(t=>dg(e,t))}function pg(e){const t=e.children.length>0?` { ${e.children.map(pg).join(", ")} } `:"";return`${e.value}${t}`}function fg(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Sm(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Sm(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Sm(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Sm(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function mg(e,t){return Sm(e.params,t.params)&&function(e,t){return Vm(e,t)&&e.every((e,n)=>Sm(e.parameters,t[n].parameters))}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||mg(e.parent,t.parent))}function gg(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=t.value;const r=function(e,t,n){return t.children.map(t=>{for(const i of n.children)if(e.shouldReuseRoute(t.value,i.value.snapshot))return gg(e,t,i);return gg(e,t)})}(e,t,n);return new rg(i,r)}{if(e.shouldAttach(t.value)){const n=e.retrieve(t.value);if(null!==n){const e=n.route;return _g(t,e),e}}const n=new lg(new Re((i=t.value).url),new Re(i.params),new Re(i.queryParams),new Re(i.fragment),new Re(i.data),i.outlet,i.component,i),r=t.children.map(t=>gg(e,t));return new rg(n,r)}var i}function _g(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)_g(e.children[n],t.children[n])}function yg(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function vg(e){return"object"==typeof e&&null!=e&&e.outlets}function bg(e,t,n,i,r){let s={};return i&&Tm(i,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new Lm(n.root===e?t:wg(n.root,e,t),s,r)}function wg(e,t,n){const i={};return Tm(e.children,(e,r)=>{i[r]=e===t?n:wg(e,t,n)}),new Fm(e.segments,i)}class Cg{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&yg(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(vg);if(i&&i!==Em(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Sg{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function kg(e,t,n){if(e||(e=new Fm([],{})),0===e.segments.length&&e.hasChildren())return Ig(e,t,n);const i=function(e,t,n){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return s;const t=e.segments[r],o=n[i];if(vg(o))break;const a=`${o}`,l=i<n.length-1?n[i+1]:null;if(r>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!Ag(a,l,t))return s;i+=2}else{if(!Ag(a,{},t))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const t=new Fm(e.segments.slice(0,i.pathIndex),{});return t.children.primary=new Fm(e.segments.slice(i.pathIndex),e.children),Ig(t,0,r)}return i.match&&0===r.length?new Fm(e.segments,{}):i.match&&!e.hasChildren()?Eg(e,t,n):i.match?Ig(e,0,r):Eg(e,t,n)}function Ig(e,t,n){if(0===n.length)return new Fm(e.segments,{});{const i=function(e){return vg(e[0])?e[0].outlets:{[ym]:e}}(n),r={};return Tm(i,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(r[i]=kg(e.children[i],t,n))}),Tm(e.children,(e,t)=>{void 0===i[t]&&(r[t]=e)}),new Fm(e.segments,r)}}function Eg(e,t,n){const i=e.segments.slice(0,t);let r=0;for(;r<n.length;){const s=n[r];if(vg(s)){const e=Tg(s.outlets);return new Fm(i,e)}if(0===r&&yg(n[0])){i.push(new Mm(e.segments[t].path,xg(n[0]))),r++;continue}const o=vg(s)?s.outlets.primary:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&yg(a)?(i.push(new Mm(o,xg(a))),r+=2):(i.push(new Mm(o,{})),r++)}return new Fm(i,{})}function Tg(e){const t={};return Tm(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Eg(new Fm([],{}),0,e))}),t}function xg(e){const t={};return Tm(e,(e,n)=>t[n]=`${e}`),t}function Ag(e,t,n){return e==n.path&&Sm(t,n.parameters)}class Dg{constructor(e,t,n,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=i}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),fg(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const i=sg(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,i[t],n),delete i[t]}),Tm(i,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const i=e.value,r=t?t.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(e,t,r.children)}else this.deactivateChildRoutes(e,t,n);else r&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:i})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),i=n&&e.value.component?n.children:t,r=sg(e);for(const s of Object.keys(r))this.deactivateRouteAndItsChildren(r[s],i);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const i=sg(t);e.children.forEach(e=>{this.activateRoutes(e,i[e.value.outlet],n),this.forwardEvent(new gm(e.value.snapshot))}),e.children.length&&this.forwardEvent(new fm(e.value.snapshot))}activateRoutes(e,t,n){const i=e.value,r=t?t.value:null;if(fg(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,r.children)}else this.activateChildRoutes(e,t,n);else if(i.component){const t=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const e=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),Rg(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=i,t.resolver=r,t.outlet&&t.outlet.activateWith(i,r),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function Rg(e){fg(e.value),e.children.forEach(Rg)}class Og{constructor(e,t){this.routes=e,this.module=t}}function Pg(e){return"function"==typeof e}function Ng(e){return e instanceof Lm}const Lg=Symbol("INITIAL_VALUE");function Fg(){return Bl(e=>Ad(e.map(e=>e.pipe(Qe(1),En(Lg)))).pipe(Uf((e,t)=>{let n=!1;return t.reduce((e,i,r)=>{if(e!==Lg)return e;if(i===Lg&&(n=!0),!n){if(!1===i)return i;if(r===t.length-1||Ng(i))return i}return e},e)},Lg),Ze(e=>e!==Lg),(0,$e.U)(e=>Ng(e)?e:!0===e),Qe(1)))}let Mg=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&i._UZ(0,"router-outlet")},directives:function(){return[L_]},encapsulation:2}),e})();function Vg(e,t=""){for(let n=0;n<e.length;n++){const i=e[n];Ug(i,qg(t,i))}}function Ug(e,t){e.children&&Vg(e.children,t)}function qg(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Bg(e){const t=e.children&&e.children.map(Bg),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ym&&(n.component=Mg),n}function jg(e){return e.outlet||ym}function zg(e,t){const n=e.filter(e=>jg(e)===t);return n.push(...e.filter(e=>jg(e)!==t)),n}const Gg={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Zg(e,t,n){var i;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},Gg):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Cm)(n,e,t);if(!r)return Object.assign({},Gg);const s={};Tm(r.posParams,(e,t)=>{s[t]=e.path});const o=r.consumed.length>0?Object.assign(Object.assign({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function Hg(e,t,n,i,r="corrected"){if(n.length>0&&function(e,t,n){return n.some(n=>Yg(e,t,n)&&jg(n)!==ym)}(e,n,i)){const r=new Fm(t,function(e,t,n,i){const r={};r.primary=i,i._sourceSegment=e,i._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&jg(s)!==ym){const n=new Fm([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,r[jg(s)]=n}return r}(e,t,i,new Fm(n,e.children)));return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>Yg(e,t,n))}(e,n,i)){const s=new Fm(e.segments,function(e,t,n,i,r,s){const o={};for(const a of i)if(Yg(e,n,a)&&!r[jg(a)]){const n=new Fm([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[jg(a)]=n}return Object.assign(Object.assign({},r),o)}(e,t,n,i,e.children,r));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new Fm(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function Yg(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function $g(e,t,n,i){return!!(jg(e)===i||i!==ym&&Yg(t,n,e))&&("**"===e.path||Zg(t,e,n).matched)}function Wg(e,t,n){return 0===t.length&&!e.children[n]}class Kg{constructor(e){this.segmentGroup=e||null}}class Qg{constructor(e){this.urlTree=e}}function Jg(e){return new Ot.y(t=>t.error(new Kg(e)))}function Xg(e){return new Ot.y(t=>t.error(new Qg(e)))}function e_(e){return new Ot.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class t_{constructor(e,t,n,r,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(i.h0i)}apply(){const e=Hg(this.urlTree.root,[],[],this.config).segmentGroup,t=new Fm(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,ym).pipe((0,$e.U)(e=>this.createUrlTree(n_(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe(nh(e=>{if(e instanceof Qg)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof Kg)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ym).pipe((0,$e.U)(t=>this.createUrlTree(n_(t),e.queryParams,e.fragment))).pipe(nh(e=>{if(e instanceof Kg)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const i=e.segments.length>0?new Fm([],{[ym]:e}):e;return new Lm(i,t,n)}expandSegmentGroup(e,t,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,$e.U)(e=>new Fm([],e))):this.expandSegment(e,n,t,n.segments,i,!0)}expandChildren(e,t,n){const i=[];for(const r of Object.keys(n.children))"primary"===r?i.unshift(r):i.push(r);return(0,ha.D)(i).pipe(uh(i=>{const r=n.children[i],s=zg(t,i);return this.expandSegmentGroup(e,s,r,i).pipe((0,$e.U)(e=>({segment:e,outlet:i})))}),Uf((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const n=arguments.length>=2;return i=>i.pipe(e?Ze((t,n)=>e(t,n,i)):Jf.y,jf(1),n?Wf(t):Zf(()=>new Mf))}())}expandSegment(e,t,n,i,r,s){return(0,ha.D)(n).pipe(uh(o=>this.expandSegmentAgainstRoute(e,t,n,o,i,r,s).pipe(nh(e=>{if(e instanceof Kg)return(0,Oe.of)(null);throw e}))),Xf(e=>!!e),nh((e,n)=>{if(e instanceof Mf||"EmptyError"===e.name){if(Wg(t,i,r))return(0,Oe.of)(new Fm([],{}));throw new Kg(t)}throw e}))}expandSegmentAgainstRoute(e,t,n,i,r,s,o){return $g(i,t,r,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,r,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,i,r,s):Jg(t):Jg(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,i,r,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,r,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Xg(r):this.lineralizeSegments(n,r).pipe((0,ch.zg)(n=>{const r=new Fm(n,{});return this.expandSegment(e,r,t,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,r,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=Zg(t,i,r);if(!o)return Jg(t);const u=this.applyRedirectCommands(a,i.redirectTo,c);return i.redirectTo.startsWith("/")?Xg(u):this.lineralizeSegments(i,u).pipe((0,ch.zg)(i=>this.expandSegment(e,t,n,i.concat(r.slice(l)),s,!1)))}matchSegmentAgainstRoute(e,t,n,i,r){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,Oe.of)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,$e.U)(e=>(n._loadedConfig=e,new Fm(i,{})))):(0,Oe.of)(new Fm(i,{}));const{matched:s,consumedSegments:o,lastChild:a}=Zg(t,n,i);if(!s)return Jg(t);const l=i.slice(a);return this.getChildConfig(e,n,i).pipe((0,ch.zg)(e=>{const i=e.module,s=e.routes,{segmentGroup:a,slicedSegments:c}=Hg(t,o,l,s),u=new Fm(a.segments,a.children);if(0===c.length&&u.hasChildren())return this.expandChildren(i,s,u).pipe((0,$e.U)(e=>new Fm(o,e)));if(0===s.length&&0===c.length)return(0,Oe.of)(new Fm(o,{}));const h=jg(n)===r;return this.expandSegment(i,u,s,c,h?ym:r,!0).pipe((0,$e.U)(e=>new Fm(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?(0,Oe.of)(new Og(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Oe.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,ch.zg)(n=>n?this.configLoader.load(e.injector,t).pipe((0,$e.U)(e=>(t._loadedConfig=e,e))):function(e){return new Ot.y(t=>t.error(wm(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):(0,Oe.of)(new Og([],e))}runCanLoadGuards(e,t,n){const i=t.canLoad;if(!i||0===i.length)return(0,Oe.of)(!0);const r=i.map(i=>{const r=e.get(i);let s;if(function(e){return e&&Pg(e.canLoad)}(r))s=r.canLoad(t,n);else{if(!Pg(r))throw new Error("Invalid CanLoad guard");s=r(t,n)}return xm(s)});return(0,Oe.of)(r).pipe(Fg(),(0,Ve.b)(e=>{if(!Ng(e))return;const t=wm(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(0,$e.U)(e=>!0===e))}lineralizeSegments(e,t){let n=[],i=t.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return(0,Oe.of)(n);if(i.numberOfChildren>1||!i.children.primary)return e_(e.redirectTo);i=i.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,i){const r=this.createSegmentGroup(e,t.root,n,i);return new Lm(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Tm(e,(e,i)=>{if("string"==typeof e&&e.startsWith(":")){const r=e.substring(1);n[i]=t[r]}else n[i]=e}),n}createSegmentGroup(e,t,n,i){const r=this.createSegments(e,t.segments,n,i);let s={};return Tm(t.children,(t,r)=>{s[r]=this.createSegmentGroup(e,t,n,i)}),new Fm(r,s)}createSegments(e,t,n,i){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,i):this.findOrReturn(t,n))}findPosParam(e,t,n){const i=n[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let n=0;for(const i of t){if(i.path===e.path)return t.splice(n),i;n++}return e}}function n_(e){const t={};for(const n of Object.keys(e.children)){const i=n_(e.children[n]);(i.segments.length>0||i.hasChildren())&&(t[n]=i)}return function(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new Fm(e.segments.concat(t.segments),t.children)}return e}(new Fm(e.segments,t))}class i_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class r_{constructor(e,t){this.component=e,this.route=t}}function s_(e,t,n){const i=e._root;return a_(i,t?t._root:null,n,[i.value])}function o_(e,t,n){const i=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:n).get(e)}function a_(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=sg(t);return e.children.forEach(e=>{!function(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Vm(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Vm(e.url,t.url)||!Sm(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mg(e,t)||!Sm(e.queryParams,t.queryParams);case"paramsChange":default:return!mg(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new i_(i)):(s.data=o.data,s._resolvedData=o._resolvedData),a_(e,t,s.component?a?a.children:null:n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new r_(a.outlet.component,o))}else o&&l_(t,a,r),r.canActivateChecks.push(new i_(i)),a_(e,null,s.component?a?a.children:null:n,i,r)}(e,s[e.value.outlet],n,i.concat([e.value]),r),delete s[e.value.outlet]}),Tm(s,(e,t)=>l_(e,n.getContext(t),r)),r}function l_(e,t,n){const i=sg(e),r=e.value;Tm(i,(e,i)=>{l_(e,r.component?t?t.children.getContext(i):null:t,n)}),n.canDeactivateChecks.push(new r_(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class c_{}function u_(e){return new Ot.y(t=>t.error(e))}class h_{constructor(e,t,n,i,r,s){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=s}recognize(){const e=Hg(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,ym);if(null===t)return null;const n=new ug([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ym,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new rg(n,t),r=new hg(this.url,i);return this.inheritParamsAndData(r._root),r}inheritParamsAndData(e){const t=e.value,n=cg(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const r of Object.keys(t.children)){const i=t.children[r],s=zg(e,r),o=this.processSegmentGroup(s,i,r);if(null===o)return null;n.push(...o)}const i=p_(n);return i.sort((e,t)=>e.value.outlet===ym?-1:t.value.outlet===ym?1:e.value.outlet.localeCompare(t.value.outlet)),i}processSegment(e,t,n,i){for(const r of e){const e=this.processSegmentAgainstRoute(r,t,n,i);if(null!==e)return e}return Wg(t,n,i)?[]:null}processSegmentAgainstRoute(e,t,n,i){if(e.redirectTo||!$g(e,t,n,i))return null;let r,s=[],o=[];if("**"===e.path){const i=n.length>0?Em(n).parameters:{};r=new ug(n,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,g_(e),jg(e),e.component,e,f_(t),m_(t)+n.length,__(e))}else{const i=Zg(t,e,n);if(!i.matched)return null;s=i.consumedSegments,o=n.slice(i.lastChild),r=new ug(s,i.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,g_(e),jg(e),e.component,e,f_(t),m_(t)+s.length,__(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:c}=Hg(t,s,o,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const e=this.processChildren(a,l);return null===e?null:[new rg(r,e)]}if(0===a.length&&0===c.length)return[new rg(r,[])];const u=jg(e)===i,h=this.processSegment(a,l,c,u?ym:i);return null===h?null:[new rg(r,h)]}}function d_(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function p_(e){const t=[],n=new Set;for(const i of e){if(!d_(i)){t.push(i);continue}const e=t.find(e=>i.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...i.children),n.add(e)):t.push(i)}for(const i of n){const e=p_(i.children);t.push(new rg(i.value,e))}return t.filter(e=>!n.has(e))}function f_(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function m_(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function g_(e){return e.data||{}}function __(e){return e.resolve||{}}function y_(e){return Bl(t=>{const n=e(t);return n?(0,ha.D)(n).pipe((0,$e.U)(()=>t)):(0,Oe.of)(t)})}class v_ extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const b_=new i.OlP("ROUTES");class w_{constructor(e,t,n,i){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const n=this.loadModuleFactory(t.loadChildren).pipe((0,$e.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new Og(Im(r.injector.get(b_,void 0,i.XFs.Self|i.XFs.Optional)).map(Bg),r)}),nh(e=>{throw t._loader$=void 0,e}));return t._loader$=new Vf.c(n,()=>new xe.xQ).pipe((0,em.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,ha.D)(this.loader.load(e)):xm(e()).pipe((0,ch.zg)(e=>e instanceof i.YKP?(0,Oe.of)(e):(0,ha.D)(this.compiler.compileModuleAsync(e))))}}class C_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new S_,this.attachRef=null}}class S_{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new C_,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class k_{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function I_(e){throw e}function E_(e,t,n){return t.parse("/")}function T_(e,t){return(0,Oe.of)(null)}const x_={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},A_={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let D_=(()=>{class e{constructor(e,t,n,r,s,o,a,l){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new xe.xQ,this.errorHandler=I_,this.malformedUriErrorHandler=E_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:T_,afterPreactivation:T_},this.urlHandlingStrategy=new k_,this.routeReuseStrategy=new v_,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(i.h0i),this.console=s.get(i.c2e);const c=s.get(i.R0b);this.isNgZoneEnabled=c instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new Lm(new Fm([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new w_(o,a,e=>this.triggerEvent(new hm(e)),e=>this.triggerEvent(new dm(e))),this.routerState=ag(this.currentUrlTree,this.rootComponentType),this.transitions=new Re({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const t=this.events;return e.pipe(Ze(e=>0!==e.id),(0,$e.U)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Bl(e=>{let n=!1,i=!1;return(0,Oe.of)(e).pipe((0,Ve.b)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Bl(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return(0,Oe.of)(e).pipe(Bl(e=>{const n=this.transitions.getValue();return t.next(new nm(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?Ke.E:Promise.resolve(e)}),(i=this.ngModule.injector,r=this.configLoader,s=this.urlSerializer,o=this.config,Bl(e=>function(e,t,n,i,r){return new t_(e,t,n,i,r).apply()}(i,r,s,e.extractedUrl,o).pipe((0,$e.U)(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t}))))),(0,Ve.b)(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,i,r){return(0,ch.zg)(s=>function(e,t,n,i,r="emptyOnly",s="legacy"){try{const o=new h_(e,t,n,i,r,s).recognize();return null===o?u_(new c_):(0,Oe.of)(o)}catch(o){return u_(o)}}(e,t,s.urlAfterRedirects,n(s.urlAfterRedirects),i,r).pipe((0,$e.U)(e=>Object.assign(Object.assign({},s),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ve.b)(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,e),this.browserUrlTree=e.urlAfterRedirects);const n=new om(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var i,r,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:s,extras:o}=e,a=new nm(n,this.serializeUrl(i),r,s);t.next(a);const l=ag(i,this.rootComponentType).snapshot;return(0,Oe.of)(Object.assign(Object.assign({},e),{targetSnapshot:l,urlAfterRedirects:i,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Ke.E}),y_(e=>{const{targetSnapshot:t,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),(0,Ve.b)(e=>{const t=new am(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,$e.U)(e=>Object.assign(Object.assign({},e),{guards:s_(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return(0,ch.zg)(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?(0,Oe.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,i){return(0,ha.D)(e).pipe((0,ch.zg)(e=>function(e,t,n,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,Oe.of)(!0);const o=s.map(s=>{const o=o_(s,t,r);let a;if(function(e){return e&&Pg(e.canDeactivate)}(o))a=xm(o.canDeactivate(e,t,n,i));else{if(!Pg(o))throw new Error("Invalid CanDeactivate guard");a=xm(o(e,t,n,i))}return a.pipe(Xf())});return(0,Oe.of)(o).pipe(Fg())}(e.component,e.route,n,t,i)),Xf(e=>!0!==e,!0))}(o,i,r,e).pipe((0,ch.zg)(n=>n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,i){return(0,ha.D)(t).pipe(uh(t=>kn(function(e,t){return null!==e&&t&&t(new pm(e)),(0,Oe.of)(!0)}(t.route.parent,i),function(e,t){return null!==e&&t&&t(new mm(e)),(0,Oe.of)(!0)}(t.route,i),function(e,t,n){const i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>td(()=>{const r=t.guards.map(r=>{const s=o_(r,t.node,n);let o;if(function(e){return e&&Pg(e.canActivateChild)}(s))o=xm(s.canActivateChild(i,e));else{if(!Pg(s))throw new Error("Invalid CanActivateChild guard");o=xm(s(i,e))}return o.pipe(Xf())});return(0,Oe.of)(r).pipe(Fg())}));return(0,Oe.of)(r).pipe(Fg())}(e,t.path,n),function(e,t,n){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,Oe.of)(!0);const r=i.map(i=>td(()=>{const r=o_(i,t,n);let s;if(function(e){return e&&Pg(e.canActivate)}(r))s=xm(r.canActivate(t,e));else{if(!Pg(r))throw new Error("Invalid CanActivate guard");s=xm(r(t,e))}return s.pipe(Xf())}));return(0,Oe.of)(r).pipe(Fg())}(e,t.route,n))),Xf(e=>!0!==e,!0))}(i,s,e,t):(0,Oe.of)(n)),(0,$e.U)(e=>Object.assign(Object.assign({},n),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),(0,Ve.b)(e=>{if(Ng(e.guardsResult)){const t=wm(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new lm(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Ze(e=>!!e.guardsResult||(this.restoreHistory(e),this.cancelNavigationTransition(e,""),!1)),y_(e=>{if(e.guards.canActivateChecks.length)return(0,Oe.of)(e).pipe((0,Ve.b)(e=>{const t=new cm(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),Bl(e=>{let t=!1;return(0,Oe.of)(e).pipe((n=this.paramsInheritanceStrategy,i=this.ngModule.injector,(0,ch.zg)(e=>{const{targetSnapshot:t,guards:{canActivateChecks:r}}=e;if(!r.length)return(0,Oe.of)(e);let s=0;return(0,ha.D)(r).pipe(uh(e=>function(e,t,n,i){return function(e,t,n,i){const r=Object.keys(e);if(0===r.length)return(0,Oe.of)({});const s={};return(0,ha.D)(r).pipe((0,ch.zg)(r=>function(e,t,n,i){const r=o_(e,t,i);return xm(r.resolve?r.resolve(t,n):r(t,n))}(e[r],t,n,i).pipe((0,Ve.b)(e=>{s[r]=e}))),jf(1),(0,ch.zg)(()=>Object.keys(s).length===r.length?(0,Oe.of)(s):Ke.E))}(e._resolve,e,t,i).pipe((0,$e.U)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),cg(e,n).resolve),null)))}(e.route,t,n,i)),(0,Ve.b)(()=>s++),jf(1),(0,ch.zg)(t=>s===r.length?(0,Oe.of)(e):Ke.E))})),(0,Ve.b)({next:()=>t=!0,complete:()=>{t||(this.restoreHistory(e),this.cancelNavigationTransition(e,"At least one route resolver didn't emit any value."))}}));var n,i}),(0,Ve.b)(e=>{const t=new um(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),y_(e=>{const{targetSnapshot:t,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),(0,$e.U)(e=>{const t=function(e,t,n){const i=gg(e,t._root,n?n._root:void 0);return new og(i,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),(0,Ve.b)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,e),this.browserUrlTree=e.urlAfterRedirects)}),(r=this.rootContexts,s=this.routeReuseStrategy,o=e=>this.triggerEvent(e),(0,$e.U)(e=>(new Dg(s,e.targetRouterState,e.currentRouterState,o).activate(r),e))),(0,Ve.b)({next(){n=!0},complete(){n=!0}}),sh(()=>{if(!n&&!i){const t=`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(e),this.cancelNavigationTransition(e,t)):this.cancelNavigationTransition(e,t)}this.currentNavigation=null}),nh(n=>{if(i=!0,function(e){return e&&e.ngNavigationCancelingError}(n)){const i=Ng(n.url);i||(this.navigated=!0,this.restoreHistory(e,!0));const r=new rm(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(r),i?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.restoreHistory(e,!0);const i=new sm(e.id,this.serializeUrl(e.extractedUrl),n);t.next(i);try{e.resolve(this.errorHandler(n))}catch(aR){e.reject(aR)}}return Ke.E}));var r,s,o}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:i}=t,r={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,delete e.\u0275routerPageId,0!==Object.keys(e).length&&(r.state=e)}this.scheduleNavigation(i,e,n,r)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Vg(e),this.config=e.map(Bg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:n,queryParams:i,fragment:r,queryParamsHandling:s,preserveFragment:o}=t,a=n||this.routerState.root,l=o?this.currentUrlTree.fragment:r;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,i,r){if(0===n.length)return bg(t.root,t.root,t,i,r);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Cg(!0,0,e);let t=0,n=!1;const i=e.reduce((e,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const t={};return Tm(i.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(i.segmentPath)return[...e,i.segmentPath]}return"string"!=typeof i?[...e,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?t++:""!=i&&e.push(i))}),e):[...e,i]},[]);return new Cg(n,t,i)}(n);if(s.toRoot())return bg(t.root,new Fm([],{}),t,i,r);const o=function(e,t,n){if(e.isAbsolute)return new Sg(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new Sg(e,e===t.root,0)}const i=yg(e.commands[0])?0:1;return function(e,t,n){let i=e,r=t,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Sg(i,!1,r-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?Ig(o.segmentGroup,o.index,s.commands):kg(o.segmentGroup,o.index,s.commands);return bg(o.segmentGroup,a,t,i,r)}(a,this.currentUrlTree,e,c,null!=l?l:null)}navigateByUrl(e,t={skipLocationChange:!1}){const n=Ng(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){let n;if(n=!0===t?Object.assign({},x_):!1===t?Object.assign({},A_):t,Ng(e))return Rm(this.currentUrlTree,e,n);const i=this.parseUrl(e);return Rm(this.currentUrlTree,i,n)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const i=e[n];return null!=i&&(t[n]=i),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new im(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,i,r){var s,o;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),l="imperative"!==t&&"imperative"===(null==a?void 0:a.source),c=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===e.toString();if(l&&c)return Promise.resolve(!0);let u,h,d;r?(u=r.resolve,h=r.reject,d=r.promise):d=new Promise((e,t)=>{u=e,h=t});const p=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),f=n&&n.\u0275routerPageId?n.\u0275routerPageId:i.replaceUrl||i.skipLocationChange?null!==(s=this.browserPageId)&&void 0!==s?s:0:(null!==(o=this.browserPageId)&&void 0!==o?o:0)+1):f=0,this.setTransition({id:p,targetPageId:f,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:u,reject:h,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(e=>Promise.reject(e))}setBrowserUrl(e,t){const n=this.urlSerializer.serialize(e),i=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",i):this.location.go(n,"",i)}restoreHistory(e,t=!1){var n,i;if("computed"===this.canceledNavigationResolution){const t=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)||0===t?this.currentUrlTree===(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)&&0===t&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(t)}else"replace"===this.canceledNavigationResolution&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,t){const n=new rm(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(n),e.resolve(!1)}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.DyG),i.LFG(Um),i.LFG(S_),i.LFG(w),i.LFG(i.zs3),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(void 0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),R_=(()=>{class e{constructor(e,t,n,i,r){this.router=e,this.route=t,this.commands=[],this.onChanges=new xe.xQ,null==n&&i.setAttribute(r.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:P_(this.skipLocationChange),replaceUrl:P_(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:P_(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(D_),i.Y36(lg),i.$8M("tabindex"),i.Y36(i.Qsj),i.Y36(i.SBq))},e.\u0275dir=i.lG2({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&i.NdJ("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.TTD]}),e})(),O_=(()=>{class e{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.onChanges=new xe.xQ,this.subscription=e.events.subscribe(e=>{e instanceof im&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,i,r){if(0!==e||t||n||i||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:P_(this.skipLocationChange),replaceUrl:P_(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:P_(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(D_),i.Y36(lg),i.Y36(g))},e.\u0275dir=i.lG2({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&i.NdJ("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(i.Ikx("href",t.href,i.LSH),i.uIk("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.TTD]}),e})();function P_(e){return""===e||!!e}let N_=(()=>{class e{constructor(e,t,n,i,r,s){this.router=e,this.element=t,this.renderer=n,this.cdr=i,this.link=r,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(e=>{e instanceof im&&this.update()})}ngAfterContentInit(){(0,Oe.of)(this.links.changes,this.linksWithHrefs.changes,(0,Oe.of)(null)).pipe((0,Sn.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(e=>!!e).map(e=>e.onChanges);this.linkInputChangesSubscription=(0,ha.D)(t).pipe((0,Sn.J)()).subscribe(e=>{this.isActive!==this.isLinkActive(this.router)(e)&&this.update()})}set routerLinkActive(e){const t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(e=>!!e)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}))})}isLinkActive(e){const t="paths"in this.routerLinkActiveOptions?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return n=>e.isActive(n.urlTree,t)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(D_),i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(i.sBO),i.Y36(R_,8),i.Y36(O_,8))},e.\u0275dir=i.lG2({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){if(1&e&&(i.Suo(n,R_,5),i.Suo(n,O_,5)),2&e){let e;i.iGM(e=i.CRH())&&(t.links=e),i.iGM(e=i.CRH())&&(t.linksWithHrefs=e)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[i.TTD]}),e})(),L_=(()=>{class e{constructor(e,t,n,r,s){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.name=r||ym,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new F_(e,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(S_),i.Y36(i.s_b),i.Y36(i._Vd),i.$8M("name"),i.Y36(i.sBO))},e.\u0275dir=i.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class F_{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===lg?this.route:e===S_?this.childContexts:this.parent.get(e,t)}}class M_{}class V_{preload(e,t){return(0,Oe.of)(null)}}let U_=(()=>{class e{constructor(e,t,n,i,r){this.router=e,this.injector=i,this.preloadingStrategy=r,this.loader=new w_(t,n,t=>e.triggerEvent(new hm(t)),t=>e.triggerEvent(new dm(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ze(e=>e instanceof im),uh(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(i.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const i of t)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const e=i._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(e,i)):i.children&&n.push(this.processRoutes(e,i.children));return(0,ha.D)(n).pipe((0,Sn.J)(),(0,$e.U)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?(0,Oe.of)(t._loadedConfig):this.loader.load(e.injector,t)).pipe((0,ch.zg)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(D_),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(i.zs3),i.LFG(M_))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),q_=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof nm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof im&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof _m&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new _m(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(D_),i.LFG(H),i.LFG(void 0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const B_=new i.OlP("ROUTER_CONFIGURATION"),j_=new i.OlP("ROUTER_FORROOT_GUARD"),z_=[w,{provide:Um,useClass:qm},{provide:D_,useFactory:function(e,t,n,i,r,s,o,a={},l,c){const u=new D_(null,e,t,n,i,r,s,Im(o));return l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(e=>{var t,n;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),u},deps:[Um,S_,w,i.zs3,i.v3s,i.Sil,b_,B_,[class{},new i.FiY],[class{},new i.FiY]]},S_,{provide:lg,useFactory:function(e){return e.routerState.root},deps:[D_]},{provide:i.v3s,useClass:i.EAV},U_,V_,class{preload(e,t){return t().pipe(nh(()=>(0,Oe.of)(null)))}},{provide:B_,useValue:{enableTracing:!1}}];function G_(){return new i.PXZ("Router",D_)}let Z_=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[z_,W_(t),{provide:j_,useFactory:$_,deps:[[D_,new i.FiY,new i.tp0]]},{provide:B_,useValue:n||{}},{provide:g,useFactory:Y_,deps:[a,[new i.tBr(y),new i.FiY],B_]},{provide:q_,useFactory:H_,deps:[D_,H,B_]},{provide:M_,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:V_},{provide:i.PXZ,multi:!0,useFactory:G_},[K_,{provide:i.ip1,multi:!0,useFactory:Q_,deps:[K_]},{provide:X_,useFactory:J_,deps:[K_]},{provide:i.tb,multi:!0,useExisting:X_}]]}}static forChild(t){return{ngModule:e,providers:[W_(t)]}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(j_,8),i.LFG(D_,8))},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({}),e})();function H_(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new q_(e,t,n)}function Y_(e,t,n={}){return n.useHash?new b(e,t):new v(e,t)}function $_(e){return"guarded"}function W_(e){return[{provide:i.deG,multi:!0,useValue:e},{provide:b_,multi:!0,useValue:e}]}let K_=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new xe.xQ}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let e=null;const t=new Promise(t=>e=t),n=this.injector.get(D_),i=this.injector.get(B_);return"disabled"===i.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,Oe.of)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(B_),n=this.injector.get(U_),r=this.injector.get(q_),s=this.injector.get(D_),o=this.injector.get(i.z2F);e===o.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||s.initialNavigation(),n.setUpPreloading(),r.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.zs3))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();function Q_(e){return e.appInitializer.bind(e)}function J_(e){return e.bootstrapListener.bind(e)}const X_=new i.OlP("Router Initializer");class ey{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new ty(e,this.observables,this.project))}}class ty extends Sd{constructor(e,t,n){super(e),this.observables=t,this.project=n,this.toRespond=[];const i=t.length;this.values=new Array(i);for(let r=0;r<i;r++)this.toRespond.push(r);for(let r=0;r<i;r++)this.add(Ed(this,t[r],void 0,r))}notifyNext(e,t,n){this.values[n]=t;const i=this.toRespond;if(i.length>0){const e=i.indexOf(n);-1!==e&&i.splice(e,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}class ny{constructor(e){this.predicate=e}call(e,t){return t.subscribe(new iy(e,this.predicate))}}class iy extends Ue.L{constructor(e,t){super(e),this.predicate=t,this.skipping=!0,this.index=0}_next(e){const t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}tryCallPredicate(e){try{const t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(t){this.destination.error(t)}}}var ry=n(4459),sy=n(8939),oy=(n(2385),n(156)),ay=n(8604),ly=n(6304),cy=n(279),uy=n(3854),hy=n(9306);const dy="@firebase/database",py="0.13.0";let fy="";function my(e){fy=e}class gy{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,uy.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,uy.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class _y{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,uy.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const yy=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new gy(t)}}catch(t){}return new _y},vy=yy("localStorage"),by=yy("sessionStorage"),wy=new hy.Yd("@firebase/database"),Cy=function(){let e=1;return function(){return e++}}(),Sy=function(e){const t=(0,uy.dS)(e),n=new uy.gQ;n.update(t);const i=n.digest();return uy.US.encodeByteArray(i)},ky=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=ky.apply(null,i):t+="object"==typeof i?(0,uy.Pz)(i):i,t+=" "}return t};let Iy=null,Ey=!0;const Ty=function(e,t){(0,uy.hu)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(wy.logLevel=hy.in.VERBOSE,Iy=wy.log.bind(wy),t&&by.set("logging_enabled",!0)):"function"==typeof e?Iy=e:(Iy=null,by.remove("logging_enabled"))},xy=function(...e){if(!0===Ey&&(Ey=!1,null===Iy&&!0===by.get("logging_enabled")&&Ty(!0)),Iy){const t=ky.apply(null,e);Iy(t)}},Ay=function(e){return function(...t){xy(e,...t)}},Dy=function(...e){const t="FIREBASE INTERNAL ERROR: "+ky(...e);wy.error(t)},Ry=function(...e){const t=`FIREBASE FATAL ERROR: ${ky(...e)}`;throw wy.error(t),new Error(t)},Oy=function(...e){const t="FIREBASE WARNING: "+ky(...e);wy.warn(t)},Py=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Ny="[MIN_NAME]",Ly="[MAX_NAME]",Fy=function(e,t){if(e===t)return 0;if(e===Ny||t===Ly)return-1;if(t===Ny||e===Ly)return 1;{const n=Gy(e),i=Gy(t);return null!==n?null!==i?n-i==0?e.length-t.length:n-i:-1:null!==i?1:e<t?-1:1}},My=function(e,t){return e===t?0:e<t?-1:1},Vy=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,uy.Pz)(t))},Uy=function(e){if("object"!=typeof e||null===e)return(0,uy.Pz)(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)0!==i&&(n+=","),n+=(0,uy.Pz)(t[i]),n+=":",n+=Uy(e[t[i]]);return n+="}",n},qy=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let r=0;r<n;r+=t)i.push(e.substring(r,r+t>n?n:r+t));return i};function By(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const jy=function(e){let t,n,i,r,s;(0,uy.hu)(!Py(e),"Invalid JSON number"),0===e?(n=0,i=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(r=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=r+1023,i=Math.round(e*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,i=Math.round(e/Math.pow(2,-1074))));const o=[];for(s=52;s;s-=1)o.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)o.push(n%2?1:0),n=Math.floor(n/2);o.push(t?1:0),o.reverse();const a=o.join("");let l="";for(s=0;s<64;s+=8){let e=parseInt(a.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),l+=e}return l.toLowerCase()},zy=new RegExp("^-?(0*)\\d{1,10}$"),Gy=function(e){if(zy.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Zy=function(e){try{e()}catch(t){setTimeout(()=>{throw Oy("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Hy=function(e,t){const n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n};class Yy{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(e=>this.appCheck=e)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){Oy(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class $y{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(xy("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Oy(e)}}let Wy=(()=>{class e{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return e.OWNER="owner",e})();const Ky=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Qy="websocket",Jy="long_polling";class Xy{constructor(e,t,n,i,r=!1,s="",o=!1){this.secure=t,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=vy.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&vy.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function ev(e,t,n){let i;if((0,uy.hu)("string"==typeof t,"typeof type must == string"),(0,uy.hu)("object"==typeof n,"typeof params must == object"),t===Qy)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Jy)throw new Error("Unknown connection type: "+t);i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const r=[];return By(n,(e,t)=>{r.push(e+"="+t)}),i+r.join("&")}class tv{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,uy.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,uy.p$)(this.counters_)}}const nv={},iv={};function rv(e){const t=e.toString();return nv[t]||(nv[t]=new tv),nv[t]}class sv{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Zy(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ov{constructor(e,t,n,i,r,s,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ay(e),this.stats_=rv(t),this.urlFn=e=>(this.appCheckToken&&(e.ac=this.appCheckToken),ev(t,Jy,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new sv(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if((0,uy.Yr)()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new av((...e)=>{const[t,n,i,r,s]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===t)this.id=n,this.password=i;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,()=>{this.onClosed_()})):this.onClosed_()}},(...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)},()=>{this.onClosed_()},this.urlFn);const e={start:"t"};e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Ky.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ov.forceAllow_=!0}static forceDisallow(){ov.forceDisallow_=!0}static isAvailable(){return!((0,uy.Yr)()||!ov.forceAllow_&&(ov.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,uy.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=(0,uy.h$)(t),i=qy(n,1840);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,uy.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,uy.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class av{constructor(e,t,n,i){if(this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,uy.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Cy(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=av.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(n='<script>document.domain="'+document.domain+'";<\/script>');const i="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(r){xy("frame writing exception"),r.stack&&xy(r.stack),xy(r)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||xy("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const e=this.pendingSegs.shift();n=n+"&seg"+i+"="+e.seg+"&ts"+i+"="+e.ts+"&d"+i+"="+e.d,i++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),n()})}addTag(e,t){(0,uy.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{xy("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}},Math.floor(1))}}let lv=null;"undefined"!=typeof MozWebSocket?lv=MozWebSocket:"undefined"!=typeof WebSocket&&(lv=WebSocket);let cv=(()=>{class e{constructor(t,n,i,r,s,o,a){this.connId=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ay(this.connId),this.stats_=rv(n),this.connURL=e.connectionURL_(n,o,a,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,t,n,i,r){const s={v:"5"};return!(0,uy.Yr)()&&"undefined"!=typeof location&&location.hostname&&Ky.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),i&&(s.ac=i),r&&(s.p=r),ev(e,Qy,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,vy.set("previous_websocket_failure",!0);try{let e;if((0,uy.Yr)()){const e={headers:{"User-Agent":`Firebase/5/${fy}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const t=process.env,n=0===this.connURL.indexOf("wss://")?t.HTTPS_PROXY||t.https_proxy:t.HTTP_PROXY||t.http_proxy;n&&(e.proxy={origin:n})}this.mySock=new lv(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);e&&e.length>1&&parseFloat(e[1])<4.4&&(t=!0)}return!t&&null!==lv&&!e.forceDisallow_}static previouslyFailed(){return vy.isInMemoryStorage||!0===vy.get("previous_websocket_failure")}markConnectionHealthy(){vy.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=(0,uy.cI)(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,uy.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=(0,uy.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=qy(t,16384);n.length>1&&this.sendString_(String(n.length));for(let i=0;i<n.length;i++)this.sendString_(n[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e})(),uv=(()=>{class e{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ov,cv]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=cv&&cv.isAvailable();let i=n&&!cv.previouslyFailed();if(t.webSocketOnly&&(n||Oy("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[cv];else{const t=this.transports_=[];for(const n of e.ALL_TRANSPORTS)n&&n.isAvailable()&&t.push(n);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return e.globalTransportInitialized_=!1,e})();class hv{constructor(e,t,n,i,r,s,o,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ay("c:"+this.id+":"),this.transportManager_=new uv(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Hy(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Vy("t",e),n=Vy("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Vy("t",e),n=Vy("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Vy("t",e);if("d"in e){const n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Dy("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Dy("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&Oy("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Hy(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Hy(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(vy.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class dv{put(e,t,n,i){}merge(e,t,n,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class pv{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,uy.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const i=this.getInitialEvent(e);i&&t.apply(n,i)}off(e,t,n){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===t&&(!n||n===i[r].context))return void i.splice(r,1)}validateEventType_(e){(0,uy.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class fv extends pv{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,uy.uI)()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new fv}getInitialEvent(e){return(0,uy.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class mv{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function gv(){return new mv("")}function _v(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function yv(e){return e.pieces_.length-e.pieceNum_}function vv(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new mv(e.pieces_,t)}function bv(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function wv(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function Cv(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new mv(t,0)}function Sv(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof mv)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new mv(n,0)}function kv(e){return e.pieceNum_>=e.pieces_.length}function Iv(e,t){const n=_v(e),i=_v(t);if(null===n)return t;if(n===i)return Iv(vv(e),vv(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ev(e,t){const n=wv(e,0),i=wv(t,0);for(let r=0;r<n.length&&r<i.length;r++){const e=Fy(n[r],i[r]);if(0!==e)return e}return n.length===i.length?0:n.length<i.length?-1:1}function Tv(e,t){if(yv(e)!==yv(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function xv(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(yv(e)>yv(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class Av{constructor(e,t){this.errorPrefix_=t,this.parts_=wv(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=(0,uy.ug)(this.parts_[n]);Dv(this)}}function Dv(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Rv(e))}function Rv(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Ov extends pv{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}static getInstance(){return new Ov}getInitialEvent(e){return(0,uy.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Pv=1e3;let Nv,Lv=(()=>{class e extends dv{constructor(t,n,i,r,s,o,a,l){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=e.nextPersistentConnectionId_++,this.log_=Ay("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Pv,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,uy.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ov.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&fv.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const i=++this.requestNumber_,r={r:i,a:e,b:t};this.log_((0,uy.Pz)(r)),(0,uy.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)}get(e){this.initConnection_();const t=new uy.BH,n={p:e._path.toString(),q:e._queryObject},i={action:"g",request:n,onComplete:e=>{const i=e.d;"ok"===e.s?(this.onDataUpdate_(n.p,i,!1,null),t.resolve(i)):t.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const e=this.outstandingGets_[r];void 0!==e&&i===e&&(delete this.outstandingGets_[r],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+r+" timed out on connection"),t.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,i){this.initConnection_();const r=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+r),this.listens.has(s)||this.listens.set(s,new Map),(0,uy.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,uy.hu)(!this.listens.get(s).has(r),"listen() called twice for same path/queryId.");const o={onComplete:i,hashFn:t,query:e,tag:n};this.listens.get(s).set(r,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(t){const n=t.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i};t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,s=>{const o=s.d,a=s.s;e.warnOnListenWarnings_(o,n),(this.listens.get(i)&&this.listens.get(i).get(r))===t&&(this.log_("listen response",s),"ok"!==a&&this.removeListen_(i,r),t.onComplete&&t.onComplete(a,o))})}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&(0,uy.r3)(e,"w")){const n=(0,uy.DV)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Oy(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,uy.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=(0,uy.w9)(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,i=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,i))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),(0,uy.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,e._queryObject,t)}sendUnlisten_(e,t,n,i){this.log_("Unlisten on "+e+" for "+t);const r={p:e};i&&(r.q=n,r.t=i),this.sendRequest("n",r)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,i){const r={p:t,d:n};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,e=>{i&&setTimeout(()=>{i(e.s,e.d)},Math.floor(0))})}put(e,t,n,i){this.putInternal("p",e,t,n,i)}merge(e,t,n,i){this.putInternal("m",e,t,n,i)}putInternal(e,t,n,i,r){this.initConnection_();const s={p:t,d:n};void 0!==r&&(s.h=r),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),i&&i(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{"ok"!==e.s&&this.log_("reportStats","Error sending stats: "+e.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,uy.Pz)(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Dy("Unrecognized action received from server: "+(0,uy.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,uy.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pv,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Pv,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Pv),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,ly.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const n=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),r=t.onRealtimeDisconnect_.bind(t),s=t.id+":"+e.nextConnectionId_++,o=t.lastSessionId;let a=!1,l=null;const c=function(){l?l.close():(a=!0,r())};t.realtime_={close:c,sendRequest:function(e){(0,uy.hu)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)}};const u=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[e,c]=yield Promise.all([t.authTokenProvider_.getToken(u),t.appCheckTokenProvider_.getToken(u)]);a?xy("getToken() completed but was canceled"):(xy("getToken() completed. Creating connection."),t.authToken_=e&&e.accessToken,t.appCheckToken_=c&&c.token,l=new hv(s,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,n,i,r,e=>{Oy(e+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},o))}catch(Dy){t.log_("Failed to get token: "+Dy),a||(t.repoInfo_.nodeAdmin&&Oy(Dy),c())}}})()}interrupt(e){xy("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){xy("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,uy.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Pv,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>Uy(e)).join("$"):"default";const i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const n=new mv(e).toString();let i;if(this.listens.has(n)){const e=this.listens.get(n);i=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(e,t){xy("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){xy("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";(0,uy.Yr)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+fy.replace(/\./g,"-")]=1,(0,uy.uI)()?e["framework.cordova"]=1:(0,uy.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=fv.getInstance().currentlyOnline();return(0,uy.xb)(this.interruptReasons_)&&e}}return e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e})();class Fv{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Fv(e,t)}}class Mv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Fv(Ny,e),i=new Fv(Ny,t);return 0!==this.compare(n,i)}minPost(){return Fv.MIN}}class Vv extends Mv{static get __EMPTY_NODE(){return Nv}static set __EMPTY_NODE(e){Nv=e}compare(e,t){return Fy(e.name,t.name)}isDefinedOn(e){throw(0,uy.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Fv.MIN}maxPost(){return new Fv(Ly,Nv)}makePost(e,t){return(0,uy.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Fv(e,Nv)}toString(){return".key"}}const Uv=new Vv;class qv{constructor(e,t,n,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=t?n(e.key,t):1,i&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let Bv,jv=(()=>{class e{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=null!=i?i:e.RED,this.left=null!=r?r:zv.EMPTY_NODE,this.right=null!=s?s:zv.EMPTY_NODE}copy(t,n,i,r,s){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return zv.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,i;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return zv.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})();class zv{constructor(e,t=zv.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new zv(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,jv.BLACK,null,null))}remove(e){return new zv(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,jv.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,i=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new qv(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new qv(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new qv(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new qv(this.root_,null,this.comparator_,!0,e)}}function Gv(e,t){return Fy(e.name,t.name)}function Zv(e,t){return Fy(e,t)}zv.EMPTY_NODE=new class{copy(e,t,n,i,r){return this}insert(e,t,n){return new jv(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Hv=function(e){return"number"==typeof e?"number:"+jy(e):"string:"+e},Yv=function(e){if(e.isLeafNode()){const t=e.val();(0,uy.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,uy.r3)(t,".sv"),"Priority must be a string or number.")}else(0,uy.hu)(e===Bv||e.isEmpty(),"priority of unexpected type.");(0,uy.hu)(e===Bv||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let $v,Wv,Kv,Qv=(()=>{class e{constructor(t,n=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,uy.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Yv(this.priorityNode_)}static set __childrenNodeConstructor(e){$v=e}static get __childrenNodeConstructor(){return $v}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new e(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return kv(t)?this:".priority"===_v(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const i=_v(t);return null===i?n:n.isEmpty()&&".priority"!==i?this:((0,uy.hu)(".priority"!==i||1===yv(t),".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(vv(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Hv(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?jy(this.value_):this.value_,this.lazyHash_=Sy(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,uy.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,i=typeof this.value_,r=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(i);return(0,uy.hu)(r>=0,"Unknown leaf type: "+n),(0,uy.hu)(s>=0,"Unknown leaf type: "+i),r===s?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}return e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e})();const Jv=new class extends Mv{compare(e,t){const n=e.node.getPriority(),i=t.node.getPriority(),r=n.compareTo(i);return 0===r?Fy(e.name,t.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Fv.MIN}maxPost(){return new Fv(Ly,new Qv("[PRIORITY-POST]",Kv))}makePost(e,t){const n=Wv(e);return new Fv(t,new Qv("[PRIORITY-POST]",n))}toString(){return".priority"}},Xv=Math.log(2);class eb{constructor(e){this.count=parseInt(Math.log(e+1)/Xv,10),this.current_=this.count-1;const t=parseInt(Array(this.count+1).join("1"),2);this.bits_=e+1&t}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const tb=function(e,t,n,i){e.sort(t);const r=function(t,i){const s=i-t;let o,a;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new jv(a,o.node,jv.BLACK,null,null);{const l=parseInt(s/2,10)+t,c=r(t,l),u=r(l+1,i);return o=e[l],a=n?n(o):o,new jv(a,o.node,jv.BLACK,c,u)}},s=function(t){let i=null,s=null,o=e.length;const a=function(t,i){const s=o-t,a=o;o-=t;const c=r(s+1,a),u=e[s],h=n?n(u):u;l(new jv(h,u.node,i,null,c))},l=function(e){i?(i.left=e,i=e):(s=e,i=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),i=Math.pow(2,t.count-(e+1));n?a(i,jv.BLACK):(a(i,jv.BLACK),a(i,jv.RED))}return s}(new eb(e.length));return new zv(i||t,s)};let nb;const ib={};class rb{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,uy.hu)(ib&&Jv,"ChildrenNode.ts has not been loaded"),nb=nb||new rb({".priority":ib},{".priority":Jv}),nb}get(e){const t=(0,uy.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof zv?t:null}hasIndex(e){return(0,uy.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,uy.hu)(e!==Uv,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const r=t.getIterator(Fv.Wrap);let s,o=r.getNext();for(;o;)i=i||e.isDefinedOn(o.node),n.push(o),o=r.getNext();s=i?tb(n,e.getCompare()):ib;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=s,new rb(c,l)}addToIndexes(e,t){const n=(0,uy.UI)(this.indexes_,(n,i)=>{const r=(0,uy.DV)(this.indexSet_,i);if((0,uy.hu)(r,"Missing index implementation for "+i),n===ib){if(r.isDefinedOn(e.node)){const n=[],i=t.getIterator(Fv.Wrap);let s=i.getNext();for(;s;)s.name!==e.name&&n.push(s),s=i.getNext();return n.push(e),tb(n,r.getCompare())}return ib}{const i=t.get(e.name);let r=n;return i&&(r=r.remove(new Fv(e.name,i))),r.insert(e,e.node)}});return new rb(n,this.indexSet_)}removeFromIndexes(e,t){const n=(0,uy.UI)(this.indexes_,n=>{if(n===ib)return n;{const i=t.get(e.name);return i?n.remove(new Fv(e.name,i)):n}});return new rb(n,this.indexSet_)}}let sb,ob=(()=>{class e{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Yv(this.priorityNode_),this.children_.isEmpty()&&(0,uy.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return sb||(sb=new e(new zv(Zv),null,rb.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||sb}updatePriority(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?sb:t}}getChild(e){const t=_v(e);return null===t?this:this.getImmediateChild(t).getChild(vv(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(t,n){if((0,uy.hu)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);{const i=new Fv(t,n);let r,s;n.isEmpty()?(r=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(i,this.children_));const o=r.isEmpty()?sb:this.priorityNode_;return new e(r,o,s)}}updateChild(e,t){const n=_v(e);if(null===n)return t;{(0,uy.hu)(".priority"!==_v(e)||1===yv(e),".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild(vv(e),t);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let i=0,r=0,s=!0;if(this.forEachChild(Jv,(o,a)=>{n[o]=a.val(t),i++,s&&e.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1}),!t&&s&&r<2*i){const e=[];for(const t in n)e[t]=n[t];return e}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Hv(this.getPriority().val())+":"),this.forEachChild(Jv,(t,n)=>{const i=n.hash();""!==i&&(e+=":"+t+":"+i)}),this.lazyHash_=""===e?"":Sy(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const i=this.resolveIndex_(n);if(i){const n=i.getPredecessorKey(new Fv(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Fv(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Fv(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,Fv.Wrap);let i=n.peek();for(;null!=i&&t.compare(i,e)<0;)n.getNext(),i=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,Fv.Wrap);let i=n.peek();for(;null!=i&&t.compare(i,e)>0;)n.getNext(),i=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ab?-1:0}withIndex(t){if(t===Uv||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Uv||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Jv),n=t.getIterator(Jv);let i=e.getNext(),r=n.getNext();for(;i&&r;){if(i.name!==r.name||!i.node.equals(r.node))return!1;i=e.getNext(),r=n.getNext()}return null===i&&null===r}return!1}return!1}}resolveIndex_(e){return e===Uv?null:this.indexMap_.get(e.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})();const ab=new class extends ob{constructor(){super(new zv(Zv),ob.EMPTY_NODE,rb.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ob.EMPTY_NODE}isEmpty(){return!1}};function lb(e,t=null){if(null===e)return ob.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),(0,uy.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Qv(e,lb(t));if(e instanceof Array){let n=ob.EMPTY_NODE;return By(e,(t,i)=>{if((0,uy.r3)(e,t)&&"."!==t.substring(0,1)){const e=lb(i);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(lb(t))}{const n=[];let i=!1;if(By(e,(e,t)=>{if("."!==e.substring(0,1)){const r=lb(t);r.isEmpty()||(i=i||!r.getPriority().isEmpty(),n.push(new Fv(e,r)))}}),0===n.length)return ob.EMPTY_NODE;const r=tb(n,Gv,e=>e.name,Zv);if(i){const e=tb(n,Jv.getCompare());return new ob(r,lb(t),new rb({".priority":e},{".priority":Jv}))}return new ob(r,lb(t),rb.Default)}}Object.defineProperties(Fv,{MIN:{value:new Fv(Ny,ob.EMPTY_NODE)},MAX:{value:new Fv(Ly,ab)}}),Vv.__EMPTY_NODE=ob.EMPTY_NODE,Qv.__childrenNodeConstructor=ob,Bv=ab,Kv=ab,Wv=lb;class cb extends Mv{constructor(e){super(),this.indexPath_=e,(0,uy.hu)(!kv(e)&&".priority"!==_v(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),i=this.extractChild(t.node),r=n.compareTo(i);return 0===r?Fy(e.name,t.name):r}makePost(e,t){const n=lb(e),i=ob.EMPTY_NODE.updateChild(this.indexPath_,n);return new Fv(t,i)}maxPost(){const e=ob.EMPTY_NODE.updateChild(this.indexPath_,ab);return new Fv(Ly,e)}toString(){return wv(this.indexPath_,0).join("/")}}const ub=new class extends Mv{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Fy(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Fv.MIN}maxPost(){return Fv.MAX}makePost(e,t){const n=lb(e);return new Fv(t,n)}toString(){return".value"}},hb="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",db=function(){let e=0;const t=[];return function(n){const i=n===e;let r;e=n;const s=new Array(8);for(r=7;r>=0;r--)s[r]=hb.charAt(n%64),n=Math.floor(n/64);(0,uy.hu)(0===n,"Cannot push at time == 0");let o=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=hb.charAt(t[r]);return(0,uy.hu)(20===o.length,"nextPushId: Length should be 20."),o}}(),pb=function(e){if("2147483647"===e)return"-";const t=Gy(e);if(null!=t)return""+(t+1);const n=new Array(e.length);for(let s=0;s<n.length;s++)n[s]=e.charAt(s);if(n.length<786)return n.push("-"),n.join("");let i=n.length-1;for(;i>=0&&"z"===n[i];)i--;if(-1===i)return Ly;const r=hb.charAt(hb.indexOf(n[i])+1);return n[i]=r,n.slice(0,i+1).join("")},fb=function(e){if("-2147483648"===e)return Ny;const t=Gy(e);if(null!=t)return""+(t-1);const n=new Array(e.length);for(let i=0;i<n.length;i++)n[i]=e.charAt(i);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=hb.charAt(hb.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function mb(e){return{type:"value",snapshotNode:e}}function gb(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function _b(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function yb(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class vb{constructor(e){this.index_=e}updateChild(e,t,n,i,r,s){(0,uy.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(t);return o.getChild(i).equals(n.getChild(i))&&o.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(_b(t,o)):(0,uy.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange(gb(t,n)):s.trackChildChange(yb(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Jv,(e,i)=>{t.hasChild(e)||n.trackChildChange(_b(e,i))}),t.isLeafNode()||t.forEachChild(Jv,(t,i)=>{if(e.hasChild(t)){const r=e.getImmediateChild(t);r.equals(i)||n.trackChildChange(yb(t,i,r))}else n.trackChildChange(gb(t,i))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?ob.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class bb{constructor(e){this.indexedFilter_=new vb(e.getIndex()),this.index_=e.getIndex(),this.startPost_=bb.getStartPost_(e),this.endPost_=bb.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,n,i,r,s){return this.matches(new Fv(t,n))||(n=ob.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,i,r,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=ob.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(ob.EMPTY_NODE);const r=this;return t.forEachChild(Jv,(e,t)=>{r.matches(new Fv(e,t))||(i=i.updateImmediateChild(e,ob.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class wb{constructor(e){this.rangedFilter_=new bb(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,n,i,r,s){return this.rangedFilter_.matches(new Fv(t,n))||(n=ob.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,i,r,s):this.fullLimitUpdateChild_(e,t,n,r,s)}updateFullNode(e,t,n){let i;if(t.isLeafNode()||t.isEmpty())i=ob.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;i=ob.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();let r;if(r=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),t)<=0:this.index_.compare(t,this.rangedFilter_.getEndPost())<=0,!r)break;i=i.updateImmediateChild(t.name,t.node),n++}}else{let e,n,r,s;if(i=t.withIndex(this.index_),i=i.updatePriority(ob.EMPTY_NODE),this.reverse_){s=i.getReverseIterator(this.index_),e=this.rangedFilter_.getEndPost(),n=this.rangedFilter_.getStartPost();const t=this.index_.getCompare();r=(e,n)=>t(n,e)}else s=i.getIterator(this.index_),e=this.rangedFilter_.getStartPost(),n=this.rangedFilter_.getEndPost(),r=this.index_.getCompare();let o=0,a=!1;for(;s.hasNext();){const t=s.getNext();!a&&r(e,t)<=0&&(a=!0),a&&o<this.limit_&&r(t,n)<=0?o++:i=i.updateImmediateChild(t.name,ob.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,i,r){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const o=e;(0,uy.hu)(o.numChildren()===this.limit_,"");const a=new Fv(t,n),l=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(o.hasChild(t)){const e=o.getImmediateChild(t);let u=i.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||o.hasChild(u.name));)u=i.getChildAfterChild(this.index_,u,this.reverse_);const h=null==u?1:s(u,a);if(c&&!n.isEmpty()&&h>=0)return null!=r&&r.trackChildChange(yb(t,n,e)),o.updateImmediateChild(t,n);{null!=r&&r.trackChildChange(_b(t,e));const n=o.updateImmediateChild(t,ob.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=r&&r.trackChildChange(gb(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&s(l,a)>=0?(null!=r&&(r.trackChildChange(_b(l.name,l.node)),r.trackChildChange(gb(t,n))),o.updateImmediateChild(t,n).updateImmediateChild(l.name,ob.EMPTY_NODE)):e}}class Cb{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Jv}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,uy.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,uy.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ny}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,uy.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,uy.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ly}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,uy.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Jv}copy(){const e=new Cb;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Sb(e,t,n){const i=e.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=n?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function kb(e,t,n){const i=e.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==n?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function Ib(e,t){const n=e.copy();return n.index_=t,n}function Eb(e){const t={};if(e.isDefault())return t;let n;return e.index_===Jv?n="$priority":e.index_===ub?n="$value":e.index_===Uv?n="$key":((0,uy.hu)(e.index_ instanceof cb,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=(0,uy.Pz)(n),e.startSet_&&(t.startAt=(0,uy.Pz)(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+(0,uy.Pz)(e.indexStartName_))),e.endSet_&&(t.endAt=(0,uy.Pz)(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+(0,uy.Pz)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Tb(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Jv&&(t.i=e.index_.toString()),t}class xb extends dv{constructor(e,t,n,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=Ay("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,uy.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const s=xb.getListenId_(e,n),o={};this.listens_[s]=o;const a=Eb(e._queryParams);this.restRequest_(r+".json",a,(e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(r,a,!1,n),(0,uy.DV)(this.listens_,s)===o){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",i(t,null)}})}unlisten(e,t){const n=xb.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Eb(e._queryParams),n=e._path.toString(),i=new uy.BH;return this.restRequest_(n+".json",t,(e,t)=>{let r=t;404===e&&(r=null,e=null),null===e?(this.onDataUpdate_(n,r,!1,null),i.resolve(r)):i.reject(new Error(r))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(t.auth=i.accessToken),r&&r.token&&(t.ac=r.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,uy.xO)(t);this.log_("Sending REST request for "+s);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&4===o.readyState){this.log_("REST Response for "+s+" received. status:",o.status,"response:",o.responseText);let t=null;if(o.status>=200&&o.status<300){try{t=(0,uy.cI)(o.responseText)}catch(e){Oy("Failed to parse JSON response for "+s+": "+o.responseText)}n(null,t)}else 401!==o.status&&404!==o.status&&Oy("Got unsuccessful REST response for "+s+" Status: "+o.status),n(o.status);n=null}},o.open("GET",s,!0),o.send()})}}class Ab{constructor(){this.rootNode_=ob.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Db(){return{value:null,children:new Map}}function Rb(e,t,n){if(kv(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const i=_v(t);e.children.has(i)||e.children.set(i,Db()),Rb(e.children.get(i),t=vv(t),n)}}function Ob(e,t){if(kv(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(Jv,(t,n)=>{Rb(e,new mv(t),n)}),Ob(e,t)}}if(e.children.size>0){const n=_v(t);return t=vv(t),e.children.has(n)&&Ob(e.children.get(n),t)&&e.children.delete(n),0===e.children.size}return!0}function Pb(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,i)=>{Pb(i,new mv(t.toString()+"/"+e),n)})}class Nb{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&By(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class Lb{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Nb(e);const n=1e4+2e4*Math.random();Hy(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;By(e,(e,i)=>{i>0&&(0,uy.r3)(this.statsToReport_,e)&&(t[e]=i,n=!0)}),n&&this.server_.reportStats(t),Hy(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Fb=(()=>(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Fb||(Fb={})),Fb))();function Mb(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class Vb{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Fb.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(kv(this.path)){if(null!=this.affectedTree.value)return(0,uy.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new mv(e));return new Vb(gv(),t,this.revert)}}return(0,uy.hu)(_v(this.path)===e,"operationForChild called for unrelated child."),new Vb(vv(this.path),this.affectedTree,this.revert)}}class Ub{constructor(e,t){this.source=e,this.path=t,this.type=Fb.LISTEN_COMPLETE}operationForChild(e){return kv(this.path)?new Ub(this.source,gv()):new Ub(this.source,vv(this.path))}}class qb{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Fb.OVERWRITE}operationForChild(e){return kv(this.path)?new qb(this.source,gv(),this.snap.getImmediateChild(e)):new qb(this.source,vv(this.path),this.snap)}}class Bb{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Fb.MERGE}operationForChild(e){if(kv(this.path)){const t=this.children.subtree(new mv(e));return t.isEmpty()?null:t.value?new qb(this.source,gv(),t.value):new Bb(this.source,gv(),t)}return(0,uy.hu)(_v(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Bb(this.source,vv(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class jb{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(kv(e))return this.isFullyInitialized()&&!this.filtered_;const t=_v(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class zb{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Gb(e,t,n,i,r,s){const o=i.filter(e=>e.type===n);o.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw(0,uy.g5)("Should only compare child_ events.");const i=new Fv(t.childName,t.snapshotNode),r=new Fv(n.childName,n.snapshotNode);return e.index_.compare(i,r)}(e,t,n)),o.forEach(n=>{const i=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);r.forEach(r=>{r.respondsTo(n.type)&&t.push(r.createEvent(i,e.query_))})})}function Zb(e,t){return{eventCache:e,serverCache:t}}function Hb(e,t,n,i){return Zb(new jb(t,n,i),e.serverCache)}function Yb(e,t,n,i){return Zb(e.eventCache,new jb(t,n,i))}function $b(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Wb(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Kb;class Qb{constructor(e,t=(()=>(Kb||(Kb=new zv(My)),Kb))()){this.value=e,this.children=t}static fromObject(e){let t=new Qb(null);return By(e,(e,n)=>{t=t.set(new mv(e),n)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:gv(),value:this.value};if(kv(e))return null;{const n=_v(e),i=this.children.get(n);if(null!==i){const r=i.findRootMostMatchingPathAndValue(vv(e),t);return null!=r?{path:Sv(new mv(n),r.path),value:r.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(kv(e))return this;{const t=_v(e),n=this.children.get(t);return null!==n?n.subtree(vv(e)):new Qb(null)}}set(e,t){if(kv(e))return new Qb(t,this.children);{const n=_v(e),i=(this.children.get(n)||new Qb(null)).set(vv(e),t),r=this.children.insert(n,i);return new Qb(this.value,r)}}remove(e){if(kv(e))return this.children.isEmpty()?new Qb(null):new Qb(null,this.children);{const t=_v(e),n=this.children.get(t);if(n){const i=n.remove(vv(e));let r;return r=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&r.isEmpty()?new Qb(null):new Qb(this.value,r)}return this}}get(e){if(kv(e))return this.value;{const t=_v(e),n=this.children.get(t);return n?n.get(vv(e)):null}}setTree(e,t){if(kv(e))return t;{const n=_v(e),i=(this.children.get(n)||new Qb(null)).setTree(vv(e),t);let r;return r=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),new Qb(this.value,r)}}fold(e){return this.fold_(gv(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((i,r)=>{n[i]=r.fold_(Sv(e,i),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,gv(),t)}findOnPath_(e,t,n){const i=!!this.value&&n(t,this.value);if(i)return i;if(kv(e))return null;{const i=_v(e),r=this.children.get(i);return r?r.findOnPath_(vv(e),Sv(t,i),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,gv(),t)}foreachOnPath_(e,t,n){if(kv(e))return this;{this.value&&n(t,this.value);const i=_v(e),r=this.children.get(i);return r?r.foreachOnPath_(vv(e),Sv(t,i),n):new Qb(null)}}foreach(e){this.foreach_(gv(),e)}foreach_(e,t){this.children.inorderTraversal((n,i)=>{i.foreach_(Sv(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class Jb{constructor(e){this.writeTree_=e}static empty(){return new Jb(new Qb(null))}}function Xb(e,t,n){if(kv(t))return new Jb(new Qb(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const o=Iv(r,t);return s=s.updateChild(o,n),new Jb(e.writeTree_.set(r,s))}{const i=new Qb(n),r=e.writeTree_.setTree(t,i);return new Jb(r)}}}function ew(e,t,n){let i=e;return By(n,(e,n)=>{i=Xb(i,Sv(t,e),n)}),i}function tw(e,t){if(kv(t))return Jb.empty();{const n=e.writeTree_.setTree(t,new Qb(null));return new Jb(n)}}function nw(e,t){return null!=iw(e,t)}function iw(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Iv(n.path,t)):null}function rw(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Jv,(e,n)=>{t.push(new Fv(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new Fv(e,n.value))}),t}function sw(e,t){if(kv(t))return e;{const n=iw(e,t);return new Jb(null!=n?new Qb(n):e.writeTree_.subtree(t))}}function ow(e){return e.writeTree_.isEmpty()}function aw(e,t){return lw(gv(),e.writeTree_,t)}function lw(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((t,r)=>{".priority"===t?((0,uy.hu)(null!==r.value,"Priority writes must always be leaf nodes"),i=r.value):n=lw(Sv(e,t),r,n)}),n.getChild(e).isEmpty()||null===i||(n=n.updateChild(Sv(e,".priority"),i)),n}}function cw(e,t){return bw(t,e)}function uw(e,t){if(e.snap)return xv(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&xv(Sv(e.path,n),t))return!0;return!1}function hw(e){return e.visible}function dw(e,t,n){let i=Jb.empty();for(let r=0;r<e.length;++r){const s=e[r];if(t(s)){const e=s.path;let t;if(s.snap)xv(n,e)?(t=Iv(n,e),i=Xb(i,t,s.snap)):xv(e,n)&&(t=Iv(e,n),i=Xb(i,gv(),s.snap.getChild(t)));else{if(!s.children)throw(0,uy.g5)("WriteRecord should have .snap or .children");if(xv(n,e))t=Iv(n,e),i=ew(i,t,s.children);else if(xv(e,n))if(t=Iv(e,n),kv(t))i=ew(i,gv(),s.children);else{const e=(0,uy.DV)(s.children,_v(t));if(e){const n=e.getChild(vv(t));i=Xb(i,gv(),n)}}}}}return i}function pw(e,t,n,i,r){if(i||r){const s=sw(e.visibleWrites,t);return!r&&ow(s)?n:r||null!=n||nw(s,gv())?aw(dw(e.allWrites,function(e){return(e.visible||r)&&(!i||!~i.indexOf(e.writeId))&&(xv(e.path,t)||xv(t,e.path))},t),n||ob.EMPTY_NODE):null}{const i=iw(e.visibleWrites,t);if(null!=i)return i;{const i=sw(e.visibleWrites,t);return ow(i)?n:null!=n||nw(i,gv())?aw(i,n||ob.EMPTY_NODE):null}}}function fw(e,t,n,i){return pw(e.writeTree,e.treePath,t,n,i)}function mw(e,t){return function(e,t,n){let i=ob.EMPTY_NODE;const r=iw(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Jv,(e,t)=>{i=i.updateImmediateChild(e,t)}),i;if(n){const r=sw(e.visibleWrites,t);return n.forEachChild(Jv,(e,t)=>{const n=aw(sw(r,new mv(e)),t);i=i.updateImmediateChild(e,n)}),rw(r).forEach(e=>{i=i.updateImmediateChild(e.name,e.node)}),i}return rw(sw(e.visibleWrites,t)).forEach(e=>{i=i.updateImmediateChild(e.name,e.node)}),i}(e.writeTree,e.treePath,t)}function gw(e,t,n,i){return function(e,t,n,i,r){(0,uy.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Sv(t,n);if(nw(e.visibleWrites,s))return null;{const t=sw(e.visibleWrites,s);return ow(t)?r.getChild(n):aw(t,r.getChild(n))}}(e.writeTree,e.treePath,t,n,i)}function _w(e,t){return function(e,t){return iw(e.visibleWrites,t)}(e.writeTree,Sv(e.treePath,t))}function yw(e,t,n){return function(e,t,n,i){const r=Sv(t,n),s=iw(e.visibleWrites,r);return null!=s?s:i.isCompleteForChild(n)?aw(sw(e.visibleWrites,r),i.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function vw(e,t){return bw(Sv(e.treePath,t),e.writeTree)}function bw(e,t){return{treePath:e,writeTree:t}}class ww{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;(0,uy.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,uy.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const r=i.type;if("child_added"===t&&"child_removed"===r)this.changeMap.set(n,yb(n,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===r)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===r)this.changeMap.set(n,_b(n,i.oldSnap));else if("child_changed"===t&&"child_added"===r)this.changeMap.set(n,gb(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==r)throw(0,uy.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(n,yb(n,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Cw=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Sw{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new jb(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return yw(this.writes_,e,t)}}getChildAfterChild(e,t,n){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Wb(this.viewCache_),r=function(e,t,n,i,r,s){return function(e,t,n,i,r,s,o){let a;const l=sw(e.visibleWrites,t),c=iw(l,gv());if(null!=c)a=c;else{if(null==n)return[];a=aw(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let r=n.getNext();for(;r&&e.length<1;)0!==t(r,i)&&e.push(r),r=n.getNext();return e}}(e.writeTree,e.treePath,t,n,0,r,s)}(this.writes_,i,t,0,n,e);return 0===r.length?null:r[0]}}function kw(e,t,n,i,r,s){const o=t.eventCache;if(null!=_w(i,n))return t;{let a,l;if(kv(n))if((0,uy.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Wb(t),r=mw(i,n instanceof ob?n:ob.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),r,s)}else{const n=fw(i,Wb(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const c=_v(n);if(".priority"===c){(0,uy.hu)(1===yv(n),"Can't have a priority with additional path components");const r=o.getNode();l=t.serverCache.getNode();const s=gw(i,n,r,l);a=null!=s?e.filter.updatePriority(r,s):o.getNode()}else{const u=vv(n);let h;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();const e=gw(i,n,o.getNode(),l);h=null!=e?o.getNode().getImmediateChild(c).updateChild(u,e):o.getNode().getImmediateChild(c)}else h=yw(i,c,t.serverCache);a=null!=h?e.filter.updateChild(o.getNode(),c,h,u,r,s):o.getNode()}}return Hb(t,a,o.isFullyInitialized()||kv(n),e.filter.filtersNodes())}}function Iw(e,t,n,i,r,s,o,a){const l=t.serverCache;let c;const u=o?e.filter:e.filter.getIndexedFilter();if(kv(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),e,null)}else{const e=_v(n);if(!l.isCompleteForPath(n)&&yv(n)>1)return t;const r=vv(n),s=l.getNode().getImmediateChild(e).updateChild(r,i);c=".priority"===e?u.updatePriority(l.getNode(),s):u.updateChild(l.getNode(),e,s,r,Cw,null)}const h=Yb(t,c,l.isFullyInitialized()||kv(n),u.filtersNodes());return kw(e,h,n,r,new Sw(r,h,s),a)}function Ew(e,t,n,i,r,s,o){const a=t.eventCache;let l,c;const u=new Sw(r,t,s);if(kv(n))c=e.filter.updateFullNode(t.eventCache.getNode(),i,o),l=Hb(t,c,!0,e.filter.filtersNodes());else{const r=_v(n);if(".priority"===r)c=e.filter.updatePriority(t.eventCache.getNode(),i),l=Hb(t,c,a.isFullyInitialized(),a.isFiltered());else{const s=vv(n),c=a.getNode().getImmediateChild(r);let h;if(kv(s))h=i;else{const e=u.getCompleteChild(r);h=null!=e?".priority"===bv(s)&&e.getChild(Cv(s)).isEmpty()?e:e.updateChild(s,i):ob.EMPTY_NODE}l=c.equals(h)?t:Hb(t,e.filter.updateChild(a.getNode(),r,h,s,u,o),a.isFullyInitialized(),e.filter.filtersNodes())}}return l}function Tw(e,t){return e.eventCache.isCompleteForChild(t)}function xw(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function Aw(e,t,n,i,r,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=kv(n)?i:new Qb(null).setTree(n,i);const u=t.serverCache.getNode();return l.children.inorderTraversal((n,i)=>{if(u.hasChild(n)){const l=xw(0,t.serverCache.getNode().getImmediateChild(n),i);c=Iw(e,c,new mv(n),l,r,s,o,a)}}),l.children.inorderTraversal((n,i)=>{const l=!t.serverCache.isCompleteForChild(n)&&void 0===i.value;if(!u.hasChild(n)&&!l){const l=xw(0,t.serverCache.getNode().getImmediateChild(n),i);c=Iw(e,c,new mv(n),l,r,s,o,a)}}),c}class Dw{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new vb(n.getIndex()),r=(s=n).loadsAllData()?new vb(s.getIndex()):s.hasLimit()?new wb(s):new bb(s);var s;this.processor_=function(e){return{filter:e}}(r);const o=t.serverCache,a=t.eventCache,l=i.updateFullNode(ob.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(ob.EMPTY_NODE,a.getNode(),null),u=new jb(l,o.isFullyInitialized(),i.filtersNodes()),h=new jb(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=Zb(h,u),this.eventGenerator_=new zb(this.query_)}get query(){return this.query_}}function Rw(e,t){const n=Wb(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!kv(t)&&!n.getImmediateChild(_v(t)).isEmpty())?n.getChild(t):null}function Ow(e){return 0===e.eventRegistrations_.length}function Pw(e,t,n){const i=[];if(n){(0,uy.hu)(null==t,"A cancel should cancel all event registrations.");const r=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,r);t&&i.push(t)})}if(t){let n=[];for(let i=0;i<e.eventRegistrations_.length;++i){const r=e.eventRegistrations_[i];if(r.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(i+1));break}}else n.push(r)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return i}function Nw(e,t,n,i){t.type===Fb.MERGE&&null!==t.source.queryId&&((0,uy.hu)(Wb(e.viewCache_),"We should always have a full cache before handling merges"),(0,uy.hu)($b(e.viewCache_),"Missing event cache, even though we have a server cache"));const r=e.viewCache_,s=function(e,t,n,i,r){const s=new ww;let o,a;if(n.type===Fb.OVERWRITE){const l=n;l.source.fromUser?o=Ew(e,t,l.path,l.snap,i,r,s):((0,uy.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!kv(l.path),o=Iw(e,t,l.path,l.snap,i,r,a,s))}else if(n.type===Fb.MERGE){const l=n;l.source.fromUser?o=function(e,t,n,i,r,s,o){let a=t;return i.foreach((i,l)=>{const c=Sv(n,i);Tw(t,_v(c))&&(a=Ew(e,a,c,l,r,s,o))}),i.foreach((i,l)=>{const c=Sv(n,i);Tw(t,_v(c))||(a=Ew(e,a,c,l,r,s,o))}),a}(e,t,l.path,l.children,i,r,s):((0,uy.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),o=Aw(e,t,l.path,l.children,i,r,a,s))}else if(n.type===Fb.ACK_USER_WRITE){const a=n;o=a.revert?function(e,t,n,i,r,s){let o;if(null!=_w(i,n))return t;{const a=new Sw(i,t,r),l=t.eventCache.getNode();let c;if(kv(n)||".priority"===_v(n)){let n;if(t.serverCache.isFullyInitialized())n=fw(i,Wb(t));else{const e=t.serverCache.getNode();(0,uy.hu)(e instanceof ob,"serverChildren would be complete if leaf node"),n=mw(i,e)}n=n,c=e.filter.updateFullNode(l,n,s)}else{const r=_v(n);let u=yw(i,r,t.serverCache);null==u&&t.serverCache.isCompleteForChild(r)&&(u=l.getImmediateChild(r)),c=null!=u?e.filter.updateChild(l,r,u,vv(n),a,s):t.eventCache.getNode().hasChild(r)?e.filter.updateChild(l,r,ob.EMPTY_NODE,vv(n),a,s):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=fw(i,Wb(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=_w(i,gv()),Hb(t,c,o,e.filter.filtersNodes())}}(e,t,a.path,i,r,s):function(e,t,n,i,r,s,o){if(null!=_w(r,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=i.value){if(kv(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Iw(e,t,n,l.getNode().getChild(n),r,s,a,o);if(kv(n)){let i=new Qb(null);return l.getNode().forEachChild(Uv,(e,t)=>{i=i.set(new mv(e),t)}),Aw(e,t,n,i,r,s,a,o)}return t}{let c=new Qb(null);return i.foreach((e,t)=>{const i=Sv(n,e);l.isCompleteForPath(i)&&(c=c.set(e,l.getNode().getChild(i)))}),Aw(e,t,n,c,r,s,a,o)}}(e,t,a.path,a.affectedTree,i,r,s)}else{if(n.type!==Fb.LISTEN_COMPLETE)throw(0,uy.g5)("Unknown operation type: "+n.type);o=function(e,t,n,i,r){const s=t.serverCache;return kw(e,Yb(t,s.getNode(),s.isFullyInitialized()||kv(n),s.isFiltered()),n,i,Cw,r)}(e,t,n.path,i,s)}const l=s.getChanges();return function(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=$b(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(mb($b(t)))}}(t,o,l),{viewCache:o,changes:l}}(e.processor_,r,t,n,i);var o,a;return o=e.processor_,(0,uy.hu)((a=s.viewCache).eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),(0,uy.hu)(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),(0,uy.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Lw(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Lw(e,t,n,i){return function(e,t,n,i){const r=[],s=[];return t.forEach(t=>{"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push({type:"child_moved",snapshotNode:t.snapshotNode,childName:t.childName})}),Gb(e,r,"child_removed",t,i,n),Gb(e,r,"child_added",t,i,n),Gb(e,r,"child_moved",s,i,n),Gb(e,r,"child_changed",t,i,n),Gb(e,r,"value",t,i,n),r}(e.eventGenerator_,t,n,i?[i]:e.eventRegistrations_)}let Fw,Mw;class Vw{constructor(){this.views=new Map}}function Uw(e,t,n,i){const r=t.source.queryId;if(null!==r){const s=e.views.get(r);return(0,uy.hu)(null!=s,"SyncTree gave us an op for an invalid query."),Nw(s,t,n,i)}{let r=[];for(const s of e.views.values())r=r.concat(Nw(s,t,n,i));return r}}function qw(e,t,n,i,r){const s=e.views.get(t._queryIdentifier);if(!s){let e=fw(n,r?i:null),s=!1;e?s=!0:i instanceof ob?(e=mw(n,i),s=!1):(e=ob.EMPTY_NODE,s=!1);const o=Zb(new jb(e,s,!1),new jb(i,r,!1));return new Dw(t,o)}return s}function Bw(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function jw(e,t){let n=null;for(const i of e.views.values())n=n||Rw(i,t);return n}function zw(e,t){return t._queryParams.loadsAllData()?Hw(e):e.views.get(t._queryIdentifier)}function Gw(e,t){return null!=zw(e,t)}function Zw(e){return null!=Hw(e)}function Hw(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Yw=1;class $w{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Qb(null),this.pendingWriteTree_={visibleWrites:Jb.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ww(e,t,n,i,r){return function(e,t,n,i,r){(0,uy.hu)(i>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=Xb(e.visibleWrites,t,n)),e.lastWriteId=i}(e.pendingWriteTree_,t,n,i,r),r?tC(e,new qb({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Kw(e,t,n=!1){const i=function(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}(e.pendingWriteTree_,t);if(function(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);(0,uy.hu)(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,s=!1,o=e.allWrites.length-1;for(;r&&o>=0;){const t=e.allWrites[o];t.visible&&(o>=n&&uw(t,i.path)?r=!1:xv(i.path,t.path)&&(s=!0)),o--}return!!r&&(s?(function(e){e.visibleWrites=dw(e.allWrites,hw,gv()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(i.snap?e.visibleWrites=tw(e.visibleWrites,i.path):By(i.children,t=>{e.visibleWrites=tw(e.visibleWrites,Sv(i.path,t))}),!0))}(e.pendingWriteTree_,t)){let t=new Qb(null);return null!=i.snap?t=t.set(gv(),!0):By(i.children,e=>{t=t.set(new mv(e),!0)}),tC(e,new Vb(i.path,t,n))}return[]}function Qw(e,t,n){return tC(e,new qb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Jw(e,t,n,i){const r=t._path,s=e.syncPointTree_.get(r);let o=[];if(s&&("default"===t._queryIdentifier||Gw(s,t))){const a=function(e,t,n,i){const r=t._queryIdentifier,s=[];let o=[];const a=Zw(e);if("default"===r)for(const[l,c]of e.views.entries())o=o.concat(Pw(c,n,i)),Ow(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const t=e.views.get(r);t&&(o=o.concat(Pw(t,n,i)),Ow(t)&&(e.views.delete(r),t.query._queryParams.loadsAllData()||s.push(t.query)))}return a&&!Zw(e)&&s.push(new((0,uy.hu)(Fw,"Reference.ts has not been loaded"),Fw)(t._repo,t._path)),{removed:s,events:o}}(s,t,n,i);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(r));const l=a.removed;o=a.events;const c=-1!==l.findIndex(e=>e._queryParams.loadsAllData()),u=e.syncPointTree_.findOnPath(r,(e,t)=>Zw(t));if(c&&!u){const t=e.syncPointTree_.subtree(r);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&Zw(t))return[Hw(t)];{let e=[];return t&&(e=Bw(t)),By(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const i=n[t],r=i.query,s=rC(e,i);e.listenProvider_.startListening(uC(r),sC(e,r),s.hashFn,s.onComplete)}}}if(!u&&l.length>0&&!i)if(c){const n=null;e.listenProvider_.stopListening(uC(t),n)}else l.forEach(t=>{const n=e.queryToTagMap.get(oC(t));e.listenProvider_.stopListening(uC(t),n)});!function(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const t=oC(i),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,l)}return o}function Xw(e,t,n){const i=t._path;let r=null,s=!1;e.syncPointTree_.foreachOnPath(i,(e,t)=>{const n=Iv(e,i);r=r||jw(t,n),s=s||Zw(t)});let o,a=e.syncPointTree_.get(i);a?(s=s||Zw(a),r=r||jw(a,gv())):(a=new Vw,e.syncPointTree_=e.syncPointTree_.set(i,a)),null!=r?o=!0:(o=!1,r=ob.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((e,t)=>{const n=jw(t,gv());n&&(r=r.updateImmediateChild(e,n))}));const l=Gw(a,t);if(!l&&!t._queryParams.loadsAllData()){const n=oC(t);(0,uy.hu)(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const i=Yw++;e.queryToTagMap.set(n,i),e.tagToQueryMap.set(i,n)}let c=function(e,t,n,i,r,s){const o=qw(e,t,i,r,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){const n=e.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Jv,(e,t)=>{i.push(gb(e,t))}),n.isFullyInitialized()&&i.push(mb(n.getNode())),Lw(e,i,n.getNode(),t)}(o,n)}(a,t,n,cw(e.pendingWriteTree_,i),r,o);if(!l&&!s){const n=zw(a,t);c=c.concat(function(e,t,n){const i=t._path,r=sC(e,t),s=rC(e,n),o=e.listenProvider_.startListening(uC(t),r,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(i);if(r)(0,uy.hu)(!Zw(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold((e,t,n)=>{if(!kv(e)&&t&&Zw(t))return[Hw(t).query];{let e=[];return t&&(e=e.concat(Bw(t).map(e=>e.query))),By(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const i=t[n];e.listenProvider_.stopListening(uC(i),sC(e,i))}}return o}(e,t,n))}return c}function eC(e,t,n){const i=e.pendingWriteTree_,r=e.syncPointTree_.findOnPath(t,(e,n)=>{const i=jw(n,Iv(e,t));if(i)return i});return pw(i,t,r,n,!0)}function tC(e,t){return nC(t,e.syncPointTree_,null,cw(e.pendingWriteTree_,gv()))}function nC(e,t,n,i){if(kv(e.path))return iC(e,t,n,i);{const r=t.get(gv());null==n&&null!=r&&(n=jw(r,gv()));let s=[];const o=_v(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const e=n?n.getImmediateChild(o):null,t=vw(i,o);s=s.concat(nC(a,l,e,t))}return r&&(s=s.concat(Uw(r,e,i,n))),s}}function iC(e,t,n,i){const r=t.get(gv());null==n&&null!=r&&(n=jw(r,gv()));let s=[];return t.children.inorderTraversal((t,r)=>{const o=n?n.getImmediateChild(t):null,a=vw(i,t),l=e.operationForChild(t);l&&(s=s.concat(iC(l,r,o,a)))}),r&&(s=s.concat(Uw(r,e,i,n))),s}function rC(e,t){const n=t.query,i=sC(e,n);return{hashFn:()=>(function(e){return e.viewCache_.serverCache.getNode()}(t)||ob.EMPTY_NODE).hash(),onComplete:t=>{if("ok"===t)return i?function(e,t,n){const i=aC(e,n);if(i){const n=lC(i),r=n.path,s=n.queryId,o=Iv(r,t);return cC(e,r,new Ub(Mb(s),o))}return[]}(e,n._path,i):function(e,t){return tC(e,new Ub({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const i=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}(t,n);return Jw(e,n,null,i)}}}}function sC(e,t){const n=oC(t);return e.queryToTagMap.get(n)}function oC(e){return e._path.toString()+"$"+e._queryIdentifier}function aC(e,t){return e.tagToQueryMap.get(t)}function lC(e){const t=e.indexOf("$");return(0,uy.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new mv(e.substr(0,t))}}function cC(e,t,n){const i=e.syncPointTree_.get(t);return(0,uy.hu)(i,"Missing sync point for query tag that we're tracking"),Uw(i,n,cw(e.pendingWriteTree_,t),null)}function uC(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,uy.hu)(Mw,"Reference.ts has not been loaded"),Mw)(e._repo,e._path):e}class hC{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new hC(t)}node(){return this.node_}}class dC{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Sv(this.path_,e);return new dC(this.syncTree_,t)}node(){return eC(this.syncTree_,this.path_)}}const pC=function(e,t,n){return e&&"object"==typeof e?((0,uy.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?fC(e[".sv"],t,n):"object"==typeof e[".sv"]?mC(e[".sv"],t):void(0,uy.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},fC=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:(0,uy.hu)(!1,"Unexpected server value: "+e)}},mC=function(e,t,n){e.hasOwnProperty("increment")||(0,uy.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;"number"!=typeof i&&(0,uy.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,uy.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r.getValue();return"number"!=typeof s?i:s+i},gC=function(e,t,n,i){return yC(t,new dC(n,e),i)},_C=function(e,t,n){return yC(e,new hC(t),n)};function yC(e,t,n){const i=e.getPriority().val(),r=pC(i,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const i=e,s=pC(i.getValue(),t,n);return s!==i.getValue()||r!==i.getPriority().val()?new Qv(s,lb(r)):e}{const i=e;return s=i,r!==i.getPriority().val()&&(s=s.updatePriority(new Qv(r))),i.forEachChild(Jv,(e,i)=>{const r=yC(i,t.getImmediateChild(e),n);r!==i&&(s=s.updateImmediateChild(e,r))}),s}}class vC{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function bC(e,t){let n=t instanceof mv?t:new mv(t),i=e,r=_v(n);for(;null!==r;){const e=(0,uy.DV)(i.node.children,r)||{children:{},childCount:0};i=new vC(r,i,e),n=vv(n),r=_v(n)}return i}function wC(e){return e.node.value}function CC(e,t){e.node.value=t,TC(e)}function SC(e){return e.node.childCount>0}function kC(e,t){By(e.node.children,(n,i)=>{t(new vC(n,e,i))})}function IC(e,t,n,i){n&&!i&&t(e),kC(e,e=>{IC(e,t,!0,i)}),n&&i&&t(e)}function EC(e){return new mv(null===e.parent?e.name:EC(e.parent)+"/"+e.name)}function TC(e){null!==e.parent&&function(e,t,n){const i=function(e){return void 0===wC(e)&&!SC(e)}(n),r=(0,uy.r3)(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,TC(e)):i||r||(e.node.children[t]=n.node,e.node.childCount++,TC(e))}(e.parent,e.name,e)}const xC=/[\[\].#$\/\u0000-\u001F\u007F]/,AC=/[\[\].#$\u0000-\u001F\u007F]/,DC=10485760,RC=function(e){return"string"==typeof e&&0!==e.length&&!xC.test(e)},OC=function(e){return"string"==typeof e&&0!==e.length&&!AC.test(e)},PC=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!Py(e)||e&&"object"==typeof e&&(0,uy.r3)(e,".sv")},NC=function(e,t,n,i){i&&void 0===t||LC((0,uy.gK)(e,"value"),t,n)},LC=function(e,t,n){const i=n instanceof mv?new Av(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Rv(i));if("function"==typeof t)throw new Error(e+"contains a function "+Rv(i)+" with contents = "+t.toString());if(Py(t))throw new Error(e+"contains "+t.toString()+" "+Rv(i));if("string"==typeof t&&t.length>DC/3&&(0,uy.ug)(t)>DC)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+Rv(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,r=!1;if(By(t,(t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(r=!0,!RC(t)))throw new Error(e+" contains an invalid key ("+t+") "+Rv(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,uy.ug)(t),Dv(e)}(i,t),LC(e,s,i),function(e){const t=e.parts_.pop();e.byteLength_-=(0,uy.ug)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)}),n&&r)throw new Error(e+' contains ".value" child '+Rv(i)+" in addition to actual children.")}},FC=function(e,t,n,i){if(i&&void 0===t)return;const r=(0,uy.gK)(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];By(t,(e,t)=>{const i=new mv(e);if(LC(r,t,Sv(n,i)),".priority"===bv(i)&&!PC(t))throw new Error(r+"contains an invalid value for '"+i.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(i)}),function(e,t){let n,i;for(n=0;n<t.length;n++){i=t[n];const r=wv(i);for(let t=0;t<r.length;t++)if(".priority"===r[t]&&t===r.length-1);else if(!RC(r[t]))throw new Error(e+"contains an invalid key ("+r[t]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Ev);let r=null;for(n=0;n<t.length;n++){if(i=t[n],null!==r&&xv(r,i))throw new Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},MC=function(e,t,n){if(!n||void 0!==t){if(Py(t))throw new Error((0,uy.gK)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!PC(t))throw new Error((0,uy.gK)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},VC=function(e,t,n,i){if(!(i&&void 0===n||RC(n)))throw new Error((0,uy.gK)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},UC=function(e,t,n,i){if(!(i&&void 0===n||OC(n)))throw new Error((0,uy.gK)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},qC=function(e,t){if(".info"===_v(t))throw new Error(e+" failed = Can't modify data under /.info/")},BC=function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!RC(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),OC(e)}(n))throw new Error((0,uy.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class jC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function zC(e,t){let n=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null===n||Tv(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(r)}n&&e.eventLists_.push(n)}function GC(e,t,n){zC(e,n),HC(e,e=>Tv(e,t))}function ZC(e,t,n){zC(e,n),HC(e,e=>xv(e,t)||xv(t,e))}function HC(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const r=e.eventLists_[i];r&&(t(r.path)?(YC(e.eventLists_[i]),e.eventLists_[i]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function YC(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const i=n.getEventRunner();Iy&&xy("event: "+n.toString()),Zy(i)}}}const $C="repo_interrupt";class WC{constructor(e,t,n,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Db(),this.transactionQueueTree_=new vC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function KC(e){const t=e.infoData_.getNode(new mv(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function QC(e){return(t=(t={timestamp:KC(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function JC(e,t,n,i,r){e.dataUpdateCount++;const s=new mv(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(r)if(i){const t=(0,uy.UI)(n,e=>lb(e));o=function(e,t,n,i){const r=aC(e,i);if(r){const i=lC(r),s=i.path,o=i.queryId,a=Iv(s,t),l=Qb.fromObject(n);return cC(e,s,new Bb(Mb(o),a,l))}return[]}(e.serverSyncTree_,s,t,r)}else{const t=lb(n);o=function(e,t,n,i){const r=aC(e,i);if(null!=r){const i=lC(r),s=i.path,o=i.queryId,a=Iv(s,t);return cC(e,s,new qb(Mb(o),a,n))}return[]}(e.serverSyncTree_,s,t,r)}else if(i){const t=(0,uy.UI)(n,e=>lb(e));o=function(e,t,n){const i=Qb.fromObject(n);return tC(e,new Bb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,s,t)}else{const t=lb(n);o=Qw(e.serverSyncTree_,s,t)}let a=s;o.length>0&&(a=hS(e,s)),ZC(e.eventQueue_,a,o)}function XC(e,t){eS(e,"connected",t),!1===t&&function(e){aS(e,"onDisconnectEvents");const t=QC(e),n=Db();Pb(e.onDisconnect_,gv(),(i,r)=>{const s=gC(i,r,e.serverSyncTree_,t);Rb(n,i,s)});let i=[];Pb(n,gv(),(t,n)=>{i=i.concat(Qw(e.serverSyncTree_,t,n));const r=gS(e,t);hS(e,r)}),e.onDisconnect_=Db(),ZC(e.eventQueue_,gv(),i)}(e)}function eS(e,t,n){const i=new mv("/.info/"+t),r=lb(n);e.infoData_.updateSnapshot(i,r);const s=Qw(e.infoSyncTree_,i,r);ZC(e.eventQueue_,i,s)}function tS(e){return e.nextWriteId_++}function nS(e,t,n,i,r){aS(e,"set",{path:t.toString(),value:n,priority:i});const s=QC(e),o=lb(n,i),a=eC(e.serverSyncTree_,t),l=_C(o,a,s),c=tS(e),u=Ww(e.serverSyncTree_,t,l,c,!0);zC(e.eventQueue_,u),e.server_.put(t.toString(),o.val(!0),(n,i)=>{const s="ok"===n;s||Oy("set at "+t+" failed: "+n);const o=Kw(e.serverSyncTree_,c,!s);ZC(e.eventQueue_,t,o),lS(0,r,n,i)});const h=gS(e,t);hS(e,h),ZC(e.eventQueue_,h,[])}function iS(e,t,n){e.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&Ob(e.onDisconnect_,t),lS(0,n,i,r)})}function rS(e,t,n,i){const r=lb(n);e.server_.onDisconnectPut(t.toString(),r.val(!0),(n,s)=>{"ok"===n&&Rb(e.onDisconnect_,t,r),lS(0,i,n,s)})}function sS(e,t,n){let i;i=".info"===_v(t._path)?Jw(e.infoSyncTree_,t,n):Jw(e.serverSyncTree_,t,n),GC(e.eventQueue_,t._path,i)}function oS(e){e.persistentConnection_&&e.persistentConnection_.interrupt($C)}function aS(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),xy(n,...t)}function lS(e,t,n,i){t&&Zy(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let r=e;i&&(r+=": "+i);const s=new Error(r);s.code=e,t(s)}})}function cS(e,t,n){return eC(e.serverSyncTree_,t,n)||ob.EMPTY_NODE}function uS(e,t=e.transactionQueueTree_){if(t||mS(e,t),wC(t)){const n=pS(e,t);(0,uy.hu)(n.length>0,"Sending zero length transaction queue"),n.every(e=>0===e.status)&&function(e,t,n){const i=n.map(e=>e.currentWriteId),r=cS(e,t,i);let s=r;const o=r.hash();for(let c=0;c<n.length;c++){const e=n[c];(0,uy.hu)(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const i=Iv(t,e.path);s=s.updateChild(i,e.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,i=>{aS(e,"transaction put response",{path:l.toString(),status:i});let r=[];if("ok"===i){const i=[];for(let t=0;t<n.length;t++)n[t].status=2,r=r.concat(Kw(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&i.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();mS(e,bC(e.transactionQueueTree_,t)),uS(e,e.transactionQueueTree_),ZC(e.eventQueue_,t,r);for(let e=0;e<i.length;e++)Zy(i[e])}else{if("datastale"===i)for(let e=0;e<n.length;e++)n[e].status=3===n[e].status?4:0;else{Oy("transaction at "+l.toString()+" failed: "+i);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=i}hS(e,t)}},o)}(e,EC(t),n)}else SC(t)&&kC(t,t=>{uS(e,t)})}function hS(e,t){const n=dS(e,t),i=EC(n);return function(e,t,n){if(0===t.length)return;const i=[];let r=[];const s=t.filter(e=>0===e.status).map(e=>e.currentWriteId);for(let o=0;o<t.length;o++){const a=t[o],l=Iv(n,a.path);let c,u=!1;if((0,uy.hu)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===a.status)u=!0,c=a.abortReason,r=r.concat(Kw(e.serverSyncTree_,a.currentWriteId,!0));else if(0===a.status)if(a.retryCount>=25)u=!0,c="maxretry",r=r.concat(Kw(e.serverSyncTree_,a.currentWriteId,!0));else{const n=cS(e,a.path,s);a.currentInputSnapshot=n;const i=t[o].update(n.val());if(void 0!==i){LC("transaction failed: Data returned ",i,a.path);let t=lb(i);"object"==typeof i&&null!=i&&(0,uy.r3)(i,".priority")||(t=t.updatePriority(n.getPriority()));const o=a.currentWriteId,l=QC(e),c=_C(t,n,l);a.currentOutputSnapshotRaw=t,a.currentOutputSnapshotResolved=c,a.currentWriteId=tS(e),s.splice(s.indexOf(o),1),r=r.concat(Ww(e.serverSyncTree_,a.path,c,a.currentWriteId,a.applyLocally)),r=r.concat(Kw(e.serverSyncTree_,o,!0))}else u=!0,c="nodata",r=r.concat(Kw(e.serverSyncTree_,a.currentWriteId,!0))}ZC(e.eventQueue_,n,r),r=[],u&&(t[o].status=2,setTimeout(t[o].unwatcher,Math.floor(0)),t[o].onComplete&&i.push("nodata"===c?()=>t[o].onComplete(null,!1,t[o].currentInputSnapshot):()=>t[o].onComplete(new Error(c),!1,null)))}mS(e,e.transactionQueueTree_);for(let o=0;o<i.length;o++)Zy(i[o]);uS(e,e.transactionQueueTree_)}(e,pS(e,n),i),i}function dS(e,t){let n,i=e.transactionQueueTree_;for(n=_v(t);null!==n&&void 0===wC(i);)i=bC(i,n),n=_v(t=vv(t));return i}function pS(e,t){const n=[];return fS(e,t,n),n.sort((e,t)=>e.order-t.order),n}function fS(e,t,n){const i=wC(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);kC(t,t=>{fS(e,t,n)})}function mS(e,t){const n=wC(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,CC(t,n.length>0?n:void 0)}kC(t,t=>{mS(e,t)})}function gS(e,t){const n=EC(dS(e,t)),i=bC(e.transactionQueueTree_,t);return function(e,t,n){let i=e.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,t=>{_S(e,t)}),_S(e,i),IC(i,t=>{_S(e,t)}),n}function _S(e,t){const n=wC(t);if(n){const i=[];let r=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?((0,uy.hu)(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):((0,uy.hu)(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),r=r.concat(Kw(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&i.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?CC(t,void 0):n.length=s+1,ZC(e.eventQueue_,EC(t),r);for(let e=0;e<i.length;e++)Zy(i[e])}}const yS=function(e,t){const n=vS(e),i=n.namespace;return"firebase.com"===n.domain&&Ry(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||Ry("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Oy("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Xy(n.host,n.secure,i,"ws"===n.scheme||"wss"===n.scheme,t,"",i!==n.subdomain),path:new mv(n.pathString)}},vS=function(e){let t="",n="",i="",r="",s="",o=!0,a="https",l=443;if("string"==typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(r=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(i){}t+="/"+e}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const i=n.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Oy(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const e=t.indexOf(".");i=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=i}"ns"in d&&(s=d.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};class bS{constructor(e,t,n,i){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,uy.Pz)(this.snapshot.exportVal())}}class wS{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class CS{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,uy.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class SS{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new uy.BH;return iS(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){qC("OnDisconnect.remove",this._path);const e=new uy.BH;return rS(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){qC("OnDisconnect.set",this._path),NC("OnDisconnect.set",e,this._path,!1);const t=new uy.BH;return rS(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){qC("OnDisconnect.setWithPriority",this._path),NC("OnDisconnect.setWithPriority",e,this._path,!1),MC("OnDisconnect.setWithPriority",t,!1);const n=new uy.BH;return function(e,t,n,i,r){const s=lb(n,i);e.server_.onDisconnectPut(t.toString(),s.val(!0),(n,i)=>{"ok"===n&&Rb(e.onDisconnect_,t,s),lS(0,r,n,i)})}(this._repo,this._path,e,t,n.wrapCallback(()=>{})),n.promise}update(e){qC("OnDisconnect.update",this._path),FC("OnDisconnect.update",e,this._path,!1);const t=new uy.BH;return function(e,t,n,i){if((0,uy.xb)(n))return xy("onDisconnect().update() called with empty data.  Don't do anything."),void lS(0,i,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(r,s)=>{"ok"===r&&By(n,(n,i)=>{const r=lb(i);Rb(e.onDisconnect_,Sv(t,n),r)}),lS(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class kS{constructor(e,t,n,i){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=i}get key(){return kv(this._path)?null:bv(this._path)}get ref(){return new xS(this._repo,this._path)}get _queryIdentifier(){const e=Tb(this._queryParams),t=Uy(e);return"{}"===t?"default":t}get _queryObject(){return Tb(this._queryParams)}isEqual(e){if(!((e=(0,uy.m9)(e))instanceof kS))return!1;const t=this._repo===e._repo,n=Tv(this._path,e._path);return t&&n&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function IS(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function ES(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Uv){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Ny)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(e.hasEnd()){if(e.getIndexEndName()!==Ly)throw new Error(i);if("string"!=typeof n)throw new Error(r)}}else if(e.getIndex()===Jv){if(null!=t&&!PC(t)||null!=n&&!PC(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,uy.hu)(e.getIndex()instanceof cb||e.getIndex()===ub,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function TS(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class xS extends kS{constructor(e,t){super(e,t,new Cb,!1)}get parent(){const e=Cv(this._path);return null===e?null:new xS(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class AS{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new mv(e),n=OS(this.ref,e);return new AS(this._node.getChild(t),n,Jv)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(t,n)=>e(new AS(n,OS(this.ref,t),Jv)))}hasChild(e){const t=new mv(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function DS(e,t){return(e=(0,uy.m9)(e))._checkNotDeleted("ref"),void 0!==t?OS(e._root,t):e._root}function RS(e,t){(e=(0,uy.m9)(e))._checkNotDeleted("refFromURL");const n=yS(t,e._repo.repoInfo_.nodeAdmin);BC("refFromURL",n);const i=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||i.host===e._repo.repoInfo_.host||Ry("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+e._repo.repoInfo_.host+")"),DS(e,n.path.toString())}function OS(e,t){var n;return null===_v((e=(0,uy.m9)(e))._path)?((n=t)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),UC("child","path",n,!1)):UC("child","path",t,!1),new xS(e._repo,Sv(e._path,t))}function PS(e,t){e=(0,uy.m9)(e),qC("set",e._path),NC("set",t,e._path,!1);const n=new uy.BH;return nS(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}class NS{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new bS("value",this,new AS(e.snapshotNode,new xS(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new wS(this,e,t):null}matches(e){return e instanceof NS&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class LS{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new wS(this,e,t):null}createEvent(e,t){(0,uy.hu)(null!=e.childName,"Child events should have a childName.");const n=OS(new xS(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new bS(e.type,this,new AS(e.snapshotNode,n,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof LS&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function FS(e,t,n,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const t=n,i=(n,i)=>{sS(e._repo,e,a),t(n,i)};i.userCallback=n.userCallback,i.context=n.context,n=i}const o=new CS(n,s||void 0),a="value"===t?new NS(o):new LS(t,o);return function(e,t,n){let i;i=".info"===_v(t._path)?Xw(e.infoSyncTree_,t,n):Xw(e.serverSyncTree_,t,n),GC(e.eventQueue_,t._path,i)}(e._repo,e,a),()=>sS(e._repo,e,a)}function MS(e,t,n,i){return FS(e,"value",t,n,i)}function VS(e,t,n,i){return FS(e,"child_added",t,n,i)}function US(e,t,n,i){return FS(e,"child_changed",t,n,i)}function qS(e,t,n,i){return FS(e,"child_moved",t,n,i)}function BS(e,t,n,i){return FS(e,"child_removed",t,n,i)}function jS(e,t,n){let i=null;const r=n?new CS(n):null;"value"===t?i=new NS(r):t&&(i=new LS(t,r)),sS(e._repo,e,i)}class zS{}class GS extends zS{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){NC("endAt",this._value,e._path,!0);const t=kb(e._queryParams,this._value,this._key);if(TS(t),ES(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new kS(e._repo,e._path,t,e._orderByCalled)}}class ZS extends zS{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){NC("endBefore",this._value,e._path,!1);const t=function(e,t,n){let i,r;return e.index_===Uv?("string"==typeof t&&(t=fb(t)),r=kb(e,t,n)):(i=null==n?Ny:fb(n),r=kb(e,t,i)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(TS(t),ES(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new kS(e._repo,e._path,t,e._orderByCalled)}}class HS extends zS{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){NC("startAt",this._value,e._path,!0);const t=Sb(e._queryParams,this._value,this._key);if(TS(t),ES(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new kS(e._repo,e._path,t,e._orderByCalled)}}class YS extends zS{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){NC("startAfter",this._value,e._path,!1);const t=function(e,t,n){let i;if(e.index_===Uv)"string"==typeof t&&(t=pb(t)),i=Sb(e,t,n);else{let r;r=null==n?Ly:pb(n),i=Sb(e,t,r)}return i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(TS(t),ES(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new kS(e._repo,e._path,t,e._orderByCalled)}}class $S extends zS{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new kS(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class WS extends zS{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new kS(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class KS extends zS{constructor(e){super(),this._path=e}_apply(e){IS(e,"orderByChild");const t=new mv(this._path);if(kv(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new cb(t),i=Ib(e._queryParams,n);return ES(i),new kS(e._repo,e._path,i,!0)}}class QS extends zS{_apply(e){IS(e,"orderByKey");const t=Ib(e._queryParams,Uv);return ES(t),new kS(e._repo,e._path,t,!0)}}class JS extends zS{_apply(e){IS(e,"orderByPriority");const t=Ib(e._queryParams,Jv);return ES(t),new kS(e._repo,e._path,t,!0)}}class XS extends zS{_apply(e){IS(e,"orderByValue");const t=Ib(e._queryParams,ub);return ES(t),new kS(e._repo,e._path,t,!0)}}class ek extends zS{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(NC("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new GS(this._value,this._key)._apply(new HS(this._value,this._key)._apply(e))}}function tk(e,...t){let n=(0,uy.m9)(e);for(const i of t)n=i._apply(n);return n}!function(e){(0,uy.hu)(!Fw,"__referenceConstructor has already been defined"),Fw=e}(xS),function(e){(0,uy.hu)(!Mw,"__referenceConstructor has already been defined"),Mw=e}(xS);const nk={};function ik(e,t,n,i,r){let s=i||e.options.databaseURL;void 0===s&&(e.options.projectId||Ry("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),xy("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o,a,l=yS(s,r),c=l.repoInfo;"undefined"!=typeof process&&process.env&&(a=process.env.FIREBASE_DATABASE_EMULATOR_HOST),a?(o=!0,s=`http://${a}?ns=${c.namespace}`,l=yS(s,r),c=l.repoInfo):o=!l.repoInfo.secure;const u=r&&o?new Wy(Wy.OWNER):new $y(e.name,e.options,t);BC("Invalid Firebase Database URL",l),kv(l.path)||Ry("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,i){let r=nk[t.name];r||(r={},nk[t.name]=r);let s=r[e.toURLString()];return s&&Ry("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new WC(e,!1,n,i),r[e.toURLString()]=s,s}(c,e,u,new Yy(e.name,n));return new rk(h,e)}class rk{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(e,t,n){if(e.stats_=rv(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new xb(e.repoInfo_,(t,n,i,r)=>{JC(e,t,n,i,r)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>XC(e,!0),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,uy.Pz)(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new Lv(e.repoInfo_,t,(t,n,i,r)=>{JC(e,t,n,i,r)},t=>{XC(e,t)},t=>{!function(e,t){By(t,(t,n)=>{eS(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(t,n){const i=t.toString();return iv[i]||(iv[i]=new Lb(e.stats_,e.server_)),iv[i]}(e.repoInfo_),e.infoData_=new Ab,e.infoSyncTree_=new $w({startListening:(t,n,i,r)=>{let s=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(s=Qw(e.infoSyncTree_,t._path,o),setTimeout(()=>{r("ok")},0)),s},stopListening:()=>{}}),eS(e,"connected",!1),e.serverSyncTree_=new $w({startListening:(t,n,i,r)=>(e.server_.listen(t,i,n,(n,i)=>{const s=r(n,i);ZC(e.eventQueue_,t._path,s)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new xS(this._repo,gv())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(e,t){const n=nk[t];n&&n[e.key]===e||Ry(`Database ${t}(${e.repoInfo_}) has already been deleted.`),oS(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ry("Cannot call "+e+" on a deleted database.")}}function sk(){uv.IS_TRANSPORT_INITIALIZED&&Oy("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function ok(){sk(),ov.forceDisallow()}function ak(){sk(),cv.forceDisallow(),ov.forceAllow()}class lk{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Lv.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Lv.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},my(cy.SDK_VERSION),(0,cy._registerComponent)(new ay.wA("database",(e,{instanceIdentifier:t})=>ik(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,cy.registerVersion)(dy,py,void 0),(0,cy.registerVersion)(dy,py,"esm2017");const ck=new hy.Yd("@firebase/database-compat"),uk=function(e){ck.warn("FIREBASE WARNING: "+e)};class hk{constructor(e){this._delegate=e}cancel(e){(0,uy.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,uy.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),t=>e(t)),t}remove(e){(0,uy.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,uy.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),t=>e(t)),t}set(e,t){(0,uy.Dv)("OnDisconnect.set",1,2,arguments.length),(0,uy.Wj)("OnDisconnect.set","onComplete",t,!0);const n=this._delegate.set(e);return t&&n.then(()=>t(null),e=>t(e)),n}setWithPriority(e,t,n){(0,uy.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,uy.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);const i=this._delegate.setWithPriority(e,t);return n&&i.then(()=>n(null),e=>n(e)),i}update(e,t){if((0,uy.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,uk("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,uy.Wj)("OnDisconnect.update","onComplete",t,!0);const n=this._delegate.update(e);return t&&n.then(()=>t(null),e=>t(e)),n}}class dk{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,uy.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class pk{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,uy.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,uy.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,uy.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,uy.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,uy.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),UC("DataSnapshot.child","path",e,!1),new pk(this._database,this._delegate.child(e))}hasChild(e){return(0,uy.Dv)("DataSnapshot.hasChild",1,1,arguments.length),UC("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,uy.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,uy.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,uy.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new pk(this._database,t)))}hasChildren(){return(0,uy.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,uy.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,uy.Dv)("DataSnapshot.ref",0,0,arguments.length),new mk(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class fk{constructor(e,t){this.database=e,this._delegate=t}on(e,t,n,i){var r;(0,uy.Dv)("Query.on",2,4,arguments.length),(0,uy.Wj)("Query.on","callback",t,!1);const s=fk.getCancelAndContextArgs_("Query.on",n,i),o=(e,n)=>{t.call(s.context,new pk(this.database,e),n)};o.userCallback=t,o.context=s.context;const a=null===(r=s.cancel)||void 0===r?void 0:r.bind(s.context);switch(e){case"value":return MS(this._delegate,o,a),t;case"child_added":return VS(this._delegate,o,a),t;case"child_removed":return BS(this._delegate,o,a),t;case"child_changed":return US(this._delegate,o,a),t;case"child_moved":return qS(this._delegate,o,a),t;default:throw new Error((0,uy.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,n){if((0,uy.Dv)("Query.off",0,3,arguments.length),function(e,t,n){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,uy.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,uy.Wj)("Query.off","callback",t,!0),(0,uy.lb)("Query.off","context",n,!0),t){const i=()=>{};i.userCallback=t,i.context=n,jS(this._delegate,e,i)}else jS(this._delegate,e)}get(){return function(e){return function(e,t){const n=function(e,t){const n=t._path;let i=null;e.syncPointTree_.foreachOnPath(n,(e,t)=>{const r=Iv(e,n);i=i||jw(t,r)});let r=e.syncPointTree_.get(n);r?i=i||jw(r,gv()):(r=new Vw,e.syncPointTree_=e.syncPointTree_.set(n,r));const s=null!=i,o=s?new jb(i,!0,!1):null;return $b(qw(r,t,cw(e.pendingWriteTree_,t._path),s?o.getNode():ob.EMPTY_NODE,s).viewCache_)}(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then(n=>{const i=lb(n).withIndex(t._queryParams.getIndex()),r=Qw(e.serverSyncTree_,t._path,i);return GC(e.eventQueue_,t._path,r),Promise.resolve(i)},n=>(aS(e,"get for query "+(0,uy.Pz)(t)+" failed: "+n),Promise.reject(new Error(n))))}((e=(0,uy.m9)(e))._repo,e).then(t=>new AS(t,new xS(e._repo,e._path),e._queryParams.getIndex()))}(this._delegate).then(e=>new pk(this.database,e))}once(e,t,n,i){(0,uy.Dv)("Query.once",1,4,arguments.length),(0,uy.Wj)("Query.once","callback",t,!0);const r=fk.getCancelAndContextArgs_("Query.once",n,i),s=new uy.BH,o=(e,n)=>{const i=new pk(this.database,e);t&&t.call(r.context,i,n),s.resolve(i)};o.userCallback=t,o.context=r.context;const a=e=>{r.cancel&&r.cancel.call(r.context,e),s.reject(e)};switch(e){case"value":MS(this._delegate,o,a,{onlyOnce:!0});break;case"child_added":VS(this._delegate,o,a,{onlyOnce:!0});break;case"child_removed":BS(this._delegate,o,a,{onlyOnce:!0});break;case"child_changed":US(this._delegate,o,a,{onlyOnce:!0});break;case"child_moved":qS(this._delegate,o,a,{onlyOnce:!0});break;default:throw new Error((0,uy.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return(0,uy.Dv)("Query.limitToFirst",1,1,arguments.length),new fk(this.database,tk(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new $S(e)}(e)))}limitToLast(e){return(0,uy.Dv)("Query.limitToLast",1,1,arguments.length),new fk(this.database,tk(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new WS(e)}(e)))}orderByChild(e){return(0,uy.Dv)("Query.orderByChild",1,1,arguments.length),new fk(this.database,tk(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return UC("orderByChild","path",e,!1),new KS(e)}(e)))}orderByKey(){return(0,uy.Dv)("Query.orderByKey",0,0,arguments.length),new fk(this.database,tk(this._delegate,new QS))}orderByPriority(){return(0,uy.Dv)("Query.orderByPriority",0,0,arguments.length),new fk(this.database,tk(this._delegate,new JS))}orderByValue(){return(0,uy.Dv)("Query.orderByValue",0,0,arguments.length),new fk(this.database,tk(this._delegate,new XS))}startAt(e=null,t){return(0,uy.Dv)("Query.startAt",0,2,arguments.length),new fk(this.database,tk(this._delegate,function(e=null,t){return VC("startAt","key",t,!0),new HS(e,t)}(e,t)))}startAfter(e=null,t){return(0,uy.Dv)("Query.startAfter",0,2,arguments.length),new fk(this.database,tk(this._delegate,function(e,t){return VC("startAfter","key",t,!0),new YS(e,t)}(e,t)))}endAt(e=null,t){return(0,uy.Dv)("Query.endAt",0,2,arguments.length),new fk(this.database,tk(this._delegate,function(e,t){return VC("endAt","key",t,!0),new GS(e,t)}(e,t)))}endBefore(e=null,t){return(0,uy.Dv)("Query.endBefore",0,2,arguments.length),new fk(this.database,tk(this._delegate,function(e,t){return VC("endBefore","key",t,!0),new ZS(e,t)}(e,t)))}equalTo(e,t){return(0,uy.Dv)("Query.equalTo",1,2,arguments.length),new fk(this.database,tk(this._delegate,function(e,t){return VC("equalTo","key",t,!0),new ek(e,t)}(e,t)))}toString(){return(0,uy.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,uy.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,uy.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof fk))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,n){const i={cancel:void 0,context:void 0};if(t&&n)i.cancel=t,(0,uy.Wj)(e,"cancel",i.cancel,!0),i.context=n,(0,uy.lb)(e,"context",i.context,!0);else if(t)if("object"==typeof t&&null!==t)i.context=t;else{if("function"!=typeof t)throw new Error((0,uy.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=t}return i}get ref(){return new mk(this.database,new xS(this._delegate._repo,this._delegate._path))}}class mk extends fk{constructor(e,t){super(e,new kS(t._repo,t._path,new Cb,!1)),this.database=e,this._delegate=t}getKey(){return(0,uy.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,uy.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new mk(this.database,OS(this._delegate,e))}getParent(){(0,uy.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new mk(this.database,e):null}getRoot(){return(0,uy.Dv)("Reference.root",0,0,arguments.length),new mk(this.database,this._delegate.root)}set(e,t){(0,uy.Dv)("Reference.set",1,2,arguments.length),(0,uy.Wj)("Reference.set","onComplete",t,!0);const n=PS(this._delegate,e);return t&&n.then(()=>t(null),e=>t(e)),n}update(e,t){if((0,uy.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,uk("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}qC("Reference.update",this._delegate._path),(0,uy.Wj)("Reference.update","onComplete",t,!0);const n=function(e,t){FC("update",t,e._path,!1);const n=new uy.BH;return function(e,t,n,i){aS(e,"update",{path:t.toString(),value:n});let r=!0;const s=QC(e),o={};if(By(n,(n,i)=>{r=!1,o[n]=gC(Sv(t,n),lb(i),e.serverSyncTree_,s)}),r)xy("update() called with empty data.  Don't do anything."),lS(0,i,"ok",void 0);else{const r=tS(e),s=function(e,t,n,i){!function(e,t,n,i){(0,uy.hu)(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:i,visible:!0}),e.visibleWrites=ew(e.visibleWrites,t,n),e.lastWriteId=i}(e.pendingWriteTree_,t,n,i);const r=Qb.fromObject(n);return tC(e,new Bb({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,t,o,r);zC(e.eventQueue_,s),e.server_.merge(t.toString(),n,(n,s)=>{const o="ok"===n;o||Oy("update at "+t+" failed: "+n);const a=Kw(e.serverSyncTree_,r,!o),l=a.length>0?hS(e,t):t;ZC(e.eventQueue_,l,a),lS(0,i,n,s)}),By(n,n=>{const i=gS(e,Sv(t,n));hS(e,i)}),ZC(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}(this._delegate,e);return t&&n.then(()=>t(null),e=>t(e)),n}setWithPriority(e,t,n){(0,uy.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,uy.Wj)("Reference.setWithPriority","onComplete",n,!0);const i=function(e,t,n){if(qC("setWithPriority",e._path),NC("setWithPriority",t,e._path,!1),MC("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const i=new uy.BH;return nS(e._repo,e._path,t,n,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return n&&i.then(()=>n(null),e=>n(e)),i}remove(e){(0,uy.Dv)("Reference.remove",0,1,arguments.length),(0,uy.Wj)("Reference.remove","onComplete",e,!0);const t=function(e){return qC("remove",e._path),PS(e,null)}(this._delegate);return e&&t.then(()=>e(null),t=>e(t)),t}transaction(e,t,n){(0,uy.Dv)("Reference.transaction",1,3,arguments.length),(0,uy.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,uy.Wj)("Reference.transaction","onComplete",t,!0),function(e,t,n,i){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,uy.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,n);const i=function(e,t,n){var i;if(e=(0,uy.m9)(e),qC("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const r=null===(i=null==n?void 0:n.applyLocally)||void 0===i||i,s=new uy.BH,o=MS(e,()=>{});return function(t,n,i,r,o,a){aS(t,"transaction on "+n);const l={path:n,update:i,onComplete:(t,n,i)=>{let r=null;t?s.reject(t):(r=new AS(i,new xS(e._repo,e._path),Jv),s.resolve(new lk(n,r)))},status:null,order:Cy(),applyLocally:a,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=cS(t,n,void 0);l.currentInputSnapshot=c;const u=l.update(c.val());if(void 0===u)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{LC("transaction failed: Data returned ",u,l.path),l.status=0;const e=bC(t.transactionQueueTree_,n),i=wC(e)||[];let r;i.push(l),CC(e,i),"object"==typeof u&&null!==u&&(0,uy.r3)(u,".priority")?(r=(0,uy.DV)(u,".priority"),(0,uy.hu)(PC(r),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):r=(eC(t.serverSyncTree_,n)||ob.EMPTY_NODE).getPriority().val();const s=QC(t),o=lb(u,r),a=_C(o,c,s);l.currentOutputSnapshotRaw=o,l.currentOutputSnapshotResolved=a,l.currentWriteId=tS(t);const h=Ww(t.serverSyncTree_,n,a,l.currentWriteId,l.applyLocally);ZC(t.eventQueue_,n,h),uS(t,t.transactionQueueTree_)}}(e._repo,e._path,t,0,o,r),s.promise}(this._delegate,e,{applyLocally:n}).then(e=>new dk(e.committed,new pk(this.database,e.snapshot)));return t&&i.then(e=>t(null,e.committed,e.snapshot),e=>t(e,!1,null)),i}setPriority(e,t){(0,uy.Dv)("Reference.setPriority",1,2,arguments.length),(0,uy.Wj)("Reference.setPriority","onComplete",t,!0);const n=function(e,t){e=(0,uy.m9)(e),qC("setPriority",e._path),MC("setPriority",t,!1);const n=new uy.BH;return nS(e._repo,Sv(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}(this._delegate,e);return t&&n.then(()=>t(null),e=>t(e)),n}push(e,t){(0,uy.Dv)("Reference.push",0,2,arguments.length),(0,uy.Wj)("Reference.push","onComplete",t,!0);const n=function(e,t){e=(0,uy.m9)(e),qC("push",e._path),NC("push",t,e._path,!0);const n=KC(e._repo),i=db(n),r=OS(e,i),s=OS(e,i);let o;return o=null!=t?PS(s,t).then(()=>s):Promise.resolve(s),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}(this._delegate,e),i=n.then(e=>new mk(this.database,e));t&&i.then(()=>t(null),e=>t(e));const r=new mk(this.database,n);return r.then=i.then.bind(i),r.catch=i.catch.bind(i,void 0),r}onDisconnect(){return qC("Reference.onDisconnect",this._delegate._path),new hk(new SS(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class gk{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:ok,forceLongPolling:ak}}useEmulator(e,t,n={}){!function(e,t,n,i={}){(e=(0,uy.m9)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Ry("Cannot call useEmulator() after instance has already been initialized.");const r=e._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Ry('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Wy(Wy.OWNER);else if(i.mockUserToken){const t="string"==typeof i.mockUserToken?i.mockUserToken:(0,uy.Sg)(i.mockUserToken,e.app.options.projectId);s=new Wy(t)}!function(e,t,n,i){e.repoInfo_=new Xy(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),i&&(e.authTokenProvider_=i)}(r,t,n,s)}(this._delegate,e,t,n)}ref(e){if((0,uy.Dv)("database.ref",0,1,arguments.length),e instanceof mk){const t=RS(this._delegate,e.toString());return new mk(this,t)}{const t=DS(this._delegate,e);return new mk(this,t)}}refFromURL(e){(0,uy.Dv)("database.refFromURL",1,1,arguments.length);const t=RS(this._delegate,e);return new mk(this,t)}goOffline(){return(0,uy.Dv)("database.goOffline",0,0,arguments.length),function(e){(e=(0,uy.m9)(e))._checkNotDeleted("goOffline"),oS(e._repo)}(this._delegate)}goOnline(){return(0,uy.Dv)("database.goOnline",0,0,arguments.length),function(e){var t;(e=(0,uy.m9)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume($C)}(this._delegate)}}gk.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:e=>function(e){return{".sv":{increment:e}}}(e)};var _k=Object.freeze({__proto__:null,initStandalone:function({app:e,url:t,version:n,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){my(n);const o=new ay.zt("auth-internal",new ay.H0("database-standalone"));return o.setComponent(new ay.wA("auth-internal",()=>i,"PRIVATE")),{instance:new gk(ik(e,o,void 0,t,s),e),namespace:r}}});const yk=gk.ServerValue;var vk;function bk(e,t){return t?Bl(()=>e,t):Bl(()=>e)}(vk=oy.Z).INTERNAL.registerComponent(new ay.wA("database-compat",(e,{instanceIdentifier:t})=>{const n=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:t});return new gk(i,n)},"PUBLIC").setServiceProps({Reference:mk,Query:fk,Database:gk,DataSnapshot:pk,enableLogging:function(e,t){Ty(e,t)},INTERNAL:_k,ServerValue:yk}).setMultipleInstances(!0)),vk.registerVersion("@firebase/database-compat","0.2.0");var wk=n(9673);n(2329);const Ck=new Map,Sk={activated:!1,tokenObservers:[]},kk={initialized:!1,enabled:!1};function Ik(e){return Ck.get(e)||Sk}function Ek(e,t){Ck.set(e,t)}function Tk(){return kk}class xk{constructor(e,t,n,i,r){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=i,this.upperBound=r,this.pending=null,this.nextErrorWaitInterval=i,i>r)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ly.Z)(function*(){t.stop();try{t.pending=new uy.BH,yield function(e){return new Promise(t=>{setTimeout(t,e)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new uy.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(Dy){t.retryPolicy(Dy)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Ak=new uy.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Dk(e){if(!Ik(e).activated)throw Ak.create("use-before-activation",{appName:e.name})}function Rk(e,t){return Ok.apply(this,arguments)}function Ok(){return(Ok=(0,ly.Z)(function*({url:e,body:t},n){const i={"Content-Type":"application/json"},r=n.getImmediate({optional:!0});if(r){const e=yield r.getHeartbeatsHeader();e&&(i["X-Firebase-Client"]=e)}const s={method:"POST",body:JSON.stringify(t),headers:i};let o,a;try{o=yield fetch(e,s)}catch(h){throw Ak.create("fetch-network-error",{originalErrorMessage:h.message})}if(200!==o.status)throw Ak.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(h){throw Ak.create("fetch-parse-error",{originalErrorMessage:h.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Ak.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+c,issuedAtTimeMillis:u}})).apply(this,arguments)}function Pk(e,t){const{projectId:n,appId:i,apiKey:r}=e.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Nk="firebase-app-check-store";let Lk=null;function Fk(){return Lk||(Lk=new Promise((e,t)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=t=>{e(t.target.result)},n.onerror=e=>{var n;t(Ak.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(Nk,{keyPath:"compositeKey"})}}}catch(n){t(Ak.create("storage-open",{originalErrorMessage:n.message}))}}),Lk)}function Mk(){return(Mk=(0,ly.Z)(function*(e,t){const n=(yield Fk()).transaction(Nk,"readwrite"),i=n.objectStore(Nk).put({compositeKey:e,value:t});return new Promise((e,t)=>{i.onsuccess=t=>{e()},n.onerror=e=>{var n;t(Ak.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})})).apply(this,arguments)}const Vk=new hy.Yd("@firebase/app-check");function Uk(e,t){return(0,uy.hl)()?function(e,t){return function(e,t){return Mk.apply(this,arguments)}(function(e){return`${e.options.appId}-${e.name}`}(e),t)}(e,t).catch(e=>{Vk.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function qk(){return Tk().enabled}function Bk(){return jk.apply(this,arguments)}function jk(){return(jk=(0,ly.Z)(function*(){const e=Tk();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const zk={error:"UNKNOWN_ERROR"};function Gk(e){return Zk.apply(this,arguments)}function Zk(){return(Zk=(0,ly.Z)(function*(e,t=!1){const n=e.app;Dk(n);const i=Ik(n);let r,s=i.token;if(!s){const e=yield i.cachedTokenPromise;e&&Wk(e)&&(s=e)}if(!t&&s&&Wk(s))return{token:s.token};let o,a=!1;if(qk()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Rk(Pk(n,yield Bk()),e.heartbeatServiceProvider).then(e=>(i.exchangeTokenPromise=void 0,e)),a=!0);const t=yield i.exchangeTokenPromise;return yield Uk(n,t),Ek(n,Object.assign(Object.assign({},i),{token:t})),{token:t.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(e=>(i.exchangeTokenPromise=void 0,e)),a=!0),s=yield i.exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?Vk.warn(l.message):Vk.error(l),r=l}return s?(o={token:s.token},Ek(n,Object.assign(Object.assign({},i),{token:s})),yield Uk(n,s)):o=Kk(r),a&&$k(n,o),o})).apply(this,arguments)}function Hk(e,t){const n=Ik(e),i=n.tokenObservers.filter(e=>e.next!==t);0===i.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Ek(e,Object.assign(Object.assign({},n),{tokenObservers:i}))}function Yk(e){const{app:t}=e,n=Ik(t);let i=n.tokenRefresher;i||(i=function(e){const{app:t}=e;return new xk((0,ly.Z)(function*(){let n;if(n=Ik(t).token?yield Gk(e,!0):yield Gk(e),n.error)throw n.error}),()=>!0,()=>{const e=Ik(t);if(e.token){let t=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return t=Math.min(t,e.token.expireTimeMillis-3e5),Math.max(0,t-Date.now())}return 0},3e4,96e4)}(e),Ek(t,Object.assign(Object.assign({},n),{tokenRefresher:i}))),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function $k(e,t){const n=Ik(e).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch(i){}}function Wk(e){return e.expireTimeMillis-Date.now()>0}function Kk(e){return{token:(t=zk,uy.US.encodeString(JSON.stringify(t),!1)),error:e};var t}class Qk{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ik(this.app);for(const t of e)Hk(this.app,t.next);return Promise.resolve()}}const Jk="app-check-internal";(0,cy._registerComponent)(new ay.wA("app-check",e=>{return t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat"),new Qk(t,n);var t,n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(Jk).initialize()})),(0,cy._registerComponent)(new ay.wA(Jk,e=>{return t=e.getProvider("app-check").getImmediate(),{getToken:e=>Gk(t,e),addTokenListener:e=>function(e,t,n,i){const{app:r}=e,s=Ik(r),o={next:n,error:void 0,type:"INTERNAL"};if(Ek(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&Wk(s.token)){const t=s.token;Promise.resolve().then(()=>{n({token:t.token}),Yk(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Yk(e))}(t,0,e),removeTokenListener:e=>Hk(t.app,e)};var t},"PUBLIC").setInstantiationMode("EXPLICIT")),(0,cy.registerVersion)("@firebase/app-check","0.5.8");class Xk{constructor(){return(0,ry.vb)("app-check")}}"undefined"!=typeof window&&window;var eI=n(7841);const tI=new i.OlP("angularfire2.auth.use-emulator"),nI=new i.OlP("angularfire2.auth.settings"),iI=new i.OlP("angularfire2.auth.tenant-id"),rI=new i.OlP("angularfire2.auth.langugage-code"),sI=new i.OlP("angularfire2.auth.use-device-language"),oI=new i.OlP("angularfire.auth.persistence"),aI=(e,t,n,i,r,s,o,a)=>(0,sy.cc)(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const l=t.runOutsideAngular(()=>e.auth());if(n&&l.useEmulator(...n),i&&(l.tenantId=i),l.languageCode=r,s&&l.useDeviceLanguage(),o)for(const[e,t]of Object.entries(o))l.settings[e]=t;return a&&l.setPersistence(a),l},[n,i,r,s,o,a]);let lI=(()=>{class e{constructor(e,t,i,r,s,o,a,l,c,u,h,d){const p=new xe.xQ,f=(0,Oe.of)(void 0).pipe((0,Zl.QV)(s.outsideAngular),Bl(()=>r.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,2385)))),(0,$e.U)(()=>(0,sy.on)(e,r,t)),(0,$e.U)(e=>aI(e,r,o,l,c,u,a,h)),Wl({bufferSize:1,refCount:!1}));if(Z(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Oe.of)(null);else{f.pipe(Xf()).subscribe();const e=f.pipe(Bl(e=>e.getRedirectResult().then(e=>e,()=>null)),ry.iC,Wl({bufferSize:1,refCount:!1})),t=f.pipe(Bl(e=>new Ot.y(t=>({unsubscribe:r.runOutsideAngular(()=>e.onAuthStateChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))})))),n=f.pipe(Bl(e=>new Ot.y(t=>({unsubscribe:r.runOutsideAngular(()=>e.onIdTokenChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))}))));this.authState=e.pipe(bk(t),(0,wk.R)(s.outsideAngular),(0,Zl.QV)(s.insideAngular)),this.user=e.pipe(bk(n),(0,wk.R)(s.outsideAngular),(0,Zl.QV)(s.insideAngular)),this.idToken=this.user.pipe(Bl(e=>e?(0,ha.D)(e.getIdToken()):(0,Oe.of)(null))),this.idTokenResult=this.user.pipe(Bl(e=>e?(0,ha.D)(e.getIdTokenResult()):(0,Oe.of)(null))),this.credential=(0,Co.T)(e,p,this.authState.pipe(Ze(e=>!e))).pipe((0,$e.U)(e=>(null==e?void 0:e.user)?e:null),(0,wk.R)(s.outsideAngular),(0,Zl.QV)(s.insideAngular))}return(0,sy.pX)(this,f,r,{spy:{apply:(e,t,n)=>{(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(e=>p.next(e))}}})}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(sy.Dh),i.LFG(sy.xv,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(ry.HU),i.LFG(tI,8),i.LFG(nI,8),i.LFG(iI,8),i.LFG(rI,8),i.LFG(sI,8),i.LFG(oI,8),i.LFG(Xk,8))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})();function cI(e){return null==e}function uI(e){return"function"==typeof e.set}function hI(e,t){return uI(t)?t:e.ref(t)}function dI(e,t){if("string"==typeof e)return t.stringCase();if(uI(e))return t.firebaseCase();if("function"==typeof e.exportVal)return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof e)}function pI(e,t,n="on",i=qe.z){return new Ot.y(r=>{let s=null;return s=e[n](t,(e,t)=>{i.schedule(()=>{r.next({snapshot:e,prevKey:t})}),"once"===n&&i.schedule(()=>r.complete())},e=>{i.schedule(()=>r.error(e))}),"on"===n?{unsubscribe(){null!=s&&e.off(t,s)}}:{unsubscribe(){}}}).pipe((0,$e.U)(e=>{const{snapshot:n,prevKey:i}=e;let r=null;return n.exists()&&(r=n.key),{type:t,payload:n,prevKey:i,key:r}}),(0,lh.B)())}function fI(e,t){const n=e.length;for(let i=0;i<n;i++)if(e[i].payload.key===t)return i;return-1}function mI(e,t){const{payload:n,prevKey:i,key:r}=t,s=fI(e,r),o=function(e,t){if(cI(t))return 0;{const n=fI(e,t);return-1===n?e.length:n+1}}(e,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let n=null;t.payload.forEach(t=>{const i={payload:t,type:"value",prevKey:n,key:t.key};return n=t.key,e=[...e,i],!1})}return e;case"child_added":if(s>-1){const r=e[s-1];(r&&r.key||null)!==i&&(e=e.filter(e=>e.payload.key!==n.key)).splice(o,0,t)}else{if(null==i)return[t,...e];(e=e.slice()).splice(o,0,t)}return e;case"child_removed":return e.filter(e=>e.payload.key!==n.key);case"child_changed":return e.map(e=>e.payload.key===r?t:e);case"child_moved":if(s>-1){const t=e.splice(s,1)[0];return(e=e.slice()).splice(o,0,t),e}return e;default:return e}}function gI(e){return(cI(e)||0===e.length)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function _I(e,t,n){return function(e,t,n){return pI(e,"value","once",n).pipe(Bl(i=>{const r=[(0,Oe.of)(i)];return t.forEach(t=>r.push(pI(e,t,"on",n))),(0,Co.T)(...r).pipe(Uf(mI,[]))}),it())}(e,t=gI(t),n)}function yI(e,t,n){const i=(t=gI(t)).map(t=>pI(e,t,"on",n));return(0,Co.T)(...i)}function vI(e,t){return function(n,i){return dI(n,{stringCase:()=>e.child(n)[t](i),firebaseCase:()=>n[t](i),snapshotCase:()=>n.ref[t](i)})}}function bI(e){return function(t){return t?dI(t,{stringCase:()=>e.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):e.remove()}}function wI(e,t){return function(){return pI(e,"value","on",t)}}const CI=new i.OlP("angularfire2.realtimeDatabaseURL"),SI=new i.OlP("angularfire2.database.use-emulator");let kI=(()=>{class e{constructor(e,t,n,i,r,s,o,a,l,c,u,h,d,p,f){this.schedulers=s;const m=o,g=(0,sy.on)(e,r,t);a&&aI(g,r,l,u,h,d,c,p),this.database=(0,sy.cc)(`${g.name}.database.${n}`,"AngularFireDatabase",g.name,()=>{const e=r.runOutsideAngular(()=>g.database(n||void 0));return m&&e.useEmulator(...m),e},[m])}list(e,t){const n=this.schedulers.ngZone.runOutsideAngular(()=>hI(this.database,e));let i=n;return t&&(i=t(n)),function(e,t){const n=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>e.ref);return{query:e,update:vI(i,"update"),set:vI(i,"set"),push:e=>i.push(e),remove:bI(i),snapshotChanges:t=>_I(e,t,n).pipe(ry.iC),stateChanges:t=>yI(e,t,n).pipe(ry.iC),auditTrail:t=>function(e,t,n){return function(e,t,n){return function(e,t){return pI(e,"value","on",t).pipe((0,$e.U)(e=>{let t;return e.payload.forEach(e=>(t=e.key,!1)),{data:e,lastKeyToLoad:t}}))}(e,n).pipe(function(...e){return t=>{let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new ey(e,n))}}(t),(0,$e.U)(([e,t])=>{const n=e.lastKeyToLoad,i=t.map(e=>e.key);return{actions:t,lastKeyToLoad:n,loadedKeys:i}}),(i=e=>-1===e.loadedKeys.indexOf(e.lastKeyToLoad),e=>e.lift(new ny(i))),(0,$e.U)(e=>e.actions));var i}(e,yI(e,t).pipe(Uf((e,t)=>[...e,t],[])),n)}(e,t,n).pipe(ry.iC),valueChanges:(t,i)=>_I(e,t,n).pipe((0,$e.U)(e=>e.map(e=>i&&i.idField?Object.assign(Object.assign({},e.payload.val()),{[i.idField]:e.key}):e.payload.val())),ry.iC)}}(i,this)}object(e){return function(e,t){return{query:e,snapshotChanges:()=>wI(e,t.schedulers.outsideAngular)().pipe(ry.iC),update:t=>e.ref.update(t),set:t=>e.ref.set(t),remove:()=>e.ref.remove(),valueChanges:()=>wI(e,t.schedulers.outsideAngular)().pipe(ry.iC,(0,$e.U)(e=>e.payload.exists()?e.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>hI(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(sy.Dh),i.LFG(sy.xv,8),i.LFG(CI,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(ry.HU),i.LFG(SI,8),i.LFG(lI,8),i.LFG(tI,8),i.LFG(nI,8),i.LFG(iI,8),i.LFG(rI,8),i.LFG(sI,8),i.LFG(oI,8),i.LFG(Xk,8))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),II=(()=>{class e{constructor(){eI.Z.registerVersion("angularfire",ry.q4.full,"rtdb-compat")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[kI]}),e})(),EI=(()=>{class e{constructor(e){this.db=e}AddItem(e){this.itemsRef.push({item_name:e.nombre}).catch(e=>{this.errorMgmt(e)})}GetItem(e){return this.itemRef=this.db.object("items-list/"+e),this.itemRef}GetItemList(){return this.itemsRef=this.db.list("items-list"),this.itemsRef}UpdateItem(e,t){this.itemRef.update({item_name:t.nombre}).catch(e=>{this.errorMgmt(e)})}DeleteItem(e){this.itemRef=this.db.object("items-list/"+e),this.itemRef.remove().catch(e=>{this.errorMgmt(e)})}errorMgmt(e){console.log(e)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(kI))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const TI=["chipList"],xI=["resetItemForm"];function AI(e,t){1&e&&(i.TgZ(0,"mat-error"),i._uU(1," You must provide a"),i.TgZ(2,"strong"),i._uU(3,"nombre"),i.qZA(),i.qZA())}function DI(e,t){1&e&&(i.TgZ(0,"mat-error"),i._uU(1," Date "),i.qZA())}const RI=function(){return["/items-list"]};let OI=(()=>{class e{constructor(e,t){this.fb=e,this.itemApi=t,this.visible=!0,this.selectable=!0,this.removable=!0,this.addOnBlur=!0,this.languageArray=[],this.separatorKeysCodes=[Pe,188],this.BindingType=["Type 1","Type 2"],this.handleError=(e,t)=>this.itemForm.controls[e].hasError(t)}ngOnInit(){this.itemApi.GetItemList(),this.submitItemForm()}remove(e){const t=this.languageArray.indexOf(e);t>=0&&this.languageArray.splice(t,1)}submitItemForm(){this.itemForm=this.fb.group({item_name:["",[Ea.required]],languages:[this.languageArray]})}add(e){const t=e.input,n=e.value;(n||"").trim()&&this.languageArray.length<5&&this.languageArray.push({name:n.trim()}),t&&(t.value="")}formatDate(e){var t=new Date(e.target.value).toISOString().substring(0,10);this.itemForm.get("publication_date").setValue(t,{onlyself:!0})}resetForm(){this.languageArray=[],this.itemForm.reset(),Object.keys(this.itemForm.controls).forEach(e=>{this.itemForm.controls[e].setErrors(null)})}submitItem(){this.itemForm.valid&&(this.itemApi.AddItem(this.itemForm.value),this.resetForm())}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(Tl),i.Y36(EI))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-add-item"]],viewQuery:function(e,t){if(1&e&&(i.Gf(TI,5),i.Gf(xI,5)),2&e){let e;i.iGM(e=i.CRH())&&(t.chipList=e.first),i.iGM(e=i.CRH())&&(t.myNgForm=e.first)}},decls:29,vars:7,consts:[[1,"title-group"],[1,"mat-h1"],["fxFlex","1 0"],[1,"inner-wrapper"],["novalidate","",3,"formGroup","ngSubmit"],["resetBookForm","ngForm"],[1,"controlers-wrapper"],[1,"example-full-width"],["matInput","","placeholder","Item name","formControlName","item_name"],[4,"ngIf"],["matInput","","readonly","","placeholder","Publication date","formControlName","publication_date",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["picker",""],[1,"full-wrapper","button-wrapper"],[1,"button-wrapper"],["mat-flat-button","","color","warn"],["mat-flat-button","","color","war",3,"click"],[1,"example-button-container",2,"position","fixed","right","10px","bottom","10px",3,"routerLink"],["mat-fab","","color","primary"]],template:function(e,t){if(1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"h1",1),i._uU(2,"Add Item"),i.qZA(),i._UZ(3,"mat-divider",2),i.qZA(),i.TgZ(4,"div",3),i.TgZ(5,"form",4,5),i.NdJ("ngSubmit",function(){return t.submitItem()}),i.TgZ(7,"mat-card"),i.TgZ(8,"div",6),i.TgZ(9,"mat-form-field",7),i._UZ(10,"input",8),i.YNc(11,AI,4,0,"mat-error",9),i.qZA(),i.TgZ(12,"mat-form-field"),i.TgZ(13,"input",10),i.NdJ("dateChange",function(e){return t.formatDate(e)}),i.qZA(),i._UZ(14,"mat-datepicker-toggle",11),i._UZ(15,"mat-datepicker",null,12),i.YNc(17,DI,2,0,"mat-error",9),i.qZA(),i.qZA(),i.qZA(),i.TgZ(18,"mat-card"),i.TgZ(19,"div",13),i.TgZ(20,"div",14),i.TgZ(21,"button",15),i._uU(22,"Guardar"),i.qZA(),i.TgZ(23,"button",16),i.NdJ("click",function(){return t.resetForm()}),i._uU(24," Restablecer "),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(25,"div",17),i.TgZ(26,"button",18),i.TgZ(27,"mat-icon"),i._uU(28," < "),i.qZA(),i.qZA(),i.qZA()),2&e){const e=i.MAs(16);i.xp6(5),i.Q6J("formGroup",t.itemForm),i.xp6(6),i.Q6J("ngIf",t.handleError("item_name","required")),i.xp6(2),i.Q6J("matDatepicker",e),i.xp6(1),i.Q6J("for",e),i.xp6(3),i.Q6J("ngIf",t.handleError("publication_date","required")),i.xp6(8),i.Q6J("routerLink",i.DdM(6,RI))}},directives:[Bh,_l,Za,wl,ca,Jc,ba,Ga,Sl,O,Ku,Ju,ra,Zu,bo,R_,Uh,Ko],styles:[""]}),e})();var PI,NI="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},LI={},FI=FI||{},MI=NI||self;function VI(){}function UI(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function qI(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var BI="closure_uid_"+(1e9*Math.random()>>>0),jI=0;function zI(e,t,n){return e.call.apply(e.bind,arguments)}function GI(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ZI(e,t,n){return(ZI=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zI:GI).apply(null,arguments)}function HI(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function YI(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[n].apply(e,r)}}function $I(){this.s=this.s,this.o=this.o}var WI={};$I.prototype.s=!1,$I.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,BI)&&e[BI]||(e[BI]=++jI)}(this);delete WI[e]}},$I.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const KI=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},QI=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const i=e.length,r="string"==typeof e?e.split(""):e;for(let s=0;s<i;s++)s in r&&t.call(n,r[s],s,e)};function JI(e){return Array.prototype.concat.apply([],arguments)}function XI(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function eE(e){return/^[\s\xa0]*$/.test(e)}var tE,nE=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function iE(e,t){return-1!=e.indexOf(t)}function rE(e,t){return e<t?-1:e>t?1:0}e:{var sE=MI.navigator;if(sE){var oE=sE.userAgent;if(oE){tE=oE;break e}}tE=""}function aE(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function lE(e){const t={};for(const n in e)t[n]=e[n];return t}var cE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function uE(e,t){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)e[n]=i[n];for(let t=0;t<cE.length;t++)n=cE[t],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function hE(e){return hE[" "](e),e}hE[" "]=VI;var dE,pE,fE=iE(tE,"Opera"),mE=iE(tE,"Trident")||iE(tE,"MSIE"),gE=iE(tE,"Edge"),_E=gE||mE,yE=iE(tE,"Gecko")&&!(iE(tE.toLowerCase(),"webkit")&&!iE(tE,"Edge"))&&!(iE(tE,"Trident")||iE(tE,"MSIE"))&&!iE(tE,"Edge"),vE=iE(tE.toLowerCase(),"webkit")&&!iE(tE,"Edge");function bE(){var e=MI.document;return e?e.documentMode:void 0}e:{var wE="",CE=(pE=tE,yE?/rv:([^\);]+)(\)|;)/.exec(pE):gE?/Edge\/([\d\.]+)/.exec(pE):mE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(pE):vE?/WebKit\/(\S+)/.exec(pE):fE?/(?:Version)[ \/]?(\S+)/.exec(pE):void 0);if(CE&&(wE=CE?CE[1]:""),mE){var SE=bE();if(null!=SE&&SE>parseFloat(wE)){dE=String(SE);break e}}dE=wE}var kE={};var IE=MI.document&&mE&&(bE()||parseInt(dE,10))||void 0,EE=function(){if(!MI.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{MI.addEventListener("test",VI,t),MI.removeEventListener("test",VI,t)}catch(n){}return e}();function TE(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function xE(e,t){if(TE.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(yE){e:{try{hE(t.nodeName);var r=!0;break e}catch(s){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:AE[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&xE.Z.h.call(this)}}TE.prototype.h=function(){this.defaultPrevented=!0},YI(xE,TE);var AE={2:"touch",3:"pen",4:"mouse"};xE.prototype.h=function(){xE.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var DE="closure_listenable_"+(1e6*Math.random()|0),RE=0;function OE(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ia=r,this.key=++RE,this.ca=this.fa=!1}function PE(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function NE(e){this.src=e,this.g={},this.h=0}function LE(e,t){var n=t.type;if(n in e.g){var i,r=e.g[n],s=KI(r,t);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(PE(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function FE(e,t,n,i){for(var r=0;r<e.length;++r){var s=e[r];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==i)return r}return-1}NE.prototype.add=function(e,t,n,i,r){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=FE(e,t,i,r);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new OE(t,this.src,s,!!i,r)).fa=n,e.push(t)),t};var ME="closure_lm_"+(1e6*Math.random()|0),VE={};function UE(e,t,n,i,r){if(i&&i.once)return BE(e,t,n,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)UE(e,t[s],n,i,r);return null}return n=$E(n),e&&e[DE]?e.N(t,n,qI(i)?!!i.capture:!!i,r):qE(e,t,n,!1,i,r)}function qE(e,t,n,i,r,s){if(!t)throw Error("Invalid event type");var o=qI(r)?!!r.capture:!!r,a=HE(e);if(a||(e[ME]=a=new NE(e)),(n=a.add(t,n,i,o,s)).proxy)return n;if(i=function(){var e=ZE;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)EE||(r=o),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(GE(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}return n}function BE(e,t,n,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)BE(e,t[s],n,i,r);return null}return n=$E(n),e&&e[DE]?e.O(t,n,qI(i)?!!i.capture:!!i,r):qE(e,t,n,!0,i,r)}function jE(e,t,n,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)jE(e,t[s],n,i,r);else i=qI(i)?!!i.capture:!!i,n=$E(n),e&&e[DE]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=FE(s=e.g[t],n,i,r))&&(PE(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=HE(e))&&(t=e.g[t.toString()],e=-1,t&&(e=FE(t,n,i,r)),(n=-1<e?t[e]:null)&&zE(n))}function zE(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[DE])LE(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(GE(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=HE(t))?(LE(n,e),0==n.h&&(n.src=null,t[ME]=null)):PE(e)}}}function GE(e){return e in VE?VE[e]:VE[e]="on"+e}function ZE(e,t){if(e.ca)e=!0;else{t=new xE(t,this);var n=e.listener,i=e.ia||e.src;e.fa&&zE(e),e=n.call(i,t)}return e}function HE(e){return(e=e[ME])instanceof NE?e:null}var YE="__closure_events_fn_"+(1e9*Math.random()>>>0);function $E(e){return"function"==typeof e?e:(e[YE]||(e[YE]=function(t){return e.handleEvent(t)}),e[YE])}function WE(){$I.call(this),this.i=new NE(this),this.P=this,this.I=null}function KE(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,"string"==typeof t)t=new TE(t,e);else if(t instanceof TE)t.target=t.target||e;else{var r=t;uE(t=new TE(i,e),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];r=QE(o,i,!0,t)&&r}if(r=QE(o=t.g=e,i,!0,t)&&r,r=QE(o,i,!1,t)&&r,n)for(s=0;s<n.length;s++)r=QE(o=t.g=n[s],i,!1,t)&&r}function QE(e,t,n,i){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&LE(e.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}YI(WE,$I),WE.prototype[DE]=!0,WE.prototype.removeEventListener=function(e,t,n,i){jE(this,e,t,n,i)},WE.prototype.M=function(){if(WE.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)PE(n[i]);delete t.g[e],t.h--}}this.I=null},WE.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)},WE.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};var JE=MI.JSON.stringify;function XE(){var e=oT;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var eT,tT=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new nT,e=>e.reset());class nT{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function iT(e){MI.setTimeout(()=>{throw e},0)}function rT(e,t){eT||function(){var e=MI.Promise.resolve(void 0);eT=function(){e.then(aT)}}(),sT||(eT(),sT=!0),oT.add(e,t)}var sT=!1,oT=new class{constructor(){this.h=this.g=null}add(e,t){const n=tT.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function aT(){for(var e;e=XE();){try{e.h.call(e.g)}catch(n){iT(n)}var t=tT;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}sT=!1}function lT(e,t){WE.call(this),this.h=e||1,this.g=t||MI,this.j=ZI(this.kb,this),this.l=Date.now()}function cT(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function uT(e,t,n){if("function"==typeof e)n&&(e=ZI(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ZI(e.handleEvent,e)}return 2147483647<Number(t)?-1:MI.setTimeout(e,t||0)}function hT(e){e.g=uT(()=>{e.g=null,e.i&&(e.i=!1,hT(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}YI(lT,WE),(PI=lT.prototype).da=!1,PI.S=null,PI.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),KE(this,"tick"),this.da&&(cT(this),this.start()))}},PI.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},PI.M=function(){lT.Z.M.call(this),cT(this),delete this.g};class dT extends $I{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:hT(this)}M(){super.M(),this.g&&(MI.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pT(e){$I.call(this),this.h=e,this.g={}}YI(pT,$I);var fT=[];function mT(e,t,n,i){Array.isArray(n)||(n&&(fT[0]=n.toString()),n=fT);for(var r=0;r<n.length;r++){var s=UE(t,n[r],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function gT(e){aE(e.g,function(e,t){this.g.hasOwnProperty(t)&&zE(e)},e),e.g={}}function _T(){this.g=!0}function yT(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return JE(n)}catch(a){return t}}(e,n)+(i?" "+i:"")})}pT.prototype.M=function(){pT.Z.M.call(this),gT(this)},pT.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_T.prototype.Aa=function(){this.g=!1},_T.prototype.info=function(){};var vT={},bT=null;function wT(){return bT=bT||new WE}function CT(e){TE.call(this,vT.Ma,e)}function ST(e){const t=wT();KE(t,new CT(t,e))}function kT(e,t){TE.call(this,vT.STAT_EVENT,e),this.stat=t}function IT(e){const t=wT();KE(t,new kT(t,e))}function ET(e,t){TE.call(this,vT.Na,e),this.size=t}function TT(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return MI.setTimeout(function(){e()},t)}vT.Ma="serverreachability",YI(CT,TE),vT.STAT_EVENT="statevent",YI(kT,TE),vT.Na="timingevent",YI(ET,TE);var xT={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},AT={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function DT(){}function RT(){}DT.prototype.h=null;var OT,PT={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function NT(){TE.call(this,"d")}function LT(){TE.call(this,"c")}function FT(){}function MT(e,t,n,i){this.l=e,this.j=t,this.m=n,this.X=i||1,this.V=new pT(this),this.P=UT,this.W=new lT(e=_E?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new VT}function VT(){this.i=null,this.g="",this.h=!1}YI(NT,TE),YI(LT,TE),YI(FT,DT),FT.prototype.g=function(){return new XMLHttpRequest},FT.prototype.i=function(){return{}},OT=new FT;var UT=45e3,qT={},BT={};function jT(e,t,n){e.K=1,e.v=hx(sx(t)),e.s=n,e.U=!0,zT(e,null)}function zT(e,t){e.F=Date.now(),YT(e),e.A=sx(e.v);var n=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),kx(n.h,"t",i),e.C=0,n=e.l.H,e.h=new VT,e.g=kA(e.l,n?t:null,!e.s),0<e.O&&(e.L=new dT(ZI(e.Ia,e,e.g),e.O)),mT(e.V,e.g,"readystatechange",e.gb),t=e.H?lE(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ST(1),function(e,t,n,i,r,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function GT(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function ZT(e,t,n){let i,r=!0;for(;!e.I&&e.C<n.length;){if(i=HT(e,n),i==BT){4==t&&(e.o=4,IT(14),r=!1),yT(e.j,e.m,null,"[Incomplete Response]");break}if(i==qT){e.o=4,IT(15),yT(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}yT(e.j,e.m,i,null),JT(e,i)}GT(e)&&i!=BT&&i!=qT&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,IT(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),gA(t),t.L=!0,IT(11))):(yT(e.j,e.m,n,"[Invalid Chunked Response]"),QT(e),KT(e))}function HT(e,t){var n=e.C,i=t.indexOf("\n",n);return-1==i?BT:(n=Number(t.substring(n,i)),isNaN(n)?qT:(i+=1)+n>t.length?BT:(t=t.substr(i,n),e.C=i+n,t))}function YT(e){e.Y=Date.now()+e.P,$T(e,e.P)}function $T(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=TT(ZI(e.eb,e),t)}function WT(e){e.B&&(MI.clearTimeout(e.B),e.B=null)}function KT(e){0==e.l.G||e.I||vA(e.l,e)}function QT(e){WT(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,cT(e.W),gT(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function JT(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Dx(n.i,e)))if(n.I=e.N,!e.J&&Dx(n.i,e)&&3==n.G){try{var i=n.Ca.g.parse(t)}catch(c){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;yA(n),aA(n)}mA(n),IT(18)}}else n.ta=r[1],0<n.ta-n.U&&37500>r[2]&&n.N&&0==n.A&&!n.v&&(n.v=TT(ZI(n.ab,n),6e3));if(1>=Ax(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else wA(n,11)}else if((e.J||n.g==e)&&yA(n),!eE(t))for(r=n.Ca.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const t=c[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const r=c[4];null!=r&&(n.za=r,n.h.info("SVER="+n.za));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(n.K=i=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=i.i;!s.g&&(iE(e,"spdy")||iE(e,"quic")||iE(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Rx(s,s.h),s.h=null))}if(i.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(i.sa=e,ux(i.F,i.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=e;if((i=n).oa=SA(i,i.H?i.la:null,i.W),o.J){Ox(i.i,o);var a=o,l=i.K;l&&a.setTimeout(l),a.B&&(WT(a),YT(a)),i.g=o}else fA(i);0<n.l.length&&uA(n)}else"stop"!=c[0]&&"close"!=c[0]||wA(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?wA(n,7):oA(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}ST(4)}catch(c){}}function XT(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(UI(e)||"string"==typeof e)QI(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(UI(e)||"string"==typeof e){n=[];for(var i=e.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,e)n[i++]=r;r=(i=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(UI(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}for(i in t=[],n=0,e)t[n++]=e[i];return t}(e)).length;for(var s=0;s<r;s++)t.call(void 0,i[s],n&&n[s],e)}}function ex(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof ex)for(n=e.T(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}function tx(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var i=e.g[t];nx(e.h,i)&&(e.g[n++]=i),t++}e.g.length=n}if(e.i!=e.g.length){var r={};for(n=t=0;t<e.g.length;)nx(r,i=e.g[t])||(e.g[n++]=i,r[i]=1),t++;e.g.length=n}}function nx(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(PI=MT.prototype).setTimeout=function(e){this.P=e},PI.gb=function(e){e=e.target;const t=this.L;t&&3==tA(e)?t.l():this.Ia(e)},PI.Ia=function(e){try{if(e==this.g)e:{const u=tA(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>u)&&(3!=u||_E||this.g&&(this.h.h||this.g.ga()||nA(this.g)))){this.I||4!=u||7==t||ST(8==t||0>=h?3:2),WT(this);var n=this.g.ba();this.N=n;t:if(GT(this)){var i=nA(this.g);e="";var r=i.length,s=4==tA(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){QT(this),KT(this);var o="";break t}this.h.i=new MI.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(e,t,n,i,r,s,o){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!eE(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,IT(12),QT(this),KT(this);break e}yT(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,JT(this,n)}this.U?(ZT(this,u,o),_E&&this.i&&3==u&&(mT(this.V,this.W,"tick",this.fb),this.W.start())):(yT(this.j,this.m,o,null),JT(this,o)),4==u&&QT(this),this.i&&!this.I&&(4==u?vA(this.l,this):(this.i=!1,YT(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,IT(12)):(this.o=0,IT(13)),QT(this),KT(this)}}}catch(u){}},PI.fb=function(){if(this.g){var e=tA(this.g),t=this.g.ga();this.C<t.length&&(WT(this),ZT(this,e,t),this.i&&4!=e&&YT(this))}},PI.cancel=function(){this.I=!0,QT(this)},PI.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(ST(3),IT(17)),QT(this),this.o=2,KT(this)):$T(this,this.Y-e)},(PI=ex.prototype).R=function(){tx(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},PI.T=function(){return tx(this),this.g.concat()},PI.get=function(e,t){return nx(this.h,e)?this.h[e]:t},PI.set=function(e,t){nx(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},PI.forEach=function(e,t){for(var n=this.T(),i=0;i<n.length;i++){var r=n[i],s=this.get(r);e.call(t,s,r,this)}};var ix=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function rx(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof rx){this.g=void 0!==t?t:e.g,ox(this,e.j),this.s=e.s,ax(this,e.i),lx(this,e.m),this.l=e.l,t=e.h;var n=new bx;n.i=t.i,t.g&&(n.g=new ex(t.g),n.h=t.h),cx(this,n),this.o=e.o}else e&&(n=String(e).match(ix))?(this.g=!!t,ox(this,n[1]||"",!0),this.s=dx(n[2]||""),ax(this,n[3]||"",!0),lx(this,n[4]),this.l=dx(n[5]||"",!0),cx(this,n[6]||"",!0),this.o=dx(n[7]||"")):(this.g=!!t,this.h=new bx(null,this.g))}function sx(e){return new rx(e)}function ox(e,t,n){e.j=n?dx(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ax(e,t,n){e.i=n?dx(t,!0):t}function lx(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function cx(e,t,n){t instanceof bx?(e.h=t,function(e,t){t&&!e.j&&(wx(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Cx(this,t),kx(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=px(t,yx)),e.h=new bx(t,e.g))}function ux(e,t,n){e.h.set(t,n)}function hx(e){return ux(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dx(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function px(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,fx),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function fx(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}rx.prototype.toString=function(){var e=[],t=this.j;t&&e.push(px(t,mx,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(px(t,mx,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(px(n,"/"==n.charAt(0)?_x:gx,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",px(n,vx)),e.join("")};var mx=/[#\/\?@]/g,gx=/[#\?:]/g,_x=/[#\?]/g,yx=/[#\?@]/g,vx=/#/g;function bx(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wx(e){e.g||(e.g=new ex,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var s=e[n].substring(0,i);r=e[n].substring(i+1)}else s=e[n];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Cx(e,t){wx(e),t=Ix(e,t),nx(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,nx((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&tx(e)))}function Sx(e,t){return wx(e),t=Ix(e,t),nx(e.g.h,t)}function kx(e,t,n){Cx(e,t),0<n.length&&(e.i=null,e.g.set(Ix(e,t),XI(n)),e.h+=n.length)}function Ix(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ex(e){this.l=e||Tx,e=MI.PerformanceNavigationTiming?0<(e=MI.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(MI.g&&MI.g.Ea&&MI.g.Ea()&&MI.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(PI=bx.prototype).add=function(e,t){wx(this),this.i=null,e=Ix(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},PI.forEach=function(e,t){wx(this),this.g.forEach(function(n,i){QI(n,function(n){e.call(t,n,i,this)},this)},this)},PI.T=function(){wx(this);for(var e=this.g.R(),t=this.g.T(),n=[],i=0;i<t.length;i++)for(var r=e[i],s=0;s<r.length;s++)n.push(t[i]);return n},PI.R=function(e){wx(this);var t=[];if("string"==typeof e)Sx(this,e)&&(t=JI(t,this.g.get(Ix(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=JI(t,e[n])}return t},PI.set=function(e,t){return wx(this),this.i=null,Sx(this,e=Ix(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},PI.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},PI.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var i=t[n],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var o=r;""!==i[s]&&(o+="="+encodeURIComponent(String(i[s]))),e.push(o)}}return this.i=e.join("&")};var Tx=10;function xx(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ax(e){return e.h?1:e.g?e.g.size:0}function Dx(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Rx(e,t){e.g?e.g.add(t):e.h=t}function Ox(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Px(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return XI(e.i)}function Nx(){}function Lx(){this.g=new Nx}function Fx(e,t,n){const i=n||"";try{XT(e,function(e,n){let r=e;qI(e)&&(r=JE(e)),t.push(i+n+"="+encodeURIComponent(r))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Mx(e,t,n,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(s){}}function Vx(e){this.l=e.$b||null,this.j=e.ib||!1}function Ux(e,t){WE.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=qx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ex.prototype.cancel=function(){if(this.i=Px(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},Nx.prototype.stringify=function(e){return MI.JSON.stringify(e,void 0)},Nx.prototype.parse=function(e){return MI.JSON.parse(e,void 0)},YI(Vx,DT),Vx.prototype.g=function(){return new Ux(this.l,this.j)},Vx.prototype.i=function(e){return function(){return e}}({}),YI(Ux,WE);var qx=0;function Bx(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function jx(e){e.readyState=4,e.l=null,e.j=null,e.A=null,zx(e)}function zx(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(PI=Ux.prototype).open=function(e,t){if(this.readyState!=qx)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,zx(this)},PI.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||MI).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},PI.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jx(this)),this.readyState=qx},PI.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,zx(this)),this.g&&(this.readyState=3,zx(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==MI.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Bx(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},PI.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jx(this):zx(this),3==this.readyState&&Bx(this)}},PI.Ua=function(e){this.g&&(this.response=this.responseText=e,jx(this))},PI.Ta=function(e){this.g&&(this.response=e,jx(this))},PI.ha=function(){this.g&&jx(this)},PI.setRequestHeader=function(e,t){this.v.append(e,t)},PI.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},PI.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ux.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Gx=MI.JSON.parse;function Zx(e){WE.call(this),this.headers=new ex,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Hx,this.K=this.L=!1}YI(Zx,WE);var Hx="",Yx=/^https?$/i,$x=["POST","PUT"];function Wx(e){return"content-type"==e.toLowerCase()}function Kx(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Qx(e),Xx(e)}function Qx(e){e.D||(e.D=!0,KE(e,"complete"),KE(e,"error"))}function Jx(e){if(e.h&&void 0!==FI&&(!e.C[1]||4!=tA(e)||2!=e.ba()))if(e.v&&4==tA(e))uT(e.Fa,0,e);else if(KE(e,"readystatechange"),4==tA(e)){e.h=!1;try{const l=e.ba();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===l){var r=String(e.H).match(ix)[1]||null;if(!r&&MI.self&&MI.self.location){var s=MI.self.location.protocol;r=s.substr(0,s.length-1)}i=!Yx.test(r?r.toLowerCase():"")}n=i}if(n)KE(e,"complete"),KE(e,"success");else{e.m=6;try{var o=2<tA(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.ba()+"]",Qx(e)}}finally{Xx(e)}}}function Xx(e,t){if(e.g){eA(e);const i=e.g,r=e.C[0]?VI:null;e.g=null,e.C=null,t||KE(e,"ready");try{i.onreadystatechange=r}catch(n){}}}function eA(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(MI.clearTimeout(e.A),e.A=null)}function tA(e){return e.g?e.g.readyState:0}function nA(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Hx:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function iA(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=function(e){let t="";return aE(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):ux(e,t,n))}function rA(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function sA(e){this.za=0,this.l=[],this.h=new _T,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=rA("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=rA("baseRetryDelayMs",5e3,e),this.$a=rA("retryDelaySeedMs",1e4,e),this.Ya=rA("forwardChannelMaxRetries",2,e),this.ra=rA("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ex(e&&e.concurrentRequestLimit),this.Ca=new Lx,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function oA(e){if(lA(e),3==e.G){var t=e.V++,n=sx(e.F);ux(n,"SID",e.J),ux(n,"RID",t),ux(n,"TYPE","terminate"),dA(e,n),(t=new MT(e,e.h,t,void 0)).K=2,t.v=hx(sx(n)),n=!1,MI.navigator&&MI.navigator.sendBeacon&&(n=MI.navigator.sendBeacon(t.v.toString(),"")),!n&&MI.Image&&((new Image).src=t.v,n=!0),n||(t.g=kA(t.l,null),t.g.ea(t.v)),t.F=Date.now(),YT(t)}CA(e)}function aA(e){e.g&&(gA(e),e.g.cancel(),e.g=null)}function lA(e){aA(e),e.u&&(MI.clearTimeout(e.u),e.u=null),yA(e),e.i.cancel(),e.m&&("number"==typeof e.m&&MI.clearTimeout(e.m),e.m=null)}function cA(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&uA(e)}function uA(e){xx(e.i)||e.m||(e.m=!0,rT(e.Ha,e),e.C=0)}function hA(e,t){var n;n=t?t.m:e.V++;const i=sx(e.F);ux(i,"SID",e.J),ux(i,"RID",n),ux(i,"AID",e.U),dA(e,i),e.o&&e.s&&iA(i,e.o,e.s),n=new MT(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=pA(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Rx(e.i,n),jT(n,i,t)}function dA(e,t){e.j&&XT({},function(e,n){ux(t,n,e)})}function pA(e,t,n){n=Math.min(e.l.length,n);var i=e.j?ZI(e.j.Oa,e.j,e):null;e:{var r=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=r[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=r[a].h;const l=r[a].g;if(n-=t,0>n)t=Math.max(0,r[a].h-100),o=!1;else try{Fx(l,e,"req"+n+"_")}catch(s){i&&i(l)}}if(o){i=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,i}function fA(e){e.g||e.u||(e.Y=1,rT(e.Ga,e),e.A=0)}function mA(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=TT(ZI(e.Ga,e),bA(e,e.A)),e.A++,0))}function gA(e){null!=e.B&&(MI.clearTimeout(e.B),e.B=null)}function _A(e){e.g=new MT(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=sx(e.oa);ux(t,"RID","rpc"),ux(t,"SID",e.J),ux(t,"CI",e.N?"0":"1"),ux(t,"AID",e.U),dA(e,t),ux(t,"TYPE","xmlhttp"),e.o&&e.s&&iA(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=hx(sx(t)),n.s=null,n.U=!0,zT(n,e)}function yA(e){null!=e.v&&(MI.clearTimeout(e.v),e.v=null)}function vA(e,t){var n=null;if(e.g==t){yA(e),gA(e),e.g=null;var i=2}else{if(!Dx(e.i,t))return;n=t.D,Ox(e.i,t),i=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==i){n=t.s?t.s.length:0,t=Date.now()-t.F;var r=e.C;KE(i=wT(),new ET(i,n,t,r)),uA(e)}else fA(e);else if(3==(r=t.o)||0==r&&0<e.I||!(1==i&&function(e,t){return!(Ax(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=TT(ZI(e.Ha,e,t),bA(e,e.C)),e.C++,0)))}(e,t)||2==i&&mA(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),r){case 1:wA(e,5);break;case 4:wA(e,10);break;case 3:wA(e,6);break;default:wA(e,2)}}function bA(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function wA(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var i=ZI(e.jb,e);n||(n=new rx("//www.google.com/images/cleardot.gif"),MI.location&&"http"==MI.location.protocol||ox(n,"https"),hx(n)),function(e,t){const n=new _T;if(MI.Image){const i=new Image;i.onload=HI(Mx,n,i,"TestLoadImage: loaded",!0,t),i.onerror=HI(Mx,n,i,"TestLoadImage: error",!1,t),i.onabort=HI(Mx,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=HI(Mx,n,i,"TestLoadImage: timeout",!1,t),MI.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}(n.toString(),i)}else IT(2);e.G=0,e.j&&e.j.va(t),CA(e),lA(e)}function CA(e){e.G=0,e.I=-1,e.j&&(0==Px(e.i).length&&0==e.l.length||(e.i.i.length=0,XI(e.l),e.l.length=0),e.j.ua())}function SA(e,t,n){let i=function(e){return e instanceof rx?sx(e):new rx(e,void 0)}(n);if(""!=i.i)t&&ax(i,t+"."+i.i),lx(i,i.m);else{const e=MI.location;i=function(e,t,n,i){var r=new rx(null,void 0);return e&&ox(r,e),t&&ax(r,t),n&&lx(r,n),i&&(r.l=i),r}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&aE(e.aa,function(e,t){ux(i,t,e)}),n=e.sa,(t=e.D)&&n&&ux(i,t,n),ux(i,"VER",e.ma),dA(e,i),i}function kA(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Zx(n&&e.Ba&&!e.qa?new Vx({ib:!0}):e.qa)).L=e.H,t}function IA(){}function EA(){if(mE&&!(10<=Number(IE)))throw Error("Environmental error: no available transport.")}function TA(e,t){WE.call(this),this.g=new sA(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!eE(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!eE(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new DA(this)}function xA(e){NT.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function AA(){LT.call(this),this.status=1}function DA(e){this.g=e}(PI=Zx.prototype).ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():OT.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:OT),this.g.onreadystatechange=ZI(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Kx(this,s)}e=n||"";const r=new ex(this.headers);i&&XT(i,function(e,t){r.set(t,e)}),i=function(e){e:{var t=Wx;const n=e.length,i="string"==typeof e?e.split(""):e;for(let r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e)){t=r;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(r.T()),n=MI.FormData&&e instanceof MI.FormData,!(0<=KI($x,t))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{eA(this),0<this.B&&((this.K=function(e){return mE&&function(){return e=kE,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let e=0;const t=nE(String(dE)).split("."),n=nE("9").split("."),i=Math.max(t.length,n.length);for(let o=0;0==e&&o<i;o++){var r=t[o]||"",s=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;e=rE(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||rE(0==r[2].length,0==s[2].length)||rE(r[2],s[2]),r=r[3],s=s[3]}while(0==e)}return 0<=e}();var e}()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ZI(this.pa,this)):this.A=uT(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Kx(this,s)}},PI.pa=function(){void 0!==FI&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,KE(this,"timeout"),this.abort(8))},PI.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,KE(this,"complete"),KE(this,"abort"),Xx(this))},PI.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xx(this,!0)),Zx.Z.M.call(this)},PI.Fa=function(){this.s||(this.F||this.v||this.l?Jx(this):this.cb())},PI.cb=function(){Jx(this)},PI.ba=function(){try{return 2<tA(this)?this.g.status:-1}catch(pE){return-1}},PI.ga=function(){try{return this.g?this.g.responseText:""}catch(pE){return""}},PI.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Gx(t)}},PI.Da=function(){return this.m},PI.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(PI=sA.prototype).ma=8,PI.G=1,PI.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},PI.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const r=new MT(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=lE(s),uE(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var i=this.l[n];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=pA(this,r,t),ux(n=sx(this.F),"RID",e),ux(n,"CVER",22),this.D&&ux(n,"X-HTTP-Session-Id",this.D),dA(this,n),this.o&&s&&iA(n,this.o,s),Rx(this.i,r),this.Ra&&ux(n,"TYPE","init"),this.ja?(ux(n,"$req",t),ux(n,"SID","null"),r.$=!0,jT(r,n,null)):jT(r,n,t),this.G=2}}else 3==this.G&&(e?hA(this,e):0==this.l.length||xx(this.i)||hA(this))},PI.Ga=function(){if(this.u=null,_A(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=TT(ZI(this.bb,this),e)}},PI.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,IT(10),aA(this),_A(this))},PI.ab=function(){null!=this.v&&(this.v=null,aA(this),mA(this),IT(19))},PI.jb=function(e){e?(this.h.info("Successfully pinged google.com"),IT(2)):(this.h.info("Failed to ping google.com"),IT(1))},(PI=IA.prototype).xa=function(){},PI.wa=function(){},PI.va=function(){},PI.ua=function(){},PI.Oa=function(){},EA.prototype.g=function(e,t){return new TA(e,t)},YI(TA,WE),TA.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),rT(ZI(e.hb,e,t))),IT(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=SA(e,null,e.W),uA(e)},TA.prototype.close=function(){oA(this.g)},TA.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,cA(this.g,t)}else this.v?((t={}).__data__=JE(e),cA(this.g,t)):cA(this.g,e)},TA.prototype.M=function(){this.g.j=null,delete this.j,oA(this.g),delete this.g,TA.Z.M.call(this)},YI(xA,NT),YI(AA,LT),YI(DA,IA),DA.prototype.xa=function(){KE(this.g,"a")},DA.prototype.wa=function(e){KE(this.g,new xA(e))},DA.prototype.va=function(e){KE(this.g,new AA(e))},DA.prototype.ua=function(){KE(this.g,"b")},EA.prototype.createWebChannel=EA.prototype.g,TA.prototype.send=TA.prototype.u,TA.prototype.open=TA.prototype.m,TA.prototype.close=TA.prototype.close,xT.NO_ERROR=0,xT.TIMEOUT=8,xT.HTTP_ERROR=6,AT.COMPLETE="complete",RT.EventType=PT,PT.OPEN="a",PT.CLOSE="b",PT.ERROR="c",PT.MESSAGE="d",WE.prototype.listen=WE.prototype.N,Zx.prototype.listenOnce=Zx.prototype.O,Zx.prototype.getLastError=Zx.prototype.La,Zx.prototype.getLastErrorCode=Zx.prototype.Da,Zx.prototype.getStatus=Zx.prototype.ba,Zx.prototype.getResponseJson=Zx.prototype.Qa,Zx.prototype.getResponseText=Zx.prototype.ga,Zx.prototype.send=Zx.prototype.ea;var RA=LI.createWebChannelTransport=function(){return new EA},OA=LI.getStatEventTarget=function(){return wT()},PA=LI.ErrorCode=xT,NA=LI.EventType=AT,LA=LI.Event=vT,FA=LI.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},MA=LI.FetchXmlHttpFactory=Vx,VA=LI.WebChannel=RT,UA=LI.XhrIo=Zx;const qA="@firebase/firestore";class BA{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}BA.UNAUTHENTICATED=new BA(null),BA.GOOGLE_CREDENTIALS=new BA("google-credentials-uid"),BA.FIRST_PARTY=new BA("first-party-uid"),BA.MOCK_USER=new BA("mock-user");let jA="9.8.0";const zA=new hy.Yd("@firebase/firestore");function GA(){return zA.logLevel}function ZA(e,...t){if(zA.logLevel<=hy.in.DEBUG){const n=t.map($A);zA.debug(`Firestore (${jA}): ${e}`,...n)}}function HA(e,...t){if(zA.logLevel<=hy.in.ERROR){const n=t.map($A);zA.error(`Firestore (${jA}): ${e}`,...n)}}function YA(e,...t){if(zA.logLevel<=hy.in.WARN){const n=t.map($A);zA.warn(`Firestore (${jA}): ${e}`,...n)}}function $A(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function WA(e="Unexpected state"){const t=`FIRESTORE (${jA}) INTERNAL ASSERTION FAILED: `+e;throw HA(t),new Error(t)}function KA(e,t){e||WA()}function QA(e,t){return e}const JA={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class XA extends uy.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class eD{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class tD{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(BA.UNAUTHENTICATED))}shutdown(){}}class iD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rD{constructor(e){this.t=e,this.currentUser=BA.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var n=this;let i=this.i;const r=e=>this.i!==i?(i=this.i,t(e)):Promise.resolve();let s=new eD;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new eD,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=s;e.enqueueRetryable((0,ly.Z)(function*(){yield t.promise,yield r(n.currentUser)}))},a=e=>{ZA("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(ZA("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new eD)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(ZA("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(KA("string"==typeof t.accessToken),new tD(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return KA(null===e||"string"==typeof e),new BA(e)}}class sD{constructor(e,t,n){this.type="FirstParty",this.user=BA.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class oD{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new sD(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(BA.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lD{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const n=e=>{null!=e.error&&ZA("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.p;return this.p=e.token,ZA("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const i=e=>{ZA("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit(e=>i(e)),setTimeout(()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?i(e):ZA("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(KA("string"==typeof e.token),this.p=e.token,new aD(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class cD{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.I(e),this.T=e=>t.writeSequenceNumber(e))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function uD(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}cD.A=-1;class hD{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=uD(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<t&&(n+=e.charAt(i[r]%e.length))}return n}}function dD(e,t){return e<t?-1:e>t?1:0}function pD(e,t,n){return e.length===t.length&&e.every((e,i)=>n(e,t[i]))}function fD(e){return e+"\0"}class mD{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new XA(JA.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new XA(JA.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new XA(JA.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new XA(JA.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mD.fromMillis(Date.now())}static fromDate(e){return mD.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new mD(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?dD(this.nanoseconds,e.nanoseconds):dD(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gD{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gD(e)}static min(){return new gD(new mD(0,0))}static max(){return new gD(new mD(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function _D(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function yD(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function vD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class bD{constructor(e,t,n){void 0===t?t=0:t>e.length&&WA(),void 0===n?n=e.length-t:n>e.length-t&&WA(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===bD.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof bD?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const n=e.get(i),r=t.get(i);if(n<r)return-1;if(n>r)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class wD extends bD{construct(e,t,n){return new wD(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new XA(JA.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new wD(t)}static emptyPath(){return new wD([])}}const CD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class SD extends bD{construct(e,t,n){return new SD(e,t,n)}static isValidIdentifier(e){return CD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),SD.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new SD(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const r=()=>{if(0===n.length)throw new XA(JA.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;i<e.length;){const t=e[i];if("\\"===t){if(i+1===e.length)throw new XA(JA.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[i+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new XA(JA.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,i+=2}else"`"===t?(s=!s,i++):"."!==t||s?(n+=t,i++):(r(),i++)}if(r(),s)throw new XA(JA.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new SD(t)}static emptyPath(){return new SD([])}}class kD{constructor(e){this.fields=e,e.sort(SD.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pD(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class ID{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ID(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ID(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dD(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ID.EMPTY_BYTE_STRING=new ID("");const ED=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function TD(e){if(KA(!!e),"string"==typeof e){let t=0;const n=ED.exec(e);if(KA(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:xD(e.seconds),nanos:xD(e.nanos)}}function xD(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function AD(e){return"string"==typeof e?ID.fromBase64String(e):ID.fromUint8Array(e)}function DD(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function RD(e){const t=e.mapValue.fields.__previous_value__;return DD(t)?RD(t):t}function OD(e){const t=TD(e.mapValue.fields.__local_write_time__.timestampValue);return new mD(t.seconds,t.nanos)}class PD{constructor(e,t,n,i,r,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class ND{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ND("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ND&&e.projectId===this.projectId&&e.database===this.database}}function LD(e){return null==e}function FD(e){return 0===e&&1/e==-1/0}function MD(e){return"number"==typeof e&&Number.isInteger(e)&&!FD(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class VD{constructor(e){this.path=e}static fromPath(e){return new VD(wD.fromString(e))}static fromName(e){return new VD(wD.fromString(e).popFirst(5))}static empty(){return new VD(wD.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===wD.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return wD.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new VD(new wD(e.slice()))}}const UD={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},qD={nullValue:"NULL_VALUE"};function BD(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?DD(e)?4:tR(e)?9007199254740991:10:WA()}function jD(e,t){if(e===t)return!0;const n=BD(e);if(n!==BD(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return OD(e).isEqual(OD(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=TD(e.timestampValue),i=TD(t.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return AD(e.bytesValue).isEqual(AD(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return xD(e.geoPointValue.latitude)===xD(t.geoPointValue.latitude)&&xD(e.geoPointValue.longitude)===xD(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return xD(e.integerValue)===xD(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=xD(e.doubleValue),i=xD(t.doubleValue);return n===i?FD(n)===FD(i):isNaN(n)&&isNaN(i)}return!1}(e,t);case 9:return pD(e.arrayValue.values||[],t.arrayValue.values||[],jD);case 10:return function(e,t){const n=e.mapValue.fields||{},i=t.mapValue.fields||{};if(_D(n)!==_D(i))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!jD(n[r],i[r])))return!1;return!0}(e,t);default:return WA()}}function zD(e,t){return void 0!==(e.values||[]).find(e=>jD(e,t))}function GD(e,t){if(e===t)return 0;const n=BD(e),i=BD(t);if(n!==i)return dD(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return dD(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=xD(e.integerValue||e.doubleValue),i=xD(t.integerValue||t.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(e,t);case 3:return ZD(e.timestampValue,t.timestampValue);case 4:return ZD(OD(e),OD(t));case 5:return dD(e.stringValue,t.stringValue);case 6:return function(e,t){const n=AD(e),i=AD(t);return n.compareTo(i)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),i=t.split("/");for(let r=0;r<n.length&&r<i.length;r++){const e=dD(n[r],i[r]);if(0!==e)return e}return dD(n.length,i.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=dD(xD(e.latitude),xD(t.latitude));return 0!==n?n:dD(xD(e.longitude),xD(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const e=GD(n[r],i[r]);if(e)return e}return dD(n.length,i.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===UD.mapValue&&t===UD.mapValue)return 0;if(e===UD.mapValue)return 1;if(t===UD.mapValue)return-1;const n=e.fields||{},i=Object.keys(n),r=t.fields||{},s=Object.keys(r);i.sort(),s.sort();for(let o=0;o<i.length&&o<s.length;++o){const e=dD(i[o],s[o]);if(0!==e)return e;const t=GD(n[i[o]],r[s[o]]);if(0!==t)return t}return dD(i.length,s.length)}(e.mapValue,t.mapValue);default:throw WA()}}function ZD(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return dD(e,t);const n=TD(e),i=TD(t),r=dD(n.seconds,i.seconds);return 0!==r?r:dD(n.nanos,i.nanos)}function HD(e){return YD(e)}function YD(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=TD(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?AD(e.bytesValue).toBase64():"referenceValue"in e?VD.fromName(e.referenceValue).toString():"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const i of e.values||[])n?n=!1:t+=",",t+=YD(i);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",i=!0;for(const r of t)i?i=!1:n+=",",n+=`${r}:${YD(e.fields[r])}`;return n+"}"}(e.mapValue):WA();var t}function $D(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function WD(e){return!!e&&"integerValue"in e}function KD(e){return!!e&&"arrayValue"in e}function QD(e){return!!e&&"nullValue"in e}function JD(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function XD(e){return!!e&&"mapValue"in e}function eR(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return yD(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=eR(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=eR(e.arrayValue.values[n]);return t}return Object.assign({},e)}function tR(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function nR(e){return"nullValue"in e?qD:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?$D(ND.empty(),VD.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:WA()}function iR(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?$D(ND.empty(),VD.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?UD:WA()}function rR(e,t){const n=GD(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function sR(e,t){const n=GD(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class oR{constructor(e){this.value=e}static empty(){return new oR({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!XD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=eR(t)}setAll(e){let t=SD.emptyPath(),n={},i=[];e.forEach((e,r)=>{if(!t.isImmediateParentOf(r)){const e=this.getFieldsMap(t);this.applyChanges(e,n,i),n={},i=[],t=r.popLast()}e?n[r.lastSegment()]=eR(e):i.push(r.lastSegment())});const r=this.getFieldsMap(t);this.applyChanges(r,n,i)}delete(e){const t=this.field(e.popLast());XD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return jD(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];XD(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){yD(t,(t,n)=>e[t]=n);for(const i of n)delete e[i]}clone(){return new oR(eR(this.value))}}function aR(e){const t=[];return yD(e.fields,(e,n)=>{const i=new SD([e]);if(XD(n)){const e=aR(n.mapValue).fields;if(0===e.length)t.push(i);else for(const n of e)t.push(i.child(n))}else t.push(i)}),new kD(t)}class lR{constructor(e,t,n,i,r,s){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.data=r,this.documentState=s}static newInvalidDocument(e){return new lR(e,0,gD.min(),gD.min(),oR.empty(),0)}static newFoundDocument(e,t,n){return new lR(e,1,t,gD.min(),n,0)}static newNoDocument(e,t){return new lR(e,2,t,gD.min(),oR.empty(),0)}static newUnknownDocument(e,t){return new lR(e,3,t,gD.min(),oR.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oR.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oR.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof lR&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new lR(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class cR{constructor(e,t,n,i){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=i}}function uR(e){return e.fields.find(e=>2===e.kind)}function hR(e){return e.fields.filter(e=>2!==e.kind)}cR.UNKNOWN_ID=-1;class dR{constructor(e,t){this.fieldPath=e,this.kind=t}}class pR{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new pR(0,gR.min())}}function fR(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=gD.fromTimestamp(1e9===i?new mD(n+1,0):new mD(n,i));return new gR(r,VD.empty(),t)}function mR(e){return new gR(e.readTime,e.key,-1)}class gR{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new gR(gD.min(),VD.empty(),-1)}static max(){return new gR(gD.max(),VD.empty(),-1)}}function _R(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=VD.comparator(e.documentKey,t.documentKey),0!==n?n:dD(e.largestBatchId,t.largestBatchId))}class yR{constructor(e,t){this.comparator=e,this.root=t||bR.EMPTY}insert(e,t){return new yR(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bR.BLACK,null,null))}remove(e){return new yR(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bR.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vR(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vR(this.root,e,this.comparator,!1)}getReverseIterator(){return new vR(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vR(this.root,e,this.comparator,!0)}}class vR{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,t&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bR{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:bR.RED,this.left=null!=i?i:bR.EMPTY,this.right=null!=r?r:bR.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,r){return new bR(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bR.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return bR.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bR.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bR.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw WA();if(this.right.isRed())throw WA();const e=this.left.check();if(e!==this.right.check())throw WA();return e+(this.isRed()?0:1)}}bR.EMPTY=null,bR.RED=!0,bR.BLACK=!1,bR.EMPTY=new class{constructor(){this.size=0}get key(){throw WA()}get value(){throw WA()}get color(){throw WA()}get left(){throw WA()}get right(){throw WA()}copy(e,t,n,i,r){return this}insert(e,t,n){return new bR(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wR{constructor(e){this.comparator=e,this.data=new yR(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new CR(this.data.getIterator())}getIteratorFrom(e){return new CR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof wR))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(e,i))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wR(this.comparator);return t.data=e,t}}class CR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function SR(e){return e.hasNext()?e.getNext():void 0}class kR{constructor(e,t=null,n=[],i=[],r=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=o,this.P=null}}function IR(e,t=null,n=[],i=[],r=null,s=null,o=null){return new kR(e,t,n,i,r,s,o)}function ER(e){const t=QA(e);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>{return(t=e).field.canonicalString()+t.op.toString()+HD(t.value);var t}).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),LD(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>HD(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>HD(e)).join(",")),t.P=e}return t.P}function TR(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!zR(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if((n=e.filters[r]).op!==(i=t.filters[r]).op||!n.field.isEqual(i.field)||!jD(n.value,i.value))return!1;var n,i;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ZR(e.startAt,t.startAt)&&ZR(e.endAt,t.endAt)}function xR(e){return VD.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function AR(e,t){return e.filters.filter(e=>e instanceof OR&&e.field.isEqual(t))}function DR(e,t,n){let i=qD,r=!0;for(const s of AR(e,t)){let e=qD,t=!0;switch(s.op){case"<":case"<=":e=nR(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=qD}rR({value:i,inclusive:r},{value:e,inclusive:t})<0&&(i=e,r=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];rR({value:i,inclusive:r},{value:e,inclusive:n.inclusive})<0&&(i=e,r=n.inclusive);break}return{value:i,inclusive:r}}function RR(e,t,n){let i=UD,r=!0;for(const s of AR(e,t)){let e=UD,t=!0;switch(s.op){case">=":case">":e=iR(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=UD}sR({value:i,inclusive:r},{value:e,inclusive:t})>0&&(i=e,r=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];sR({value:i,inclusive:r},{value:e,inclusive:n.inclusive})>0&&(i=e,r=n.inclusive);break}return{value:i,inclusive:r}}class OR extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,n):new PR(e,t,n):"array-contains"===t?new MR(e,n):"in"===t?new VR(e,n):"not-in"===t?new UR(e,n):"array-contains-any"===t?new qR(e,n):new OR(e,t,n)}static V(e,t,n){return"in"===t?new NR(e,n):new LR(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(GD(t,this.value)):null!==t&&BD(this.value)===BD(t)&&this.v(GD(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return WA()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class PR extends OR{constructor(e,t,n){super(e,t,n),this.key=VD.fromName(n.referenceValue)}matches(e){const t=VD.comparator(e.key,this.key);return this.v(t)}}class NR extends OR{constructor(e,t){super(e,"in",t),this.keys=FR(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class LR extends OR{constructor(e,t){super(e,"not-in",t),this.keys=FR(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function FR(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>VD.fromName(e.referenceValue))}class MR extends OR{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return KD(t)&&zD(t.arrayValue,this.value)}}class VR extends OR{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&zD(this.value.arrayValue,t)}}class UR extends OR{constructor(e,t){super(e,"not-in",t)}matches(e){if(zD(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!zD(this.value.arrayValue,t)}}class qR extends OR{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!KD(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>zD(this.value.arrayValue,e))}}class BR{constructor(e,t){this.position=e,this.inclusive=t}}class jR{constructor(e,t="asc"){this.field=e,this.dir=t}}function zR(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function GR(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],o=e.position[r];if(i=s.field.isKeyField()?VD.comparator(VD.fromName(o.referenceValue),n.key):GD(o,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function ZR(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!jD(e.position[n],t.position[n]))return!1;return!0}class HR{constructor(e,t=null,n=[],i=[],r=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=a,this.D=null,this.C=null}}function YR(e,t,n,i,r,s,o,a){return new HR(e,t,n,i,r,s,o,a)}function $R(e){return new HR(e)}function WR(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function KR(e){for(const t of e.filters)if(t.S())return t.field;return null}function QR(e){return null!==e.collectionGroup}function JR(e){const t=QA(e);if(null===t.D){t.D=[];const e=KR(t),n=WR(t);if(null!==e&&null===n)e.isKeyField()||t.D.push(new jR(e)),t.D.push(new jR(SD.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.D.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new jR(SD.keyField(),e))}}}return t.D}function XR(e){const t=QA(e);if(!t.C)if("F"===t.limitType)t.C=IR(t.path,t.collectionGroup,JR(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const r of JR(t))e.push(new jR(r.field,"desc"===r.dir?"asc":"desc"));const n=t.endAt?new BR(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new BR(t.startAt.position,t.startAt.inclusive):null;t.C=IR(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}return t.C}function eO(e,t,n){return new HR(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function tO(e,t){return TR(XR(e),XR(t))&&e.limitType===t.limitType}function nO(e){return`${ER(XR(e))}|lt:${e.limitType}`}function iO(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>{return`${(t=e).field.canonicalString()} ${t.op} ${HD(t.value)}`;var t}).join(", ")}]`),LD(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>HD(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>HD(e)).join(",")),`Target(${t})`}(XR(e))}; limitType=${e.limitType})`}function rO(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):VD.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const i=GR(e,t,n);return e.inclusive?i<=0:i<0}(e.startAt,JR(e),t)||e.endAt&&!function(e,t,n){const i=GR(e,t,n);return e.inclusive?i>=0:i>0}(e.endAt,JR(e),t))}(e,t)}function sO(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function oO(e){return(t,n)=>{let i=!1;for(const r of JR(e)){const e=aO(r,t,n);if(0!==e)return e;i=i||r.field.isKeyField()}return 0}}function aO(e,t,n){const i=e.field.isKeyField()?VD.comparator(t.key,n.key):function(e,t,n){const i=t.data.field(e),r=n.data.field(e);return null!==i&&null!==r?GD(i,r):WA()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return WA()}}function lO(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:FD(t)?"-0":t}}function cO(e){return{integerValue:""+e}}function uO(e,t){return MD(t)?cO(t):lO(e,t)}class hO{constructor(){this._=void 0}}function dO(e,t,n){return e instanceof mO?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof gO?_O(e,t):e instanceof yO?vO(e,t):function(e,t){const n=fO(e,t),i=wO(n)+wO(e.k);return WD(n)&&WD(e.k)?cO(i):lO(e.M,i)}(e,t)}function pO(e,t,n){return e instanceof gO?_O(e,t):e instanceof yO?vO(e,t):n}function fO(e,t){return e instanceof bO?WD(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class mO extends hO{}class gO extends hO{constructor(e){super(),this.elements=e}}function _O(e,t){const n=CO(t);for(const i of e.elements)n.some(e=>jD(e,i))||n.push(i);return{arrayValue:{values:n}}}class yO extends hO{constructor(e){super(),this.elements=e}}function vO(e,t){let n=CO(t);for(const i of e.elements)n=n.filter(e=>!jD(e,i));return{arrayValue:{values:n}}}class bO extends hO{constructor(e,t){super(),this.M=e,this.k=t}}function wO(e){return xD(e.integerValue||e.doubleValue)}function CO(e){return KD(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class SO{constructor(e,t){this.field=e,this.transform=t}}class kO{constructor(e,t){this.version=e,this.transformResults=t}}class IO{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new IO}static exists(e){return new IO(void 0,e)}static updateTime(e){return new IO(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function EO(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class TO{}function xO(e,t,n){e instanceof PO?function(e,t,n){const i=e.value.clone(),r=FO(e.fieldTransforms,t,n.transformResults);i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):e instanceof NO?function(e,t,n){if(!EO(e.precondition,t))return void t.convertToUnknownDocument(n.version);const i=FO(e.fieldTransforms,t,n.transformResults),r=t.data;r.setAll(LO(e)),r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function AO(e,t,n){e instanceof PO?function(e,t,n){if(!EO(e.precondition,t))return;const i=e.value.clone(),r=MO(e.fieldTransforms,n,t);i.setAll(r),t.convertToFoundDocument(OO(t),i).setHasLocalMutations()}(e,t,n):e instanceof NO?function(e,t,n){if(!EO(e.precondition,t))return;const i=MO(e.fieldTransforms,n,t),r=t.data;r.setAll(LO(e)),r.setAll(i),t.convertToFoundDocument(OO(t),r).setHasLocalMutations()}(e,t,n):function(e,t){EO(e.precondition,t)&&t.convertToNoDocument(gD.min())}(e,t)}function DO(e,t){let n=null;for(const i of e.fieldTransforms){const e=t.data.field(i.field),r=fO(i.transform,e||null);null!=r&&(null==n&&(n=oR.empty()),n.set(i.field,r))}return n||null}function RO(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&pD(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof gO&&t instanceof gO||e instanceof yO&&t instanceof yO?pD(e.elements,t.elements,jD):e instanceof bO&&t instanceof bO?jD(e.k,t.k):e instanceof mO&&t instanceof mO}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function OO(e){return e.isFoundDocument()?e.version:gD.min()}class PO extends TO{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}}class NO extends TO{constructor(e,t,n,i,r=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}}function LO(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function FO(e,t,n){const i=new Map;KA(e.length===n.length);for(let r=0;r<n.length;r++){const s=e[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,pO(o,a,n[r]))}return i}function MO(e,t,n){const i=new Map;for(const r of e){const e=r.transform,s=n.data.field(r.field);i.set(r.field,dO(e,s,t))}return i}class VO extends TO{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class UO extends TO{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class qO{constructor(e){this.count=e}}var BO,jO;function zO(e){switch(e){default:return WA();case JA.CANCELLED:case JA.UNKNOWN:case JA.DEADLINE_EXCEEDED:case JA.RESOURCE_EXHAUSTED:case JA.INTERNAL:case JA.UNAVAILABLE:case JA.UNAUTHENTICATED:return!1;case JA.INVALID_ARGUMENT:case JA.NOT_FOUND:case JA.ALREADY_EXISTS:case JA.PERMISSION_DENIED:case JA.FAILED_PRECONDITION:case JA.ABORTED:case JA.OUT_OF_RANGE:case JA.UNIMPLEMENTED:case JA.DATA_LOSS:return!0}}function GO(e){if(void 0===e)return HA("GRPC error has no .code"),JA.UNKNOWN;switch(e){case BO.OK:return JA.OK;case BO.CANCELLED:return JA.CANCELLED;case BO.UNKNOWN:return JA.UNKNOWN;case BO.DEADLINE_EXCEEDED:return JA.DEADLINE_EXCEEDED;case BO.RESOURCE_EXHAUSTED:return JA.RESOURCE_EXHAUSTED;case BO.INTERNAL:return JA.INTERNAL;case BO.UNAVAILABLE:return JA.UNAVAILABLE;case BO.UNAUTHENTICATED:return JA.UNAUTHENTICATED;case BO.INVALID_ARGUMENT:return JA.INVALID_ARGUMENT;case BO.NOT_FOUND:return JA.NOT_FOUND;case BO.ALREADY_EXISTS:return JA.ALREADY_EXISTS;case BO.PERMISSION_DENIED:return JA.PERMISSION_DENIED;case BO.FAILED_PRECONDITION:return JA.FAILED_PRECONDITION;case BO.ABORTED:return JA.ABORTED;case BO.OUT_OF_RANGE:return JA.OUT_OF_RANGE;case BO.UNIMPLEMENTED:return JA.UNIMPLEMENTED;case BO.DATA_LOSS:return JA.DATA_LOSS;default:return WA()}}(jO=BO||(BO={}))[jO.OK=0]="OK",jO[jO.CANCELLED=1]="CANCELLED",jO[jO.UNKNOWN=2]="UNKNOWN",jO[jO.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jO[jO.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jO[jO.NOT_FOUND=5]="NOT_FOUND",jO[jO.ALREADY_EXISTS=6]="ALREADY_EXISTS",jO[jO.PERMISSION_DENIED=7]="PERMISSION_DENIED",jO[jO.UNAUTHENTICATED=16]="UNAUTHENTICATED",jO[jO.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jO[jO.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jO[jO.ABORTED=10]="ABORTED",jO[jO.OUT_OF_RANGE=11]="OUT_OF_RANGE",jO[jO.UNIMPLEMENTED=12]="UNIMPLEMENTED",jO[jO.INTERNAL=13]="INTERNAL",jO[jO.UNAVAILABLE=14]="UNAVAILABLE",jO[jO.DATA_LOSS=15]="DATA_LOSS";class ZO{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[i,r]of n)if(this.equalsFn(i,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0===i)return this.inner[n]=[[e,t]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return 1===n.length?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yD(this.inner,(t,n)=>{for(const[i,r]of n)e(i,r)})}isEmpty(){return vD(this.inner)}size(){return this.innerSize}}const HO=new yR(VD.comparator);function YO(){return HO}const $O=new yR(VD.comparator);function WO(...e){let t=$O;for(const n of e)t=t.insert(n.key,n);return t}function KO(){return new ZO(e=>e.toString(),(e,t)=>e.isEqual(t))}const QO=new yR(VD.comparator),JO=new wR(VD.comparator);function XO(...e){let t=JO;for(const n of e)t=t.add(n);return t}const eP=new wR(dD);function tP(){return eP}class nP{constructor(e,t,n,i,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,iP.createSynthesizedTargetChangeForCurrentChange(e,t)),new nP(gD.min(),n,tP(),YO(),XO())}}class iP{constructor(e,t,n,i,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t){return new iP(ID.EMPTY_BYTE_STRING,t,XO(),XO(),XO())}}class rP{constructor(e,t,n,i){this.O=e,this.removedTargetIds=t,this.key=n,this.F=i}}class sP{constructor(e,t){this.targetId=e,this.$=t}}class oP{constructor(e,t,n=ID.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class aP{constructor(){this.B=0,this.L=uP(),this.U=ID.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=XO(),t=XO(),n=XO();return this.L.forEach((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:WA()}}),new iP(this.U,this.q,e,t,n)}J(){this.K=!1,this.L=uP()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class lP{constructor(e){this.nt=e,this.st=new Map,this.it=YO(),this.rt=cP(),this.ot=new wR(dD)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const n=this.lt(t);switch(e.state){case 0:this.ft(t)&&n.W(e.resumeToken);break;case 1:n.tt(),n.G||n.J(),n.W(e.resumeToken);break;case 2:n.tt(),n.G||this.removeTarget(t);break;case 3:this.ft(t)&&(n.et(),n.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),n.W(e.resumeToken));break;default:WA()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((e,n)=>{this.ft(n)&&t(n)})}_t(e){const t=e.targetId,n=e.$.count,i=this.wt(t);if(i){const e=i.target;if(xR(e))if(0===n){const n=new VD(e.path);this.ct(t,n,lR.newNoDocument(n,gD.min()))}else KA(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((n,i)=>{const r=this.wt(i);if(r){if(n.current&&xR(r.target)){const t=new VD(r.target.path);null!==this.it.get(t)||this.It(i,t)||this.ct(i,t,lR.newNoDocument(t,e))}n.j&&(t.set(i,n.H()),n.J())}});let n=XO();this.rt.forEach((e,t)=>{let i=!0;t.forEachWhile(e=>{const t=this.wt(e);return!t||2===t.purpose||(i=!1,!1)}),i&&(n=n.add(e))}),this.it.forEach((t,n)=>n.setReadTime(e));const i=new nP(e,t,this.ot,this.it,n);return this.it=YO(),this.rt=cP(),this.ot=new wR(dD),i}at(e,t){if(!this.ft(e))return;const n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,n){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new aP,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new wR(dD),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||ZA("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new aP),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function cP(){return new yR(VD.comparator)}function uP(){return new yR(VD.comparator)}const hP={asc:"ASCENDING",desc:"DESCENDING"},dP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class pP{constructor(e,t){this.databaseId=e,this.N=t}}function fP(e,t){return e.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function mP(e,t){return e.N?t.toBase64():t.toUint8Array()}function gP(e,t){return fP(e,t.toTimestamp())}function _P(e){return KA(!!e),gD.fromTimestamp(function(e){const t=TD(e);return new mD(t.seconds,t.nanos)}(e))}function yP(e,t){return function(e){return new wD(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function vP(e){const t=wD.fromString(e);return KA(BP(t)),t}function bP(e,t){return yP(e.databaseId,t.path)}function wP(e,t){const n=vP(t);if(n.get(1)!==e.databaseId.projectId)throw new XA(JA.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new XA(JA.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new VD(IP(n))}function CP(e,t){return yP(e.databaseId,t)}function SP(e){const t=vP(e);return 4===t.length?wD.emptyPath():IP(t)}function kP(e){return new wD(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function IP(e){return KA(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function EP(e,t,n){return{name:bP(e,t),fields:n.value.mapValue.fields}}function TP(e,t,n){const i=wP(e,t.name),r=_P(t.updateTime),s=new oR({mapValue:{fields:t.fields}}),o=lR.newFoundDocument(i,r,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function xP(e,t){let n;if(t instanceof PO)n={update:EP(e,t.key,t.value)};else if(t instanceof VO)n={delete:bP(e,t.key)};else if(t instanceof NO)n={update:EP(e,t.key,t.data),updateMask:qP(t.fieldMask)};else{if(!(t instanceof UO))return WA();n={verify:bP(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof mO)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof gO)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof yO)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof bO)return{fieldPath:t.field.canonicalString(),increment:n.k};throw WA()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:gP(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:WA()}(e,t.precondition)),n}function AP(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?IO.updateTime(_P(e.updateTime)):void 0!==e.exists?IO.exists(e.exists):IO.none()}(t.currentDocument):IO.none(),i=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;"setToServerValue"in t?(KA("REQUEST_TIME"===t.setToServerValue),n=new mO):"appendMissingElements"in t?n=new gO(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new yO(t.removeAllFromArray.values||[]):"increment"in t?n=new bO(e,t.increment):WA();const i=SD.fromServerFormat(t.fieldPath);return new SO(i,n)}(e,t)):[];if(t.update){const r=wP(e,t.update.name),s=new oR({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){return new kD((e.fieldPaths||[]).map(e=>SD.fromServerFormat(e)))}(t.updateMask);return new NO(r,s,e,n,i)}return new PO(r,s,n,i)}if(t.delete){const i=wP(e,t.delete);return new VO(i,n)}if(t.verify){const i=wP(e,t.verify);return new UO(i,n)}return WA()}function DP(e,t){return{documents:[CP(e,t.path)]}}function RP(e,t){const n={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(n.parent=CP(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=CP(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(e){if(0===e.length)return;const t=e.map(e=>function(e){if("=="===e.op){if(JD(e.value))return{unaryFilter:{field:FP(e.field),op:"IS_NAN"}};if(QD(e.value))return{unaryFilter:{field:FP(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(JD(e.value))return{unaryFilter:{field:FP(e.field),op:"IS_NOT_NAN"}};if(QD(e.value))return{unaryFilter:{field:FP(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:FP(e.field),op:LP(e.op),value:e.value}}}(e));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);r&&(n.structuredQuery.where=r);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:FP(e.field),direction:NP(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.N||LD(t)?t:{value:t}}(e,t.limit);var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function OP(e){let t=SP(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){KA(1===i);const e=n.from[0];e.allDescendants?r=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=PP(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>function(e){return new jR(MP(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,LD(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){return new BR(e.values||[],!!e.before)}(n.startAt));let c=null;return n.endAt&&(c=function(e){return new BR(e.values||[],!e.before)}(n.endAt)),YR(t,r,o,s,a,"F",l,c)}function PP(e){return e?void 0!==e.unaryFilter?[UP(e)]:void 0!==e.fieldFilter?[VP(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>PP(e)).reduce((e,t)=>e.concat(t)):WA():[]}function NP(e){return hP[e]}function LP(e){return dP[e]}function FP(e){return{fieldPath:e.canonicalString()}}function MP(e){return SD.fromServerFormat(e.fieldPath)}function VP(e){return OR.create(MP(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return WA()}}(e.fieldFilter.op),e.fieldFilter.value)}function UP(e){switch(e.unaryFilter.op){case"IS_NAN":const t=MP(e.unaryFilter.field);return OR.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=MP(e.unaryFilter.field);return OR.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=MP(e.unaryFilter.field);return OR.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=MP(e.unaryFilter.field);return OR.create(r,"!=",{nullValue:"NULL_VALUE"});default:return WA()}}function qP(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function BP(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function jP(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=GP(t)),t=zP(e.get(n),t);return GP(t)}function zP(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const t=e.charAt(r);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function GP(e){return e+"\x01\x01"}function ZP(e){const t=e.length;if(KA(t>=2),2===t)return KA("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),wD.emptyPath();const n=t-2,i=[];let r="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&WA(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===r.length?o=n:(r+=n,o=r,r=""),i.push(o);break;case"\x10":r+=e.substring(s,t),r+="\0";break;case"\x11":r+=e.substring(s,t+1);break;default:WA()}s=t+2}return new wD(i)}const HP=["userId","batchId"];function YP(e,t){return[e,jP(t)]}function $P(e,t,n){return[e,jP(t),n]}const WP={},KP=["prefixPath","collectionGroup","readTime","documentId"],QP=["prefixPath","collectionGroup","documentId"],JP=["collectionGroup","readTime","prefixPath","documentId"],XP=["canonicalId","targetId"],eN=["targetId","path"],tN=["path","targetId"],nN=["collectionId","parent"],iN=["indexId","uid"],rN=["uid","sequenceNumber"],sN=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],oN=["indexId","uid","orderedDocumentKey"],aN=["userId","collectionPath","documentId"],lN=["userId","collectionPath","largestBatchId"],cN=["userId","collectionGroup","largestBatchId"],uN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],hN=[...uN,"documentOverlays"],dN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],pN=[...dN,"indexConfiguration","indexState","indexEntries"],fN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class gN{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&WA(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new gN((n,i)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,i)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof gN?t:gN.resolve(t)}catch(e){return gN.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):gN.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):gN.reject(t)}static resolve(e){return new gN((t,n)=>{t(e)})}static reject(e){return new gN((t,n)=>{n(e)})}static waitFor(e){return new gN((t,n)=>{let i=0,r=0,s=!1;e.forEach(e=>{++i,e.next(()=>{++r,s&&r===i&&t()},e=>n(e))}),s=!0,r===i&&t()})}static or(e){let t=gN.resolve(!1);for(const n of e)t=t.next(e=>e?gN.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,i)=>{n.push(t.call(this,e,i))}),this.waitFor(n)}}class _N{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new eD,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new bN(e,t.error)):this.At.resolve()},this.transaction.onerror=t=>{const n=IN(t.target.error);this.At.reject(new bN(e,n))}}static open(e,t,n,i){try{return new _N(t,e.transaction(i,n))}catch(e){throw new bN(t,e)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(ZA("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new CN(t)}}class yN{constructor(e,t,n){this.name=e,this.version=t,this.Pt=n,12.2===yN.Vt((0,uy.z$)())&&HA("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ZA("SimpleDb","Removing database:",e),SN(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,uy.hl)())return!1;if(yN.St())return!0;const e=(0,uy.z$)(),t=yN.Vt(e),n=0<t&&t<10,i=yN.Dt(e),r=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||r)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}Nt(e){var t=this;return(0,ly.Z)(function*(){return t.db||(ZA("SimpleDb","Opening database:",t.name),t.db=yield new Promise((n,i)=>{const r=indexedDB.open(t.name,t.version);r.onsuccess=e=>{n(e.target.result)},r.onblocked=()=>{i(new bN(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const n=t.target.error;i("VersionError"===n.name?new XA(JA.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===n.name?new XA(JA.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n):new bN(e,n))},r.onupgradeneeded=e=>{ZA("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',e.oldVersion),t.Pt.kt(e.target.result,r.transaction,e.oldVersion,t.version).next(()=>{ZA("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=e=>t.Mt(e)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,n,i){var r=this;return(0,ly.Z)(function*(){const s="readonly"===t;let o=0;for(;;){++o;try{r.db=yield r.Nt(e);const t=_N.open(r.db,e,s?"readonly":"readwrite",n),o=i(t).next(e=>(t.bt(),e)).catch(e=>(t.abort(e),gN.reject(e))).toPromise();return o.catch(()=>{}),yield t.Rt,o}catch(e){const n="FirebaseError"!==e.name&&o<3;if(ZA("SimpleDb","Transaction failed with error:",e.message,"Retrying:",n),r.close(),!n)return Promise.reject(e)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class vN{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return SN(this.Ft.delete())}}class bN extends XA{constructor(e,t){super(JA.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function wN(e){return"IndexedDbTransactionError"===e.name}class CN{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(ZA("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ZA("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),SN(n)}add(e){return ZA("SimpleDb","ADD",this.store.name,e,e),SN(this.store.add(e))}get(e){return SN(this.store.get(e)).next(t=>(void 0===t&&(t=null),ZA("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ZA("SimpleDb","DELETE",this.store.name,e),SN(this.store.delete(e))}count(){return ZA("SimpleDb","COUNT",this.store.name),SN(this.store.count())}qt(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.Kt(e,(e,n)=>{t.push(n)}).next(()=>t)}{const e=this.store.getAll(n.range);return new gN((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}}Gt(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new gN((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}})}Qt(e,t){ZA("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.jt=!1;const i=this.cursor(n);return this.Kt(i,(e,t,n)=>n.delete())}Wt(e,t){let n;t?n=e:(n={},t=e);const i=this.cursor(n);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new gN((n,i)=>{t.onerror=e=>{const t=IN(e.target.error);i(t)},t.onsuccess=t=>{const i=t.target.result;i?e(i.primaryKey,i.value).next(e=>{e?i.continue():n()}):n()}})}Kt(e,t){const n=[];return new gN((i,r)=>{e.onerror=e=>{r(e.target.error)},e.onsuccess=e=>{const r=e.target.result;if(!r)return void i();const s=new vN(r),o=t(r.primaryKey,r.value,s);if(o instanceof gN){const e=o.catch(e=>(s.done(),gN.reject(e)));n.push(e)}s.isDone?i():null===s.Lt?r.continue():r.continue(s.Lt)}}).next(()=>gN.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function SN(e){return new gN((t,n)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{const t=IN(e.target.error);n(t)}})}let kN=!1;function IN(e){const t=yN.Vt((0,uy.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new XA("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return kN||(kN=!0,setTimeout(()=>{throw e},0)),e}}return e}class EN extends mN{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function TN(e,t){const n=QA(e);return yN.xt(n.Ht,t)}class xN{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const t=this.mutations[i];t.key.isEqual(e.key)&&xO(t,e,n[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&AO(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&AO(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const n=e.get(t.key),i=n;this.applyToLocalView(i),n.isValidDocument()||i.convertToNoDocument(gD.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),XO())}isEqual(e){return this.batchId===e.batchId&&pD(this.mutations,e.mutations,(e,t)=>RO(e,t))&&pD(this.baseMutations,e.baseMutations,(e,t)=>RO(e,t))}}class AN{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){KA(e.mutations.length===n.length);let i=QO;const r=e.mutations;for(let s=0;s<r.length;s++)i=i.insert(r[s].key,n[s].version);return new AN(e,t,n,i)}}class DN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class RN{constructor(e,t,n,i,r=gD.min(),s=gD.min(),o=ID.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new RN(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new RN(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new RN(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ON{constructor(e){this.Jt=e}}function PN(e,t){const n=t.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:NN(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document=function(e,t){return{name:bP(e,t.key),fields:t.data.value.mapValue.fields,updateTime:fP(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:LN(t.version)};else{if(!t.isUnknownDocument())return WA();i.unknownDocument={path:n.path.toArray(),version:LN(t.version)}}return i}function NN(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function LN(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function FN(e){const t=new mD(e.seconds,e.nanoseconds);return gD.fromTimestamp(t)}function MN(e,t){const n=(t.baseMutations||[]).map(t=>AP(e.Jt,t));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(e.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const i=t.mutations.map(t=>AP(e.Jt,t)),r=mD.fromMillis(t.localWriteTimeMs);return new xN(t.batchId,r,n,i)}function VN(e){const t=FN(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?FN(e.lastLimboFreeSnapshotVersion):gD.min();let i;var r;return void 0!==e.query.documents?(KA(1===(r=e.query).documents.length),i=XR($R(SP(r.documents[0])))):i=function(e){return XR(OP(e))}(e.query),new RN(i,e.targetId,0,e.lastListenSequenceNumber,t,n,ID.fromBase64String(e.resumeToken))}function UN(e,t){const n=LN(t.snapshotVersion),i=LN(t.lastLimboFreeSnapshotVersion);let r;r=xR(t.target)?DP(e.Jt,t.target):RP(e.Jt,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ER(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function qN(e){const t=OP({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?eO(t,t.limit,"L"):t}function BN(e,t){return new DN(t.largestBatchId,AP(e.Jt,t.overlayMutation))}function jN(e,t){const n=t.path.lastSegment();return[e,jP(t.path.popLast()),n]}class zN{getBundleMetadata(e,t){return GN(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:FN(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return GN(e).put({bundleId:(n=t).id,createTime:LN(_P(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return ZN(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:qN(t.bundledQuery),readTime:FN(t.readTime)};var t})}saveNamedQuery(e,t){return ZN(e).put(function(e){return{name:e.name,readTime:LN(_P(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function GN(e){return TN(e,"bundles")}function ZN(e){return TN(e,"namedQueries")}class HN{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new HN(e,t.uid||"")}getOverlay(e,t){return YN(e).get(jN(this.userId,t)).next(e=>e?BN(this.M,e):null)}saveOverlays(e,t,n){const i=[];return n.forEach((n,r)=>{const s=new DN(t,r);i.push(this.Xt(e,s))}),gN.waitFor(i)}removeOverlaysForBatchId(e,t,n){const i=new Set;t.forEach(e=>i.add(jP(e.getCollectionPath())));const r=[];return i.forEach(t=>{const i=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);r.push(YN(e).Qt("collectionPathOverlayIndex",i))}),gN.waitFor(r)}getOverlaysForCollection(e,t,n){const i=KO(),r=jP(t),s=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return YN(e).qt("collectionPathOverlayIndex",s).next(e=>{for(const t of e){const e=BN(this.M,t);i.set(e.getKey(),e)}return i})}getOverlaysForCollectionGroup(e,t,n,i){const r=KO();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return YN(e).Wt({index:"collectionGroupOverlayIndex",range:o},(e,t,n)=>{const o=BN(this.M,t);r.size()<i||o.largestBatchId===s?(r.set(o.getKey(),o),s=o.largestBatchId):n.done()}).next(()=>r)}Xt(e,t){return YN(e).put(function(e,t,n){const[i,r,s]=jN(t,n.mutation.key);return{userId:t,collectionPath:r,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:xP(e.Jt,n.mutation)}}(this.M,this.userId,t))}}function YN(e){return TN(e,"documentOverlays")}class $N{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(xD(e.integerValue));else if("doubleValue"in e){const n=xD(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),FD(n)?t.se(0):t.se(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ne(t,20),"string"==typeof n?t.ie(n):(t.ie(`${n.seconds||""}`),t.se(n.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(AD(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ne(t,45),t.se(n.latitude||0),t.se(n.longitude||0)}else"mapValue"in e?tR(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):WA()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const n=e.fields||{};this.ne(t,55);for(const i of Object.keys(n))this.re(i,t),this.te(n[i],t)}he(e,t){const n=e.values||[];this.ne(t,50);for(const i of n)this.te(i,t)}ae(e,t){this.ne(t,37),VD.fromName(e).path.forEach(e=>{this.ne(t,60),this.le(e,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function WN(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function KN(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const i=WN(255&e[n]);if(t+=i,8!==i)break}return t}(e);return Math.ceil(t/8)}$N.fe=new $N;class QN{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this._e(n.value),n=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.ge(n.value),n=t.next();this.ye()}pe(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this._e(e);else if(e<2048)this._e(960|e>>>6),this._e(128|63&e);else if(t<"\ud800"||"\udbff"<t)this._e(480|e>>>12),this._e(128|63&e>>>6),this._e(128|63&e);else{const e=t.codePointAt(0);this._e(240|e>>>18),this._e(128|63&e>>>12),this._e(128|63&e>>>6),this._e(128|63&e)}}this.we()}Ie(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.ge(e);else if(e<2048)this.ge(960|e>>>6),this.ge(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.ge(480|e>>>12),this.ge(128|63&e>>>6),this.ge(128|63&e);else{const e=t.codePointAt(0);this.ge(240|e>>>18),this.ge(128|63&e>>>12),this.ge(128|63&e>>>6),this.ge(128|63&e)}}this.ye()}Te(e){const t=this.Ee(e),n=KN(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(let i=t.length-n;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),n=KN(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(let i=t.length-n;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let i=1;i<t.length;++i)t[i]^=n?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class JN{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class XN{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class eL{constructor(){this.De=new QN,this.Ce=new JN(this.De),this.xe=new XN(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class tL{constructor(e,t,n,i){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new tL(this.indexId,this.documentKey,this.arrayValue,n)}}function nL(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=iL(e.arrayValue,t.arrayValue),0!==n?n:(n=iL(e.directionalValue,t.directionalValue),0!==n?n:VD.comparator(e.documentKey,t.documentKey)))}function iL(e,t){for(let n=0;n<e.length&&n<t.length;++n){const i=e[n]-t[n];if(0!==i)return i}return e.length-t.length}class rL{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const e=t;e.S()?this.Fe=e:this.Oe.push(e)}}$e(e){const t=uR(e);if(void 0!==t&&!this.Be(t))return!1;const n=hR(e);let i=0,r=0;for(;i<n.length&&this.Be(n[i]);++i);if(i===n.length)return!0;if(void 0!==this.Fe){const e=n[i];if(!this.Le(this.Fe,e)||!this.Ue(this.Me[r++],e))return!1;++i}for(;i<n.length;++i){const e=n[i];if(r>=this.Me.length||!this.Ue(this.Me[r++],e))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class sL{constructor(){this.qe=new oL}addToCollectionParentIndex(e,t){return this.qe.add(t),gN.resolve()}getCollectionParents(e,t){return gN.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return gN.resolve()}deleteFieldIndex(e,t){return gN.resolve()}getDocumentsMatchingTarget(e,t){return gN.resolve(null)}getIndexType(e,t){return gN.resolve(0)}getFieldIndexes(e,t){return gN.resolve([])}getNextCollectionGroupToUpdate(e){return gN.resolve(null)}getMinOffset(e,t){return gN.resolve(gR.min())}updateCollectionGroup(e,t,n){return gN.resolve()}updateIndexEntries(e,t){return gN.resolve()}}class oL{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new wR(wD.comparator),r=!i.has(n);return this.index[t]=i.add(n),r}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new wR(wD.comparator)).toArray()}}const aL=new Uint8Array(0);class lL{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new oL,this.Ge=new ZO(e=>ER(e),(e,t)=>TR(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const n=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const r={collectionId:n,parent:jP(i)};return cL(e).put(r)}return gN.resolve()}getCollectionParents(e,t){const n=[],i=IDBKeyRange.bound([t,""],[fD(t),""],!1,!0);return cL(e).qt(i).next(e=>{for(const i of e){if(i.collectionId!==t)break;n.push(ZP(i.parent))}return n})}addFieldIndex(e,t){const n=hL(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])}}(t);return delete i.indexId,n.add(i).next()}deleteFieldIndex(e,t){const n=hL(e),i=dL(e),r=uL(e);return n.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const n=uL(e);let i=!0;const r=new Map;return gN.forEach(this.Qe(t),t=>this.je(e,t).next(e=>{i&&(i=!!e),r.set(t,e)})).next(()=>{if(i){let e=XO();const i=[];return gN.forEach(r,(r,s)=>{var o;ZA("IndexedDbIndexManager",`Using index ${o=r,`id=${o.indexId}|cg=${o.collectionGroup}|f=${o.fields.map(e=>`${e.fieldPath}:${e.kind}`).join(",")}`} to execute ${ER(t)}`);const a=function(e,t){const n=uR(t);if(void 0===n)return null;for(const i of AR(e,n.fieldPath))switch(i.op){case"array-contains-any":return i.value.arrayValue.values||[];case"array-contains":return[i.value]}return null}(s,r),l=function(e,t){const n=new Map;for(const i of hR(t))for(const t of AR(e,i.fieldPath))switch(t.op){case"==":case"in":n.set(i.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(i.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,r),c=function(e,t){const n=[];let i=!0;for(const r of hR(t)){const t=0===r.kind?DR(e,r.fieldPath,e.startAt):RR(e,r.fieldPath,e.startAt);n.push(t.value),i&&(i=t.inclusive)}return new BR(n,i)}(s,r),u=function(e,t){const n=[];let i=!0;for(const r of hR(t)){const t=0===r.kind?RR(e,r.fieldPath,e.endAt):DR(e,r.fieldPath,e.endAt);n.push(t.value),i&&(i=t.inclusive)}return new BR(n,i)}(s,r),h=this.We(r,s,c),d=this.We(r,s,u),p=this.ze(r,s,l),f=this.He(r.indexId,a,h,c.inclusive,d,u.inclusive,p);return gN.forEach(f,r=>n.Gt(r,t.limit).next(t=>{t.forEach(t=>{const n=VD.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),i.push(n))})}))}).next(()=>i)}return gN.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,n,i,r,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,r.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.Je(t[u/l]):aL,h=this.Ye(e,a,n[u%l],i),d=this.Xe(e,a,r[u%l],s),p=o.map(t=>this.Ye(e,a,t,!0));c.push(...this.createRange(h,d,p))}return c}Ye(e,t,n,i){const r=new tL(e,VD.empty(),t,n);return i?r:r.ke()}Xe(e,t,n,i){const r=new tL(e,VD.empty(),t,n);return i?r.ke():r}je(e,t){const n=new rL(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(e=>{let t=null;for(const i of e)n.$e(i)&&(!t||i.fields.length>t.fields.length)&&(t=i);return t})}getIndexType(e,t){let n=2;return gN.forEach(this.Qe(t),t=>this.je(e,t).next(e=>{e?0!==n&&e.fields.length<function(e){let t=new wR(SD.comparator),n=!1;for(const i of e.filters){const e=i;e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field))}for(const i of e.orderBy)i.field.isKeyField()||(t=t.add(i.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})).next(()=>n)}Ze(e,t){const n=new eL;for(const i of hR(e)){const e=t.data.field(i.fieldPath);if(null==e)return null;const r=n.Ne(i.kind);$N.fe.Zt(e,r)}return n.Se()}Je(e){const t=new eL;return $N.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const n=new eL;return $N.fe.Zt($D(this.databaseId,t),n.Ne(function(e){const t=hR(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}ze(e,t,n){if(null===n)return[];let i=[];i.push(new eL);let r=0;for(const s of hR(e)){const e=n[r++];for(const n of i)if(this.en(t,s.fieldPath)&&KD(e))i=this.nn(i,s,e);else{const t=n.Ne(s.kind);$N.fe.Zt(e,t)}}return this.sn(i)}We(e,t,n){return this.ze(e,t,n.position)}sn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Se();return t}nn(e,t,n){const i=[...e],r=[];for(const s of n.arrayValue.values||[])for(const e of i){const n=new eL;n.seed(e.Se()),$N.fe.Zt(s,n.Ne(t.kind)),r.push(n)}return r}en(e,t){return!!e.filters.find(e=>e instanceof OR&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){const n=hL(e),i=dL(e);return(t?n.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.qt()).next(e=>{const t=[];return gN.forEach(e,e=>i.get([e.indexId,this.uid]).next(n=>{t.push(function(e,t){const n=t?new pR(t.sequenceNumber,new gR(FN(t.readTime),new VD(ZP(t.documentKey)),t.largestBatchId)):pR.empty(),i=e.fields.map(([e,t])=>new dR(SD.fromServerFormat(e),t));return new cR(e.indexId,e.collectionGroup,i,n)}(e,n))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:dD(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,n){const i=hL(e),r=dL(e);return this.rn(e).next(e=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(t=>gN.forEach(t,t=>r.put(function(e,t,n,i){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:LN(i.readTime),documentKey:jP(i.documentKey.path),largestBatchId:i.largestBatchId}}(t.indexId,this.user,e,n)))))}updateIndexEntries(e,t){const n=new Map;return gN.forEach(t,(t,i)=>{const r=n.get(t.collectionGroup);return(r?gN.resolve(r):this.getFieldIndexes(e,t.collectionGroup)).next(r=>(n.set(t.collectionGroup,r),gN.forEach(r,n=>this.on(e,t,n).next(t=>{const r=this.un(i,n);return t.isEqual(r)?gN.resolve():this.an(e,i,n,t,r)}))))})}cn(e,t,n,i){return uL(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}hn(e,t,n,i){return uL(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}on(e,t,n){const i=uL(e);let r=new wR(nL);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(e,i)=>{r=r.add(new tL(n.indexId,t,i.arrayValue,i.directionalValue))}).next(()=>r)}un(e,t){let n=new wR(nL);const i=this.Ze(t,e);if(null==i)return n;const r=uR(t);if(null!=r){const s=e.data.field(r.fieldPath);if(KD(s))for(const r of s.arrayValue.values||[])n=n.add(new tL(t.indexId,e.key,this.Je(r),i))}else n=n.add(new tL(t.indexId,e.key,aL,i));return n}an(e,t,n,i,r){ZA("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,i,r){const s=e.getIterator(),o=t.getIterator();let a=SR(s),l=SR(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const i=n(a,l);i<0?t=!0:i>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(i(l),l=SR(o)):t?(r(a),a=SR(s)):(a=SR(s),l=SR(o))}}(i,r,nL,i=>{s.push(this.cn(e,t,n,i))},i=>{s.push(this.hn(e,t,n,i))}),gN.waitFor(s)}rn(e){let t=1;return dL(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,n,i)=>{i.done(),t=n.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((e,t)=>nL(e,t)).filter((e,t,n)=>!t||0!==nL(e,n[t-1]));const i=[];i.push(e);for(const s of n){const n=nL(s,e),r=nL(s,t);if(0===n)i[0]=e.ke();else if(n>0&&r<0)i.push(s),i.push(s.ke());else if(r>0)break}i.push(t);const r=[];for(let s=0;s<i.length;s+=2)r.push(IDBKeyRange.bound([i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,aL,[]],[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,aL,[]]));return r}getMinOffset(e,t){let n;return gN.forEach(this.Qe(t),t=>this.je(e,t).next(e=>{e?(!n||_R(e.indexState.offset,n)<0)&&(n=e.indexState.offset):n=gR.min()})).next(()=>n)}}function cL(e){return TN(e,"collectionParents")}function uL(e){return TN(e,"indexEntries")}function hL(e){return TN(e,"indexConfiguration")}function dL(e){return TN(e,"indexState")}const pL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fL{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new fL(e,fL.DEFAULT_COLLECTION_PERCENTILE,fL.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function mL(e,t,n){const i=e.store("mutations"),r=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=i.Wt({range:o},(e,t,n)=>(a++,n.delete()));s.push(l.next(()=>{KA(1===a)}));const c=[];for(const u of n.mutations){const e=$P(t,u.key.path,n.batchId);s.push(r.delete(e)),c.push(u.key)}return gN.waitFor(s).next(()=>c)}function gL(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw WA();t=e.noDocument}return JSON.stringify(t).length}fL.DEFAULT_COLLECTION_PERCENTILE=10,fL.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fL.DEFAULT=new fL(41943040,fL.DEFAULT_COLLECTION_PERCENTILE,fL.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fL.DISABLED=new fL(-1,0,0);class _L{constructor(e,t,n,i){this.userId=e,this.M=t,this.indexManager=n,this.referenceDelegate=i,this.ln={}}static Yt(e,t,n,i){KA(""!==e.uid);const r=e.isAuthenticated()?e.uid:"";return new _L(r,t,n,i)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vL(e).Wt({index:"userMutationsIndex",range:n},(e,n,i)=>{t=!1,i.done()}).next(()=>t)}addMutationBatch(e,t,n,i){const r=bL(e),s=vL(e);return s.add({}).next(o=>{KA("number"==typeof o);const a=new xN(o,t,n,i),l=function(e,t,n){const i=n.baseMutations.map(t=>xP(e.Jt,t)),r=n.mutations.map(t=>xP(e.Jt,t));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:i,mutations:r}}(this.M,this.userId,a),c=[];let u=new wR((e,t)=>dD(e.canonicalString(),t.canonicalString()));for(const e of i){const t=$P(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(r.put(t,WP))}return u.forEach(t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.ln[o]=a.keys()}),gN.waitFor(c).next(()=>a)})}lookupMutationBatch(e,t){return vL(e).get(t).next(e=>e?(KA(e.userId===this.userId),MN(this.M,e)):null)}fn(e,t){return this.ln[t]?gN.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.ln[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=IDBKeyRange.lowerBound([this.userId,n]);let r=null;return vL(e).Wt({index:"userMutationsIndex",range:i},(e,t,i)=>{t.userId===this.userId&&(KA(t.batchId>=n),r=MN(this.M,t)),i.done()}).next(()=>r)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return vL(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(e,t,i)=>{n=t.batchId,i.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vL(e).qt("userMutationsIndex",t).next(e=>e.map(e=>MN(this.M,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=YP(this.userId,t.path),i=IDBKeyRange.lowerBound(n),r=[];return bL(e).Wt({range:i},(n,i,s)=>{const[o,a,l]=n,c=ZP(a);if(o===this.userId&&t.path.isEqual(c))return vL(e).get(l).next(e=>{if(!e)throw WA();KA(e.userId===this.userId),r.push(MN(this.M,e))});s.done()}).next(()=>r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new wR(dD);const i=[];return t.forEach(t=>{const r=YP(this.userId,t.path),s=IDBKeyRange.lowerBound(r),o=bL(e).Wt({range:s},(e,i,r)=>{const[s,o,a]=e,l=ZP(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):r.done()});i.push(o)}),gN.waitFor(i).next(()=>this.dn(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1,r=YP(this.userId,n),s=IDBKeyRange.lowerBound(r);let o=new wR(dD);return bL(e).Wt({range:s},(e,t,r)=>{const[s,a,l]=e,c=ZP(a);s===this.userId&&n.isPrefixOf(c)?c.length===i&&(o=o.add(l)):r.done()}).next(()=>this.dn(e,o))}dn(e,t){const n=[],i=[];return t.forEach(t=>{i.push(vL(e).get(t).next(e=>{if(null===e)throw WA();KA(e.userId===this.userId),n.push(MN(this.M,e))}))}),gN.waitFor(i).next(()=>n)}removeMutationBatch(e,t){return mL(e.Ht,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),gN.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return gN.resolve();const n=IDBKeyRange.lowerBound([this.userId]),i=[];return bL(e).Wt({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=ZP(e[1]);i.push(t)}else n.done()}).next(()=>{KA(0===i.length)})})}containsKey(e,t){return yL(e,this.userId,t)}wn(e){return wL(e).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function yL(e,t,n){const i=YP(t,n.path),r=i[1],s=IDBKeyRange.lowerBound(i);let o=!1;return bL(e).Wt({range:s,jt:!0},(e,n,i)=>{const[s,a,l]=e;s===t&&a===r&&(o=!0),i.done()}).next(()=>o)}function vL(e){return TN(e,"mutations")}function bL(e){return TN(e,"documentMutations")}function wL(e){return TN(e,"mutationQueues")}class CL{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new CL(0)}static yn(){return new CL(-1)}}class SL{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const n=new CL(t.highestTargetId);return t.highestTargetId=n.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(e=>gD.fromTimestamp(new mD(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(n=>(n.targetCount+=1,this.En(t,n),this.In(e,n))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>kL(e).delete(t.targetId)).next(()=>this.pn(e)).next(t=>(KA(t.targetCount>0),t.targetCount-=1,this.In(e,t)))}removeTargets(e,t,n){let i=0;const r=[];return kL(e).Wt((s,o)=>{const a=VN(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(i++,r.push(this.removeTargetData(e,a)))}).next(()=>gN.waitFor(r)).next(()=>i)}forEachTarget(e,t){return kL(e).Wt((e,n)=>{const i=VN(n);t(i)})}pn(e){return IL(e).get("targetGlobalKey").next(e=>(KA(null!==e),e))}In(e,t){return IL(e).put("targetGlobalKey",t)}Tn(e,t){return kL(e).put(UN(this.M,t))}En(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.pn(e).next(e=>e.targetCount)}getTargetData(e,t){const n=ER(t),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let r=null;return kL(e).Wt({range:i,index:"queryTargetsIndex"},(e,n,i)=>{const s=VN(n);TR(t,s.target)&&(r=s,i.done())}).next(()=>r)}addMatchingKeys(e,t,n){const i=[],r=EL(e);return t.forEach(t=>{const s=jP(t.path);i.push(r.put({targetId:n,path:s})),i.push(this.referenceDelegate.addReference(e,n,t))}),gN.waitFor(i)}removeMatchingKeys(e,t,n){const i=EL(e);return gN.forEach(t,t=>{const r=jP(t.path);return gN.waitFor([i.delete([n,r]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=EL(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),i=EL(e);let r=XO();return i.Wt({range:n,jt:!0},(e,t,n)=>{const i=ZP(e[1]),s=new VD(i);r=r.add(s)}).next(()=>r)}containsKey(e,t){const n=jP(t.path),i=IDBKeyRange.bound([n],[fD(n)],!1,!0);let r=0;return EL(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([e,t],n,i)=>{0!==e&&(r++,i.done())}).next(()=>r>0)}Et(e,t){return kL(e).get(t).next(e=>e?VN(e):null)}}function kL(e){return TN(e,"targets")}function IL(e){return TN(e,"targetGlobal")}function EL(e){return TN(e,"targetDocuments")}function TL(e){return xL.apply(this,arguments)}function xL(){return(xL=(0,ly.Z)(function*(e){if(e.code!==JA.FAILED_PRECONDITION||e.message!==fN)throw e;ZA("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function AL([e,t],[n,i]){const r=dD(e,n);return 0===r?dD(t,i):r}class DL{constructor(e){this.An=e,this.buffer=new wR(AL),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();AL(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class RL{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const n=this.Vn?3e5:6e4;ZA("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,ly.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(e){wN(e)?ZA("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):yield TL(e)}yield t.Sn(e)}))}}class OL{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return gN.resolve(cD.A);const n=new DL(t);return this.Dn.forEachTarget(e,e=>n.Pn(e.sequenceNumber)).next(()=>this.Dn.xn(e,e=>n.Pn(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Dn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ZA("LruGarbageCollector","Garbage collection skipped; disabled"),gN.resolve(pL)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ZA("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pL):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let n,i,r,s,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(ZA("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),i=this.params.maximumSequenceNumbersToCollect):i=t,s=Date.now(),this.nthSequenceNumber(e,i))).next(i=>(n=i,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(r=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),GA()<=hy.in.DEBUG&&ZA("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${i} in `+(o-s)+"ms\n"+`\tRemoved ${r} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-c}ms`),gN.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:e})))}}class PL{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new OL(e,t)}(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}kn(e){let t=0;return this.xn(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(e,n)=>t(n))}addReference(e,t,n){return NL(e,n)}removeReference(e,t,n){return NL(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return NL(e,t)}On(e,t){return function(e,t){let n=!1;return wL(e).zt(i=>yL(e,i,t).next(e=>(e&&(n=!0),gN.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let r=0;return this.Mn(e,(s,o)=>{if(o<=t){const t=this.On(e,s).next(t=>{if(!t)return r++,n.getEntry(e,s).next(()=>(n.removeEntry(s,gD.min()),EL(e).delete([0,jP(s.path)])))});i.push(t)}}).next(()=>gN.waitFor(i)).next(()=>n.apply(e)).next(()=>r)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return NL(e,t)}Mn(e,t){const n=EL(e);let i,r=cD.A;return n.Wt({index:"documentTargetsIndex"},([e,n],{path:s,sequenceNumber:o})=>{0===e?(r!==cD.A&&t(new VD(ZP(i)),r),r=o,i=s):r=cD.A}).next(()=>{r!==cD.A&&t(new VD(ZP(i)),r)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function NL(e,t){return EL(e).put(function(e,t){return{targetId:0,path:jP(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class LL{constructor(){this.changes=new ZO(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,lR.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?gN.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class FL{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return UL(e).put(n)}removeEntry(e,t,n){return UL(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],NN(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Fn(e,n)))}getEntry(e,t){let n=lR.newInvalidDocument(t);return UL(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(qL(t))},(e,i)=>{n=this.$n(t,i)}).next(()=>n)}Bn(e,t){let n={size:0,document:lR.newInvalidDocument(t)};return UL(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(qL(t))},(e,i)=>{n={document:this.$n(t,i),size:gL(i)}}).next(()=>n)}getEntries(e,t){let n=YO();return this.Ln(e,t,(e,t)=>{const i=this.$n(e,t);n=n.insert(e,i)}).next(()=>n)}Un(e,t){let n=YO(),i=new yR(VD.comparator);return this.Ln(e,t,(e,t)=>{const r=this.$n(e,t);n=n.insert(e,r),i=i.insert(e,gL(t))}).next(()=>({documents:n,qn:i}))}Ln(e,t,n){if(t.isEmpty())return gN.resolve();let i=new wR(jL);t.forEach(e=>i=i.add(e));const r=IDBKeyRange.bound(qL(i.first()),qL(i.last())),s=i.getIterator();let o=s.getNext();return UL(e).Wt({index:"documentKeyIndex",range:r},(e,t,i)=>{const r=VD.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&jL(o,r)<0;)n(o,null),o=s.getNext();o&&o.isEqual(r)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?i.Ut(qL(o)):i.done()}).next(()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null})}getAllFromCollection(e,t,n){const i=[t.popLast().toArray(),t.lastSegment(),NN(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],r=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return UL(e).qt(IDBKeyRange.bound(i,r,!0)).next(e=>{let t=YO();for(const n of e){const e=this.$n(VD.fromSegments(n.prefixPath.concat(n.collectionGroup,n.documentId)),n);t=t.insert(e.key,e)}return t})}getAllFromCollectionGroup(e,t,n,i){let r=YO();const s=BL(t,n),o=BL(t,gR.max());return UL(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},(e,t,n)=>{const s=this.$n(VD.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);r=r.insert(s.key,s),r.size===i&&n.done()}).next(()=>r)}newChangeBuffer(e){return new ML(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return VL(e).get("remoteDocumentGlobalKey").next(e=>(KA(!!e),e))}Fn(e,t){return VL(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const e=function(e,t){let n;if(t.document)n=TP(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=VD.fromSegments(t.noDocument.path),i=FN(t.noDocument.readTime);n=lR.newNoDocument(e,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return WA();{const e=VD.fromSegments(t.unknownDocument.path),i=FN(t.unknownDocument.version);n=lR.newUnknownDocument(e,i)}}return t.readTime&&n.setReadTime(function(e){const t=new mD(e[0],e[1]);return gD.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!e.isNoDocument()||!e.version.isEqual(gD.min()))return e}return lR.newInvalidDocument(e)}}class ML extends LL{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new ZO(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,i=new wR((e,t)=>dD(e.canonicalString(),t.canonicalString()));return this.changes.forEach((r,s)=>{const o=this.Gn.get(r);if(t.push(this.Kn.removeEntry(e,r,o.readTime)),s.isValidDocument()){const a=PN(this.Kn.M,s);i=i.add(r.path.popLast());const l=gL(a);n+=l-o.size,t.push(this.Kn.addEntry(e,r,a))}else if(n-=o.size,this.trackRemovals){const n=PN(this.Kn.M,s.convertToNoDocument(gD.min()));t.push(this.Kn.addEntry(e,r,n))}}),i.forEach(n=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,n))}),t.push(this.Kn.updateMetadata(e,n)),gN.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(e=>(this.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:e,qn:t})=>(t.forEach((t,n)=>{this.Gn.set(t,{size:n,readTime:e.get(t).readTime})}),e))}}function VL(e){return TN(e,"remoteDocumentGlobal")}function UL(e){return TN(e,"remoteDocumentsV14")}function qL(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function BL(e,t){const n=t.documentKey.path.toArray();return[e,NN(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function jL(e,t){const n=e.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<n.length-2&&s<i.length-2;++s)if(r=dD(n[s],i[s]),r)return r;return r=dD(n.length,i.length),r||(r=dD(n[n.length-2],i[i.length-2]),r||dD(n[n.length-1],i[i.length-1]))}class zL{constructor(e){this.M=e}kt(e,t,n,i){const r=new _N("createOrUpgrade",t);n<1&&i>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",HP,{unique:!0}),e.createObjectStore("documentMutations")}(e),GL(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=gN.resolve();return n<3&&i>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),GL(e)),s=s.next(()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:gD.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(r))),n<4&&i>=4&&(0!==n&&(s=s.next(()=>function(e,t){return t.store("mutations").qt().next(n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",HP,{unique:!0});const i=t.store("mutations"),r=n.map(e=>i.put(e));return gN.waitFor(r)})}(e,r))),s=s.next(()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),n<5&&i>=5&&(s=s.next(()=>this.Qn(r))),n<6&&i>=6&&(s=s.next(()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.jn(r)))),n<7&&i>=7&&(s=s.next(()=>this.Wn(r))),n<8&&i>=8&&(s=s.next(()=>this.zn(e,r))),n<9&&i>=9&&(s=s.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&i>=10&&(s=s.next(()=>this.Hn(r))),n<11&&i>=11&&(s=s.next(()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&i>=12&&(s=s.next(()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:aN});t.createIndex("collectionPathOverlayIndex",lN,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",cN,{unique:!1})}(e)})),n<13&&i>=13&&(s=s.next(()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:KP});t.createIndex("documentKeyIndex",QP),t.createIndex("collectionGroupIndex",JP)}(e)).next(()=>this.Jn(e,r)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&i>=14&&(s=s.next(()=>{!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:iN}).createIndex("sequenceNumberIndex",rN,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:sN}).createIndex("documentKeyIndex",oN,{unique:!1})}(e)})),s}jn(e){let t=0;return e.store("remoteDocuments").Wt((e,n)=>{t+=gL(n)}).next(()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}Qn(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.qt().next(t=>gN.forEach(t,t=>{const i=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.qt("userMutationsIndex",i).next(n=>gN.forEach(n,n=>{KA(n.userId===t.userId);const i=MN(this.M,n);return mL(e,t.userId,i).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(e=>{const i=[];return n.Wt((n,r)=>{const s=new wD(n),o=function(e){return[0,jP(e)]}(s);i.push(t.get(o).next(n=>n?gN.resolve():(n=>t.put({targetId:0,path:jP(n),sequenceNumber:e.highestListenSequenceNumber}))(s)))}).next(()=>gN.waitFor(i))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:nN});const n=t.store("collectionParents"),i=new oL,r=e=>{if(i.add(e)){const t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:jP(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(e,t)=>{const n=new wD(e);return r(n.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([e,t,n],i)=>{const s=ZP(t);return r(s.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((e,n)=>{const i=VN(n),r=UN(this.M,i);return t.put(r)})}Jn(e,t){const n=t.store("remoteDocuments"),i=[];return n.Wt((e,n)=>{const r=t.store("remoteDocumentsV14"),s=(o=n,o.document?new VD(wD.fromString(o.document.name).popFirst(5)):o.noDocument?VD.fromSegments(o.noDocument.path):o.unknownDocument?VD.fromSegments(o.unknownDocument.path):WA()).path.toArray();var o;const a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};i.push(r.put(a))}).next(()=>gN.waitFor(i))}}function GL(e){e.createObjectStore("targetDocuments",{keyPath:eN}).createIndex("documentTargetsIndex",tN,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",XP,{unique:!0}),e.createObjectStore("targetGlobal")}const ZL="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class HL{constructor(e,t,n,i,r,s,o,a,l,c,u=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Yn=r,this.window=s,this.document=o,this.Xn=l,this.Zn=c,this.ts=u,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=e=>Promise.resolve(),!HL.vt())throw new XA(JA.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new PL(this,i),this.hs=t+"main",this.M=new ON(a),this.ls=new yN(this.hs,this.ts,new zL(this.M)),this.fs=new SL(this.referenceDelegate,this.M),this.ds=function(e){return new FL(e)}(this.M),this._s=new zN,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===c&&HA("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new XA(JA.FAILED_PRECONDITION,ZL);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new cD(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var n=(0,ly.Z)(function*(n){if(t.started)return e(n)});return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,ly.Z)(function*(t){null===t.newVersion&&(yield e())});return function(e){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,ly.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>$L(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(e=>{e||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(wN(e))return ZA("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ZA("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return YL(e).get("owner").next(e=>gN.resolve(this.Ps(e)))}Vs(e){return $L(e).delete(this.clientId)}vs(){var e=this;return(0,ly.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const n=TN(t,"clientMetadata");return n.qt().next(t=>{const i=e.Ds(t,18e5),r=t.filter(e=>-1===i.indexOf(e));return gN.forEach(r,e=>n.delete(e.clientId)).next(()=>r)})}).catch(()=>[]);if(e.ws)for(const n of t)e.ws.removeItem(e.Cs(n.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?gN.resolve(!0):YL(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new XA(JA.FAILED_PRECONDITION,ZL);return!1}}return!(!this.networkEnabled||!this.inForeground)||$L(e).qt().next(e=>void 0===this.Ds(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(!this.networkEnabled&&e.networkEnabled||t&&n)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&ZA("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var e=this;return(0,ly.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const n=new EN(t,cD.A);return e.Rs(n).next(()=>e.Vs(n))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(e=>this.Ss(e.updateTimeMs,t)&&!this.xs(e.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>$L(e).qt().next(e=>this.Ds(e,18e5).map(e=>e.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return _L.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new lL(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return HN.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,n){ZA("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",r=14===(s=this.ts)?pN:13===s?dN:12===s?hN:11===s?uN:void WA();var s;let o;return this.ls.runTransaction(e,i,r,i=>(o=new EN(i,this.es?this.es.next():cD.A),"readwrite-primary"===t?this.Es(o).next(e=>!!e||this.As(o)).next(t=>{if(!t)throw HA(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new XA(JA.FAILED_PRECONDITION,fN);return n(o)}).next(e=>this.bs(o).next(()=>e)):this.$s(o).next(()=>n(o)))).then(e=>(o.raiseOnCommittedEvent(),e))}$s(e){return YL(e).get("owner").next(e=>{if(null!==e&&this.Ss(e.leaseTimestampMs,5e3)&&!this.xs(e.ownerId)&&!this.Ps(e)&&!(this.Zn||this.allowTabSynchronization&&e.allowTabSynchronization))throw new XA(JA.FAILED_PRECONDITION,ZL)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return YL(e).put("owner",t)}static vt(){return yN.vt()}Rs(e){const t=YL(e);return t.get("owner").next(e=>this.Ps(e)?(ZA("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):gN.resolve())}Ss(e,t){const n=Date.now();return!(e<n-t||e>n&&(HA(`Detected an update time that is in the future: ${e} > ${n}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,uy.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return ZA("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return HA("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(YI){HA("Failed to set zombie client id.",YI)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(YI){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function YL(e){return TN(e,"owner")}function $L(e){return TN(e,"clientMetadata")}function WL(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class KL{constructor(e,t,n){this.ds=e,this.Bs=t,this.indexManager=n}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(n=>this.Us(e,t,n))}Us(e,t,n){return this.ds.getEntry(e,t).next(e=>{for(const t of n)t.applyToLocalView(e);return e})}qs(e,t){e.forEach((e,n)=>{for(const i of t)i.applyToLocalView(n)})}Ks(e,t){return this.ds.getEntries(e,t).next(t=>this.Gs(e,t).next(()=>t))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>this.qs(t,e))}Qs(e,t,n){return function(e){return VD.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):QR(t)?this.Ws(e,t,n):this.zs(e,t,n)}js(e,t){return this.Ls(e,new VD(t)).next(e=>{let t=WO();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}Ws(e,t,n){const i=t.collectionGroup;let r=WO();return this.indexManager.getCollectionParents(e,i).next(s=>gN.forEach(s,s=>{const o=function(e,t){return new HR(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.zs(e,o,n).next(e=>{e.forEach((e,t)=>{r=r.insert(e,t)})})}).next(()=>r))}zs(e,t,n){let i;return this.ds.getAllFromCollection(e,t.path,n).next(n=>(i=n,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(e=>{for(const t of e)for(const e of t.mutations){const n=e.key;let r=i.get(n);null==r&&(r=lR.newInvalidDocument(n),i=i.insert(n,r)),AO(e,r,t.localWriteTime),r.isFoundDocument()||(i=i.remove(n))}}).next(()=>(i.forEach((e,n)=>{rO(t,n)||(i=i.remove(e))}),i))}}class QL{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Hs=n,this.Js=i}static Ys(e,t){let n=XO(),i=XO();for(const r of t.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new QL(e,t.fromCache,n,i)}}class JL{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,n,i){return this.ti(e,t).next(r=>r||this.ei(e,t,i,n)).next(n=>n||this.ni(e,t))}ti(e,t){return gN.resolve(null)}ei(e,t,n,i){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(gD.min())?this.ni(e,t):this.Zs.Ks(e,n).next(r=>{const s=this.si(t,r);return this.ii(t,s,n,i)?this.ni(e,t):(GA()<=hy.in.DEBUG&&ZA("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),iO(t)),this.ri(e,s,t,fR(i,-1)))})}si(e,t){let n=new wR(oO(e));return t.forEach((t,i)=>{rO(e,i)&&(n=n.add(i))}),n}ii(e,t,n,i){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const r="F"===e.limitType?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}ni(e,t){return GA()<=hy.in.DEBUG&&ZA("QueryEngine","Using full collection scan to execute query:",iO(t)),this.Zs.Qs(e,t,gR.min())}ri(e,t,n,i){return this.Zs.Qs(e,n,i).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class XL{constructor(e,t,n,i){this.persistence=e,this.oi=t,this.M=i,this.ui=new yR(dD),this.ai=new ZO(e=>ER(e),TR),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(n)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new KL(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function eF(e,t,n,i){return new XL(e,t,n,i)}function tF(e,t){return nF.apply(this,arguments)}function nF(){return(nF=(0,ly.Z)(function*(e,t){const n=QA(e);return yield n.persistence.runTransaction("Handle user change","readonly",e=>{let i;return n.Bs.getAllMutationBatches(e).next(r=>(i=r,n.li(t),n.Bs.getAllMutationBatches(e))).next(t=>{const r=[],s=[];let o=XO();for(const e of i){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.fi.Ks(e,o).next(e=>({di:e,removedBatchIds:r,addedBatchIds:s}))})})})).apply(this,arguments)}function iF(e,t){const n=QA(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const i=t.batch.keys(),r=n.hi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,i){const r=n.batch,s=r.keys();let o=gN.resolve();return s.forEach(e=>{o=o.next(()=>i.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);KA(null!==s),t.version.compareTo(s)<0&&(r.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),i.addEntry(t)))})}),o.next(()=>e.Bs.removeMutationBatch(t,r))}(n,e,t,r).next(()=>r.apply(e)).next(()=>n.Bs.performConsistencyCheck(e)).next(()=>n.fi.Ks(e,i))})}function rF(e){const t=QA(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.fs.getLastRemoteSnapshotVersion(e))}function sF(e,t){const n=QA(e),i=t.snapshotVersion;let r=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.hi.newChangeBuffer({trackRemovals:!0});r=n.ui;const o=[];t.targetChanges.forEach((s,a)=>{const l=r.get(a);if(!l)return;o.push(n.fs.removeMatchingKeys(e,s.removedDocuments,a).next(()=>n.fs.addMatchingKeys(e,s.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(a)?c=c.withResumeToken(ID.EMPTY_BYTE_STRING,gD.min()).withLastLimboFreeSnapshotVersion(gD.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,i)),r=r.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.fs.updateTargetData(e,c))});let a=YO();if(t.documentUpdates.forEach(i=>{t.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,i))}),o.push(oF(e,s,t.documentUpdates).next(e=>{a=e})),!i.isEqual(gD.min())){const t=n.fs.getLastRemoteSnapshotVersion(e).next(t=>n.fs.setTargetsMetadata(e,e.currentSequenceNumber,i));o.push(t)}return gN.waitFor(o).next(()=>s.apply(e)).next(()=>n.fi.Gs(e,a)).next(()=>a)}).then(e=>(n.ui=r,e))}function oF(e,t,n){let i=XO();return n.forEach(e=>i=i.add(e)),t.getEntries(e,i).next(e=>{let i=YO();return n.forEach((n,r)=>{const s=e.get(n);r.isNoDocument()&&r.version.isEqual(gD.min())?(t.removeEntry(n,r.readTime),i=i.insert(n,r)):!s.isValidDocument()||r.version.compareTo(s.version)>0||0===r.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(r),i=i.insert(n,r)):ZA("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",r.version)}),i})}function aF(e,t){const n=QA(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)))}function lF(e,t){const n=QA(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let i;return n.fs.getTargetData(e,t).next(r=>r?(i=r,gN.resolve(i)):n.fs.allocateTargetId(e).next(r=>(i=new RN(t,r,0,e.currentSequenceNumber),n.fs.addTargetData(e,i).next(()=>i))))}).then(e=>{const i=n.ui.get(e.targetId);return(null===i||e.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ui=n.ui.insert(e.targetId,e),n.ai.set(t,e.targetId)),e})}function cF(e,t,n){return uF.apply(this,arguments)}function uF(){return(uF=(0,ly.Z)(function*(e,t,n){const i=QA(e),r=i.ui.get(t),s=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",s,e=>i.persistence.referenceDelegate.removeTarget(e,r)))}catch(e){if(!wN(e))throw e;ZA("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}i.ui=i.ui.remove(t),i.ai.delete(r.target)})).apply(this,arguments)}function hF(e,t,n){const i=QA(e);let r=gD.min(),s=XO();return i.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const i=QA(e),r=i.ai.get(n);return void 0!==r?gN.resolve(i.ui.get(r)):i.fs.getTargetData(t,n)}(i,e,XR(t)).next(t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>i.oi.Qs(e,t,n?r:gD.min(),n?s:XO())).next(e=>(fF(i,sO(t),e),{documents:e,_i:s})))}function dF(e,t){const n=QA(e),i=QA(n.fs),r=n.ui.get(t);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",e=>i.Et(e,t).next(e=>e?e.target:null))}function pF(e,t){const n=QA(e),i=n.ci.get(t)||gD.min();return n.persistence.runTransaction("Get new document changes","readonly",e=>n.hi.getAllFromCollectionGroup(e,t,fR(i,-1),Number.MAX_SAFE_INTEGER)).then(e=>(fF(n,t,e),e))}function fF(e,t,n){let i=gD.min();n.forEach((e,t)=>{t.readTime.compareTo(i)>0&&(i=t.readTime)}),e.ci.set(t,i)}function mF(){return(mF=(0,ly.Z)(function*(e,t,n,i){const r=QA(e);let s=XO(),o=YO();for(const c of n){const e=t.wi(c.metadata.name);c.document&&(s=s.add(e));const n=t.mi(c);n.setReadTime(t.gi(c.metadata.readTime)),o=o.insert(e,n)}const a=r.hi.newChangeBuffer({trackRemovals:!0}),l=yield lF(r,function(e){return XR($R(wD.fromString(`__bundle__/docs/${e}`)))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",e=>oF(e,a,o).next(t=>(a.apply(e),t)).next(t=>r.fs.removeMatchingKeysForTargetId(e,l.targetId).next(()=>r.fs.addMatchingKeys(e,s,l.targetId)).next(()=>r.fi.Gs(e,t)).next(()=>t)))})).apply(this,arguments)}function gF(e,t){return _F.apply(this,arguments)}function _F(){return(_F=(0,ly.Z)(function*(e,t,n=XO()){const i=yield lF(e,XR(qN(t.bundledQuery))),r=QA(e);return r.persistence.runTransaction("Save named query","readwrite",e=>{const s=_P(t.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r._s.saveNamedQuery(e,t);const o=i.withResumeToken(ID.EMPTY_BYTE_STRING,s);return r.ui=r.ui.insert(o.targetId,o),r.fs.updateTargetData(e,o).next(()=>r.fs.removeMatchingKeysForTargetId(e,i.targetId)).next(()=>r.fs.addMatchingKeys(e,n,i.targetId)).next(()=>r._s.saveNamedQuery(e,t))})})).apply(this,arguments)}class yF{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return gN.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var n;return this.yi.set(t.id,{id:(n=t).id,version:n.version,createTime:_P(n.createTime)}),gN.resolve()}getNamedQuery(e,t){return gN.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,function(e){return{name:e.name,query:qN(e.bundledQuery),readTime:_P(e.readTime)}}(t)),gN.resolve()}}class vF{constructor(){this.overlays=new yR(VD.comparator),this.Ii=new Map}getOverlay(e,t){return gN.resolve(this.overlays.get(t))}saveOverlays(e,t,n){return n.forEach((n,i)=>{this.Xt(e,t,i)}),gN.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.Ii.get(n);return void 0!==i&&(i.forEach(e=>this.overlays=this.overlays.remove(e)),this.Ii.delete(n)),gN.resolve()}getOverlaysForCollection(e,t,n){const i=KO(),r=t.length+1,s=new VD(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===r&&e.largestBatchId>n&&i.set(e.getKey(),e)}return gN.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let r=new yR((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=r.get(e.largestBatchId);null===t&&(t=KO(),r=r.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=KO(),a=r.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=i)););return gN.resolve(o)}Xt(e,t,n){if(null===n)return;const i=this.overlays.get(n.key);if(null!==i){const e=this.Ii.get(i.largestBatchId).delete(n.key);this.Ii.set(i.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new DN(t,n));let r=this.Ii.get(t);void 0===r&&(r=XO(),this.Ii.set(t,r)),this.Ii.set(t,r.add(n.key))}}class bF{constructor(){this.Ti=new wR(wF.Ei),this.Ai=new wR(wF.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const n=new wF(e,t);this.Ti=this.Ti.add(n),this.Ai=this.Ai.add(n)}bi(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Pi(new wF(e,t))}Vi(e,t){e.forEach(e=>this.removeReference(e,t))}vi(e){const t=new VD(new wD([])),n=new wF(t,e),i=new wF(t,e+1),r=[];return this.Ai.forEachInRange([n,i],e=>{this.Pi(e),r.push(e.key)}),r}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new VD(new wD([])),n=new wF(t,e),i=new wF(t,e+1);let r=XO();return this.Ai.forEachInRange([n,i],e=>{r=r.add(e.key)}),r}containsKey(e){const t=new wF(e,0),n=this.Ti.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class wF{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return VD.comparator(e.key,t.key)||dD(e.Ci,t.Ci)}static Ri(e,t){return dD(e.Ci,t.Ci)||VD.comparator(e.key,t.key)}}class CF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new wR(wF.Ei)}checkEmpty(e){return gN.resolve(0===this.Bs.length)}addMutationBatch(e,t,n,i){const r=this.xi;this.xi++;const s=new xN(r,t,n,i);this.Bs.push(s);for(const o of i)this.Ni=this.Ni.add(new wF(o.key,r)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return gN.resolve(s)}lookupMutationBatch(e,t){return gN.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const n=this.Mi(t+1),i=n<0?0:n;return gN.resolve(this.Bs.length>i?this.Bs[i]:null)}getHighestUnacknowledgedBatchId(){return gN.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return gN.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new wF(t,0),i=new wF(t,Number.POSITIVE_INFINITY),r=[];return this.Ni.forEachInRange([n,i],e=>{const t=this.ki(e.Ci);r.push(t)}),gN.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new wR(dD);return t.forEach(e=>{const t=new wF(e,0),i=new wF(e,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([t,i],e=>{n=n.add(e.Ci)})}),gN.resolve(this.Oi(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let r=n;VD.isDocumentKey(r)||(r=r.child(""));const s=new wF(new VD(r),0);let o=new wR(dD);return this.Ni.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===i&&(o=o.add(e.Ci)),!0)},s),gN.resolve(this.Oi(o))}Oi(e){const t=[];return e.forEach(e=>{const n=this.ki(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){KA(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let n=this.Ni;return gN.forEach(t.mutations,i=>{const r=new wF(i.key,t.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=n})}_n(e){}containsKey(e,t){const n=new wF(t,0),i=this.Ni.firstAfterOrEqual(n);return gN.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return gN.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class SF{constructor(e){this.$i=e,this.docs=new yR(VD.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),r=i?i.size:0,s=this.$i(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return gN.resolve(n?n.document.mutableCopy():lR.newInvalidDocument(t))}getEntries(e,t){let n=YO();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():lR.newInvalidDocument(e))}),gN.resolve(n)}getAllFromCollection(e,t,n){let i=YO();const r=new VD(t.child("")),s=this.docs.getIteratorFrom(r);for(;s.hasNext();){const{key:e,value:{document:r}}=s.getNext();if(!t.isPrefixOf(e.path))break;e.path.length>t.length+1||_R(mR(r),n)<=0||(i=i.insert(r.key,r.mutableCopy()))}return gN.resolve(i)}getAllFromCollectionGroup(e,t,n,i){WA()}Bi(e,t){return gN.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new kF(this)}getSize(e){return gN.resolve(this.size)}}class kF extends LL{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(n)}),gN.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class IF{constructor(e){this.persistence=e,this.Li=new ZO(e=>ER(e),TR),this.lastRemoteSnapshotVersion=gD.min(),this.highestTargetId=0,this.Ui=0,this.qi=new bF,this.targetCount=0,this.Ki=CL.gn()}forEachTarget(e,t){return this.Li.forEach((e,n)=>t(n)),gN.resolve()}getLastRemoteSnapshotVersion(e){return gN.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return gN.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),gN.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ui&&(this.Ui=t),gN.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new CL(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,gN.resolve()}updateTargetData(e,t){return this.Tn(t),gN.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,gN.resolve()}removeTargets(e,t,n){let i=0;const r=[];return this.Li.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Li.delete(s),r.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),gN.waitFor(r).next(()=>i)}getTargetCount(e){return gN.resolve(this.targetCount)}getTargetData(e,t){const n=this.Li.get(t)||null;return gN.resolve(n)}addMatchingKeys(e,t,n){return this.qi.bi(t,n),gN.resolve()}removeMatchingKeys(e,t,n){this.qi.Vi(t,n);const i=this.persistence.referenceDelegate,r=[];return i&&t.forEach(t=>{r.push(i.markPotentiallyOrphaned(e,t))}),gN.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),gN.resolve()}getMatchingKeysForTargetId(e,t){const n=this.qi.Di(t);return gN.resolve(n)}containsKey(e,t){return gN.resolve(this.qi.containsKey(t))}}class EF{constructor(e,t){this.Gi={},this.overlays={},this.es=new cD(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new IF(this),this.indexManager=new sL,this.ds=function(e){return new SF(e)}(e=>this.referenceDelegate.Qi(e)),this.M=new ON(t),this._s=new yF(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Gi[e.toKey()];return n||(n=new CF(t,this.referenceDelegate),this.Gi[e.toKey()]=n),n}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,n){ZA("MemoryPersistence","Starting transaction:",e);const i=new TF(this.es.next());return this.referenceDelegate.ji(),n(i).next(e=>this.referenceDelegate.Wi(i).next(()=>e)).toPromise().then(e=>(i.raiseOnCommittedEvent(),e))}zi(e,t){return gN.or(Object.values(this.Gi).map(n=>()=>n.containsKey(e,t)))}}class TF extends mN{constructor(e){super(),this.currentSequenceNumber=e}}class xF{constructor(e){this.persistence=e,this.Hi=new bF,this.Ji=null}static Yi(e){return new xF(e)}get Xi(){if(this.Ji)return this.Ji;throw WA()}addReference(e,t,n){return this.Hi.addReference(n,t),this.Xi.delete(n.toString()),gN.resolve()}removeReference(e,t,n){return this.Hi.removeReference(n,t),this.Xi.add(n.toString()),gN.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),gN.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(e=>this.Xi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Xi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gN.forEach(this.Xi,n=>{const i=VD.fromPath(n);return this.Zi(e,i).next(e=>{e||t.removeEntry(i,gD.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(e=>{e?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return gN.or([()=>gN.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function AF(e,t){return`firestore_clients_${e}_${t}`}function DF(e,t,n){let i=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function RF(e,t){return`firestore_targets_${e}_${t}`}class OF{constructor(e,t,n,i){this.user=e,this.batchId=t,this.state=n,this.error=i}static tr(e,t,n){const i=JSON.parse(n);let r,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new XA(i.error.code,i.error.message))),s?new OF(e,t,i.state,r):(HA("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class PF{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static tr(e,t){const n=JSON.parse(t);let i,r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code,r&&(i=new XA(n.error.code,n.error.message))),r?new PF(e,n.state,i):(HA("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class NF{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const n=JSON.parse(t);let i="object"==typeof n&&n.activeTargetIds instanceof Array,r=tP();for(let s=0;i&&s<n.activeTargetIds.length;++s)i=MD(n.activeTargetIds[s]),r=r.add(n.activeTargetIds[s]);return i?new NF(e,r):(HA("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class LF{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new LF(t.clientId,t.onlineState):(HA("SharedClientState",`Failed to parse online state: ${e}`),null)}}class FF{constructor(){this.activeTargetIds=tP()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MF{constructor(e,t,n,i,r){this.window=e,this.Yn=t,this.persistenceKey=n,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new yR(dD),this.started=!1,this.cr=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.hr=AF(this.persistenceKey,this.ir),this.lr=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.ar=this.ar.insert(this.ir,new FF),this.dr=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.mr=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.gr=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ly.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.ir)continue;const t=e.getItem(AF(e.persistenceKey,i));if(t){const n=NF.tr(i,t);n&&(e.ar=e.ar.insert(n.clientId,n))}}e.yr();const n=e.storage.getItem(e.mr);if(n){const t=e.pr(n);t&&e.Ir(t)}for(const i of e.cr)e.ur(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((n,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,n){this.Er(e,t,n),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(RF(this.persistenceKey,e));if(n){const i=PF.tr(e,n);i&&(t=i.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(RF(this.persistenceKey,e))}updateQueryState(e,t,n){this.br(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.Ar(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ZA("SharedClientState","READ",e,t),t}setItem(e,t){ZA("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ZA("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const n=e;if(n.storageArea===this.storage){if(ZA("SharedClientState","EVENT",n.key,n.newValue),n.key===this.hr)return void HA("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,ly.Z)(function*(){if(t.started){if(null!==n.key)if(t.dr.test(n.key)){if(null==n.newValue){const e=t.vr(n.key);return t.Sr(e,null)}{const e=t.Dr(n.key,n.newValue);if(e)return t.Sr(e.clientId,e)}}else if(t._r.test(n.key)){if(null!==n.newValue){const e=t.Cr(n.key,n.newValue);if(e)return t.Nr(e)}}else if(t.wr.test(n.key)){if(null!==n.newValue){const e=t.kr(n.key,n.newValue);if(e)return t.Mr(e)}}else if(n.key===t.mr){if(null!==n.newValue){const e=t.pr(n.newValue);if(e)return t.Ir(e)}}else if(n.key===t.lr){const e=function(e){let t=cD.A;if(null!=e)try{const n=JSON.parse(e);KA("number"==typeof n),t=n}catch(e){HA("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue);e!==cD.A&&t.sequenceNumberHandler(e)}else if(n.key===t.gr){const e=t.Or(n.newValue);yield Promise.all(e.map(e=>t.syncEngine.Fr(e)))}}else t.cr.push(n)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,n){const i=new OF(this.currentUser,e,t,n),r=DF(this.persistenceKey,this.currentUser,e);this.setItem(r,i.er())}Ar(e){const t=DF(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,n){const i=RF(this.persistenceKey,e),r=new PF(e,t,n);this.setItem(i,r.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const n=this.vr(e);return NF.tr(n,t)}Cr(e,t){const n=this._r.exec(e),i=Number(n[1]);return OF.tr(new BA(void 0!==n[2]?n[2]:null),i,t)}kr(e,t){const n=this.wr.exec(e),i=Number(n[1]);return PF.tr(i,t)}pr(e){return LF.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,ly.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);ZA("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const n=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),r=this.Tr(n),s=[],o=[];return r.forEach(e=>{i.has(e)||s.push(e)}),i.forEach(e=>{r.has(e)||o.push(e)}),this.syncEngine.Lr(s,o).then(()=>{this.ar=n})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=tP();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class VF{constructor(){this.Ur=new FF,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,n){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new FF,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class UF{Kr(e){}shutdown(){}}class qF{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){ZA("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){ZA("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const BF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class jF{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class zF extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,n,i,r){const s=this.ho(e,t);ZA("RestConnection","Sending: ",s,n);const o={};return this.lo(o,i,r),this.fo(e,s,o,n).then(e=>(ZA("RestConnection","Received: ",e),e),t=>{throw YA("RestConnection",`${e} failed with error: `,t,"url: ",s,"request:",n),t})}_o(e,t,n,i,r){return this.co(e,t,n,i,r)}lo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+jA,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}ho(e,t){return`${this.uo}/v1/${t}:${BF[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,n,i){return new Promise((r,s)=>{const o=new UA;o.listenOnce(NA.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case PA.NO_ERROR:const t=o.getResponseJson();ZA("Connection","XHR received:",JSON.stringify(t)),r(t);break;case PA.TIMEOUT:ZA("Connection",'RPC "'+e+'" timed out'),s(new XA(JA.DEADLINE_EXCEEDED,"Request time out"));break;case PA.HTTP_ERROR:const n=o.getStatus();if(ZA("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(JA).indexOf(t)>=0?t:JA.UNKNOWN}(e.status);s(new XA(t,e.message))}else s(new XA(JA.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new XA(JA.UNAVAILABLE,"Connection failed."));break;default:WA()}}finally{ZA("Connection",'RPC "'+e+'" completed.')}});const a=JSON.stringify(i);o.send(t,"POST",a,n,15)})}wo(e,t,n){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=RA(),s=OA(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new MA({})),this.lo(o.initMessageHeaders,t,n),(0,uy.uI)()||(0,uy.b$)()||(0,uy.d)()||(0,uy.w1)()||(0,uy.Mn)()||(0,uy.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");const a=i.join("");ZA("Connection","Creating WebChannel: "+a,o);const l=r.createWebChannel(a,o);let c=!1,u=!1;const h=new jF({Jr:e=>{u?ZA("Connection","Not sending because WebChannel is closed:",e):(c||(ZA("Connection","Opening WebChannel transport."),l.open(),c=!0),ZA("Connection","WebChannel sending:",e),l.send(e))},Yr:()=>l.close()}),d=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return d(l,VA.EventType.OPEN,()=>{u||ZA("Connection","WebChannel transport opened.")}),d(l,VA.EventType.CLOSE,()=>{u||(u=!0,ZA("Connection","WebChannel transport closed"),h.ro())}),d(l,VA.EventType.ERROR,e=>{u||(u=!0,YA("Connection","WebChannel transport errored:",e),h.ro(new XA(JA.UNAVAILABLE,"The operation could not be completed")))}),d(l,VA.EventType.MESSAGE,e=>{var t;if(!u){const n=e.data[0];KA(!!n);const i=n,r=i.error||(null===(t=i[0])||void 0===t?void 0:t.error);if(r){ZA("Connection","WebChannel received error:",r);const e=r.status;let t=function(e){const t=BO[e];if(void 0!==t)return GO(t)}(e),n=r.message;void 0===t&&(t=JA.INTERNAL,n="Unknown error status: "+e+" with message "+r.message),u=!0,h.ro(new XA(t,n)),l.close()}else ZA("Connection","WebChannel received:",n),h.oo(n)}}),d(s,LA.STAT_EVENT,e=>{e.stat===FA.PROXY?ZA("Connection","Detected buffering proxy"):e.stat===FA.NOPROXY&&ZA("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.io()},0),h}}function GF(){return"undefined"!=typeof window?window:null}function ZF(){return"undefined"!=typeof document?document:null}function HF(e){return new pP(e,!0)}class YF{constructor(e,t,n=1e3,i=1.5,r=6e4){this.Yn=e,this.timerId=t,this.mo=n,this.yo=i,this.po=r,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),n=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-n);i>0&&ZA("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class $F{constructor(e,t,n,i,r,s,o,a){this.Yn=e,this.Vo=n,this.vo=i,this.So=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new YF(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,ly.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,ly.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var n=this;return(0,ly.Z)(function*(){n.Uo(),n.qo(),n.No.cancel(),n.Do++,4!==e?n.No.reset():t&&t.code===JA.RESOURCE_EXHAUSTED?(HA(t.toString()),HA("Using maximum backoff delay to prevent overloading the backend."),n.No.Ao()):t&&t.code===JA.UNAUTHENTICATED&&3!==n.state&&(n.authCredentialsProvider.invalidateToken(),n.appCheckCredentialsProvider.invalidateToken()),null!==n.stream&&(n.Ko(),n.stream.close(),n.stream=null),n.state=e,yield n.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.Do===t&&this.Qo(e,n)},t=>{e(()=>{const e=new XA(JA.UNKNOWN,"Fetching auth token failed: "+t.message);return this.jo(e)})})}Qo(e,t){const n=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{n(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(e=>{n(()=>this.jo(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Oo(){var e=this;this.state=5,this.No.Ro((0,ly.Z)(function*(){e.state=0,e.start()}))}jo(e){return ZA("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(ZA("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WF extends $F{constructor(e,t,n,i,r,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,s),this.M=r}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function(e,t){let n;if("targetChange"in t){const i=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:WA()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(e,t){return e.N?(KA(void 0===t||"string"==typeof t),ID.fromBase64String(t||"")):(KA(void 0===t||t instanceof Uint8Array),ID.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?JA.UNKNOWN:GO(e.code);return new XA(t,e.message||"")}(o);n=new oP(i,r,s,a||null)}else if("documentChange"in t){const i=t.documentChange,r=wP(e,i.document.name),s=_P(i.document.updateTime),o=new oR({mapValue:{fields:i.document.fields}}),a=lR.newFoundDocument(r,s,o);n=new rP(i.targetIds||[],i.removedTargetIds||[],a.key,a)}else if("documentDelete"in t){const i=t.documentDelete,r=wP(e,i.document),s=i.readTime?_P(i.readTime):gD.min(),o=lR.newNoDocument(r,s);n=new rP([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const i=t.documentRemove,r=wP(e,i.document);n=new rP([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return WA();{const e=t.filter,i=new qO(e.count||0);n=new sP(e.targetId,i)}}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return gD.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?gD.min():t.readTime?_P(t.readTime):gD.min()}(e);return this.listener.zo(t,n)}Ho(e){const t={};t.database=kP(this.M),t.addTarget=function(e,t){let n;const i=t.target;return n=xR(i)?{documents:DP(e,i)}:{query:RP(e,i)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=mP(e,t.resumeToken):t.snapshotVersion.compareTo(gD.min())>0&&(n.readTime=fP(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return WA()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.Lo(t)}Jo(e){const t={};t.database=kP(this.M),t.removeTarget=e,this.Lo(t)}}class KF extends $F{constructor(e,t,n,i,r,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,s),this.M=r,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(KA(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function(e,t){return e&&e.length>0?(KA(void 0!==t),e.map(e=>function(e,t){let n=_P(e.updateTime?e.updateTime:t);return n.isEqual(gD.min())&&(n=_P(t)),new kO(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=_P(e.commitTime);return this.listener.tu(n,t)}return KA(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=kP(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>xP(this.M,e))};this.Lo(t)}}class QF extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=n,this.M=i,this.su=!1}iu(){if(this.su)throw new XA(JA.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,n){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,r])=>this.So.co(e,t,n,i,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===JA.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new XA(JA.UNKNOWN,e.toString())})}_o(e,t,n){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,r])=>this.So._o(e,t,n,i,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===JA.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new XA(JA.UNKNOWN,e.toString())})}terminate(){this.su=!0}}class JF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(HA(t),this.uu=!1):ZA("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class XF{constructor(e,t,n,i,r){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=r,this.gu.Kr(e=>{n.enqueueAndForget((0,ly.Z)(function*(){var e;uM(s)&&(ZA("RemoteStore","Restarting streams for network reachability change."),yield(e=(0,ly.Z)(function*(e){const t=QA(e);t.wu.add(4),yield nM(t),t.yu.set("Unknown"),t.wu.delete(4),yield eM(t)}),function(t){return e.apply(this,arguments)})(s))}))}),this.yu=new JF(n,i)}}function eM(e){return tM.apply(this,arguments)}function tM(){return(tM=(0,ly.Z)(function*(e){if(uM(e))for(const t of e.mu)yield t(!0)})).apply(this,arguments)}function nM(e){return iM.apply(this,arguments)}function iM(){return(iM=(0,ly.Z)(function*(e){for(const t of e.mu)yield t(!1)})).apply(this,arguments)}function rM(e,t){const n=QA(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),cM(n)?lM(n):UM(n).Mo()&&oM(n,t))}function sM(e,t){const n=QA(e),i=UM(n);n._u.delete(t),i.Mo()&&aM(n,t),0===n._u.size&&(i.Mo()?i.$o():uM(n)&&n.yu.set("Unknown"))}function oM(e,t){e.pu.Z(t.targetId),UM(e).Ho(t)}function aM(e,t){e.pu.Z(t),UM(e).Jo(t)}function lM(e){e.pu=new lP({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e._u.get(t)||null}),UM(e).start(),e.yu.au()}function cM(e){return uM(e)&&!UM(e).ko()&&e._u.size>0}function uM(e){return 0===QA(e).wu.size}function hM(e){e.pu=void 0}function dM(e){return pM.apply(this,arguments)}function pM(){return(pM=(0,ly.Z)(function*(e){e._u.forEach((t,n)=>{oM(e,t)})})).apply(this,arguments)}function fM(e,t){return mM.apply(this,arguments)}function mM(){return(mM=(0,ly.Z)(function*(e,t){hM(e),cM(e)?(e.yu.lu(t),lM(e)):e.yu.set("Unknown")})).apply(this,arguments)}function gM(e,t,n){return _M.apply(this,arguments)}function _M(){return(_M=(0,ly.Z)(function*(e,t,n){if(e.yu.set("Online"),t instanceof oP&&2===t.state&&t.cause)try{yield(i=(0,ly.Z)(function*(e,t){const n=t.cause;for(const i of t.targetIds)e._u.has(i)&&(yield e.remoteSyncer.rejectListen(i,n),e._u.delete(i),e.pu.removeTarget(i))}),function(e,t){return i.apply(this,arguments)})(e,t)}catch(n){ZA("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),yield yM(e,n)}else if(t instanceof rP?e.pu.ut(t):t instanceof sP?e.pu._t(t):e.pu.ht(t),!n.isEqual(gD.min()))try{const t=yield rF(e.localStore);n.compareTo(t)>=0&&(yield function(e,t){const n=e.pu.yt(t);return n.targetChanges.forEach((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=e._u.get(i);r&&e._u.set(i,r.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(t=>{const n=e._u.get(t);if(!n)return;e._u.set(t,n.withResumeToken(ID.EMPTY_BYTE_STRING,n.snapshotVersion)),aM(e,t);const i=new RN(n.target,t,1,n.sequenceNumber);oM(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n))}catch(t){ZA("RemoteStore","Failed to raise snapshot:",t),yield yM(e,t)}var i})).apply(this,arguments)}function yM(e,t,n){return vM.apply(this,arguments)}function vM(){return(vM=(0,ly.Z)(function*(e,t,n){if(!wN(t))throw t;e.wu.add(1),yield nM(e),e.yu.set("Offline"),n||(n=()=>rF(e.localStore)),e.asyncQueue.enqueueRetryable((0,ly.Z)(function*(){ZA("RemoteStore","Retrying IndexedDB access"),yield n(),e.wu.delete(1),yield eM(e)}))})).apply(this,arguments)}function bM(e,t){return t().catch(n=>yM(e,n,t))}function wM(e){return CM.apply(this,arguments)}function CM(){return(CM=(0,ly.Z)(function*(e){const t=QA(e),n=qM(t);let i=t.du.length>0?t.du[t.du.length-1].batchId:-1;for(;SM(t);)try{const e=yield aF(t.localStore,i);if(null===e){0===t.du.length&&n.$o();break}i=e.batchId,kM(t,e)}catch(e){yield yM(t,e)}IM(t)&&EM(t)})).apply(this,arguments)}function SM(e){return uM(e)&&e.du.length<10}function kM(e,t){e.du.push(t);const n=qM(e);n.Mo()&&n.Xo&&n.Zo(t.mutations)}function IM(e){return uM(e)&&!qM(e).ko()&&e.du.length>0}function EM(e){qM(e).start()}function TM(e){return xM.apply(this,arguments)}function xM(){return(xM=(0,ly.Z)(function*(e){qM(e).nu()})).apply(this,arguments)}function AM(e){return DM.apply(this,arguments)}function DM(){return(DM=(0,ly.Z)(function*(e){const t=qM(e);for(const n of e.du)t.Zo(n.mutations)})).apply(this,arguments)}function RM(e,t,n){return OM.apply(this,arguments)}function OM(){return(OM=(0,ly.Z)(function*(e,t,n){const i=e.du.shift(),r=AN.from(i,t,n);yield bM(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),yield wM(e)})).apply(this,arguments)}function PM(e,t){return NM.apply(this,arguments)}function NM(){return(NM=(0,ly.Z)(function*(e,t){var n;t&&qM(e).Xo&&(yield(n=(0,ly.Z)(function*(e,t){if(zO(n=t.code)&&n!==JA.ABORTED){const n=e.du.shift();qM(e).Fo(),yield bM(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),yield wM(e)}var n}),function(e,t){return n.apply(this,arguments)})(e,t)),IM(e)&&EM(e)})).apply(this,arguments)}function LM(e,t){return FM.apply(this,arguments)}function FM(){return(FM=(0,ly.Z)(function*(e,t){const n=QA(e);n.asyncQueue.verifyOperationInProgress(),ZA("RemoteStore","RemoteStore received new credentials");const i=uM(n);n.wu.add(3),yield nM(n),i&&n.yu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(t),n.wu.delete(3),yield eM(n)})).apply(this,arguments)}function MM(e,t){return VM.apply(this,arguments)}function VM(){return(VM=(0,ly.Z)(function*(e,t){const n=QA(e);t?(n.wu.delete(2),yield eM(n)):t||(n.wu.add(2),yield nM(n),n.yu.set("Unknown"))})).apply(this,arguments)}function UM(e){return e.Iu||(e.Iu=function(e,t,n){const i=QA(e);return i.iu(),new WF(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,n)}(e.datastore,e.asyncQueue,{Xr:dM.bind(null,e),eo:fM.bind(null,e),zo:gM.bind(null,e)}),e.mu.push(function(){var t=(0,ly.Z)(function*(t){t?(e.Iu.Fo(),cM(e)?lM(e):e.yu.set("Unknown")):(yield e.Iu.stop(),hM(e))});return function(e){return t.apply(this,arguments)}}())),e.Iu}function qM(e){return e.Tu||(e.Tu=function(e,t,n){const i=QA(e);return i.iu(),new KF(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,n)}(e.datastore,e.asyncQueue,{Xr:TM.bind(null,e),eo:PM.bind(null,e),eu:AM.bind(null,e),tu:RM.bind(null,e)}),e.mu.push(function(){var t=(0,ly.Z)(function*(t){t?(e.Tu.Fo(),yield wM(e)):(yield e.Tu.stop(),e.du.length>0&&(ZA("RemoteStore",`Stopping write stream with ${e.du.length} pending writes`),e.du=[]))});return function(e){return t.apply(this,arguments)}}())),e.Tu}class BM{constructor(e,t,n,i,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new eD,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,i,r){const s=Date.now()+n,o=new BM(e,t,s,i,r);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new XA(JA.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jM(e,t){if(HA("AsyncQueue",`${t}: ${e}`),wN(e))return new XA(JA.UNAVAILABLE,`${t}: ${e}`);throw e}class zM{constructor(e){this.comparator=e?(t,n)=>e(t,n)||VD.comparator(t.key,n.key):(e,t)=>VD.comparator(e.key,t.key),this.keyedMap=WO(),this.sortedSet=new yR(this.comparator)}static emptySet(e){return new zM(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zM))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(!e.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new zM;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class GM{constructor(){this.Eu=new yR(VD.comparator)}track(e){const t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):WA():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,n)=>{e.push(n)}),e}}class ZM{constructor(e,t,n,i,r,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,i){const r=[];return t.forEach(e=>{r.push({type:0,doc:e})}),new ZM(e,t,zM.emptySet(t),r,n,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tO(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}class HM{constructor(){this.Ru=void 0,this.listeners=[]}}class YM{constructor(){this.queries=new ZO(e=>nO(e),tO),this.onlineState="Unknown",this.bu=new Set}}function $M(e,t){return WM.apply(this,arguments)}function WM(){return(WM=(0,ly.Z)(function*(e,t){const n=QA(e),i=t.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new HM),r)try{s.Ru=yield n.onListen(i)}catch(e){const n=jM(e,`Initialization of query '${iO(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.listeners.push(t),t.Pu(n.onlineState),s.Ru&&t.Vu(s.Ru)&&eV(n)})).apply(this,arguments)}function KM(e,t){return QM.apply(this,arguments)}function QM(){return(QM=(0,ly.Z)(function*(e,t){const n=QA(e),i=t.query;let r=!1;const s=n.queries.get(i);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),r=0===s.listeners.length)}if(r)return n.queries.delete(i),n.onUnlisten(i)})).apply(this,arguments)}function JM(e,t){const n=QA(e);let i=!1;for(const r of t){const e=n.queries.get(r.query);if(e){for(const t of e.listeners)t.Vu(r)&&(i=!0);e.Ru=r}}i&&eV(n)}function XM(e,t,n){const i=QA(e),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(n);i.queries.delete(t)}function eV(e){e.bu.forEach(e=>{e.next()})}class tV{constructor(e,t,n){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=n||{}}Vu(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new ZM(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=ZM.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class nV{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class iV{constructor(e){this.M=e}wi(e){return wP(this.M,e)}mi(e){return e.metadata.exists?TP(this.M,e.document,!1):lR.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return _P(e)}}class rV{constructor(e,t,n){this.Ou=e,this.localStore=t,this.M=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=sV(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const n=wD.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,n=new iV(this.M);for(const i of e)if(i.metadata.queries){const e=n.wi(i.metadata.name);for(const n of i.metadata.queries){const i=(t.get(n)||XO()).add(e);t.set(n,i)}}return t}complete(){var e=this;return(0,ly.Z)(function*(){const t=yield function(e,t,n,i){return mF.apply(this,arguments)}(e.localStore,new iV(e.M),e.documents,e.Ou.id),n=e.$u(e.documents);for(const i of e.queries)yield gF(e.localStore,i,n.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function sV(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class oV{constructor(e){this.key=e}}class aV{constructor(e){this.key=e}}class lV{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=XO(),this.mutatedKeys=XO(),this.Gu=oO(e),this.Qu=new zM(this.Gu)}get ju(){return this.Uu}Wu(e,t){const n=t?t.zu:new GM,i=t?t.Qu:this.Qu;let r=t?t.mutatedKeys:this.mutatedKeys,s=i,o=!1;const a="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((e,t)=>{const c=i.get(e),u=rO(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),p=!0):this.Hu(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.Gu(u,a)>0||l&&this.Gu(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(o=!0)),p&&(u?(s=s.add(u),r=d?r.add(e):r.delete(e)):(s=s.delete(e),r=r.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),r=r.delete(e.key),n.track({type:1,doc:e})}return{Qu:s,zu:n,ii:o,mutatedKeys:r}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const r=e.zu.Au();r.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return WA()}};return n(e)-n(t)}(e.type,t.type)||this.Gu(e.doc,t.doc)),this.Ju(n);const s=t?this.Yu():[],o=0===this.Ku.size&&this.current?1:0,a=o!==this.qu;return this.qu=o,0!==r.length||a?{snapshot:new ZM(this.query,e.Qu,i,r,e.mutatedKeys,0===o,a,!1),Xu:s}:{Xu:s}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new GM,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(e=>this.Uu=this.Uu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Uu=this.Uu.delete(e)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=XO(),this.Qu.forEach(e=>{this.Zu(e.key)&&(this.Ku=this.Ku.add(e.key))});const t=[];return e.forEach(e=>{this.Ku.has(e)||t.push(new aV(e))}),this.Ku.forEach(n=>{e.has(n)||t.push(new oV(n))}),t}ta(e){this.Uu=e._i,this.Ku=XO();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return ZM.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class cV{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class uV{constructor(e){this.key=e,this.na=!1}}class hV{constructor(e,t,n,i,r,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.sa={},this.ia=new ZO(e=>nO(e),tO),this.ra=new Map,this.oa=new Set,this.ua=new yR(VD.comparator),this.aa=new Map,this.ca=new bF,this.ha={},this.la=new Map,this.fa=CL.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function dV(e,t){return pV.apply(this,arguments)}function pV(){return(pV=(0,ly.Z)(function*(e,t){const n=nU(e);let i,r;const s=n.ia.get(t);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.ea();else{const e=yield lF(n.localStore,XR(t));n.isPrimaryClient&&rM(n.remoteStore,e);const s=n.sharedClientState.addLocalQueryTarget(e.targetId);i=e.targetId,r=yield fV(n,t,i,"current"===s)}return r})).apply(this,arguments)}function fV(e,t,n,i){return mV.apply(this,arguments)}function mV(){return(mV=(0,ly.Z)(function*(e,t,n,i){e._a=(t,n,i)=>{return(r=(0,ly.Z)(function*(e,t,n,i){let r=t.view.Wu(n);r.ii&&(r=yield hF(e.localStore,t.query,!1).then(({documents:e})=>t.view.Wu(e,r)));const s=i&&i.targetChanges.get(t.targetId),o=t.view.applyChanges(r,e.isPrimaryClient,s);return PV(e,t.targetId,o.Xu),o.snapshot}),function(e,t,n,i){return r.apply(this,arguments)})(e,t,n,i);var r};const r=yield hF(e.localStore,t,!0),s=new lV(t,r._i),o=s.Wu(r.documents),a=iP.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==e.onlineState),l=s.applyChanges(o,e.isPrimaryClient,a);PV(e,n,l.Xu);const c=new cV(t,n,s);return e.ia.set(t,c),e.ra.has(n)?e.ra.get(n).push(t):e.ra.set(n,[t]),l.snapshot})).apply(this,arguments)}function gV(e,t){return _V.apply(this,arguments)}function _V(){return(_V=(0,ly.Z)(function*(e,t){const n=QA(e),i=n.ia.get(t),r=n.ra.get(i.targetId);if(r.length>1)return n.ra.set(i.targetId,r.filter(e=>!tO(e,t))),void n.ia.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||(yield cF(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),sM(n.remoteStore,i.targetId),RV(n,i.targetId)}).catch(TL))):(RV(n,i.targetId),yield cF(n.localStore,i.targetId,!0))})).apply(this,arguments)}function yV(){return(yV=(0,ly.Z)(function*(e,t,n){const i=iU(e);try{const e=yield function(e,t){const n=QA(e),i=mD.now(),r=t.reduce((e,t)=>e.add(t.key),XO());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>n.fi.Ks(e,r).next(r=>{s=r;const o=[];for(const e of t){const t=DO(e,s.get(e.key));null!=t&&o.push(new NO(e.key,t,aR(t.value.mapValue),IO.exists(!0)))}return n.Bs.addMutationBatch(e,i,o,t)})).then(e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s}))}(i.localStore,t);i.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let i=e.ha[e.currentUser.toKey()];i||(i=new yR(dD)),i=i.insert(t,n),e.ha[e.currentUser.toKey()]=i}(i,e.batchId,n),yield FV(i,e.changes),yield wM(i.remoteStore)}catch(e){const t=jM(e,"Failed to persist write");n.reject(t)}})).apply(this,arguments)}function vV(e,t){return bV.apply(this,arguments)}function bV(){return(bV=(0,ly.Z)(function*(e,t){const n=QA(e);try{const e=yield sF(n.localStore,t);t.targetChanges.forEach((e,t)=>{const i=n.aa.get(t);i&&(KA(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?i.na=!0:e.modifiedDocuments.size>0?KA(i.na):e.removedDocuments.size>0&&(KA(i.na),i.na=!1))}),yield FV(n,e,t)}catch(e){yield TL(e)}})).apply(this,arguments)}function wV(e,t,n){const i=QA(e);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const e=[];i.ia.forEach((n,i)=>{const r=i.view.Pu(t);r.snapshot&&e.push(r.snapshot)}),function(e,t){const n=QA(e);n.onlineState=t;let i=!1;n.queries.forEach((e,n)=>{for(const r of n.listeners)r.Pu(t)&&(i=!0)}),i&&eV(n)}(i.eventManager,t),e.length&&i.sa.zo(e),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function CV(e,t,n){return SV.apply(this,arguments)}function SV(){return(SV=(0,ly.Z)(function*(e,t,n){const i=QA(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.aa.get(t),s=r&&r.key;if(s){let e=new yR(VD.comparator);e=e.insert(s,lR.newNoDocument(s,gD.min()));const n=XO().add(s),r=new nP(gD.min(),new Map,new wR(dD),e,n);yield vV(i,r),i.ua=i.ua.remove(s),i.aa.delete(t),LV(i)}else yield cF(i.localStore,t,!1).then(()=>RV(i,t,n)).catch(TL)})).apply(this,arguments)}function kV(e,t){return IV.apply(this,arguments)}function IV(){return(IV=(0,ly.Z)(function*(e,t){const n=QA(e),i=t.batch.batchId;try{const e=yield iF(n.localStore,t);DV(n,i,null),AV(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield FV(n,e)}catch(e){yield TL(e)}})).apply(this,arguments)}function EV(e,t,n){return TV.apply(this,arguments)}function TV(){return(TV=(0,ly.Z)(function*(e,t,n){const i=QA(e);try{const e=yield function(e,t){const n=QA(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let i;return n.Bs.lookupMutationBatch(e,t).next(t=>(KA(null!==t),i=t.keys(),n.Bs.removeMutationBatch(e,t))).next(()=>n.Bs.performConsistencyCheck(e)).next(()=>n.fi.Ks(e,i))})}(i.localStore,t);DV(i,t,n),AV(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),yield FV(i,e)}catch(n){yield TL(n)}})).apply(this,arguments)}function xV(){return(xV=(0,ly.Z)(function*(e,t){const n=QA(e);uM(n.remoteStore)||ZA("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=yield function(e){const t=QA(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.Bs.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(-1===e)return void t.resolve();const i=n.la.get(e)||[];i.push(t),n.la.set(e,i)}catch(e){const n=jM(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}})).apply(this,arguments)}function AV(e,t){(e.la.get(t)||[]).forEach(e=>{e.resolve()}),e.la.delete(t)}function DV(e,t,n){const i=QA(e);let r=i.ha[i.currentUser.toKey()];if(r){const e=r.get(t);e&&(n?e.reject(n):e.resolve(),r=r.remove(t)),i.ha[i.currentUser.toKey()]=r}}function RV(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.ra.get(t))e.ia.delete(i),n&&e.sa.wa(i,n);e.ra.delete(t),e.isPrimaryClient&&e.ca.vi(t).forEach(t=>{e.ca.containsKey(t)||OV(e,t)})}function OV(e,t){e.oa.delete(t.path.canonicalString());const n=e.ua.get(t);null!==n&&(sM(e.remoteStore,n),e.ua=e.ua.remove(t),e.aa.delete(n),LV(e))}function PV(e,t,n){for(const i of n)i instanceof oV?(e.ca.addReference(i.key,t),NV(e,i)):i instanceof aV?(ZA("SyncEngine","Document no longer in limbo: "+i.key),e.ca.removeReference(i.key,t),e.ca.containsKey(i.key)||OV(e,i.key)):WA()}function NV(e,t){const n=t.key,i=n.path.canonicalString();e.ua.get(n)||e.oa.has(i)||(ZA("SyncEngine","New document in limbo: "+n),e.oa.add(i),LV(e))}function LV(e){for(;e.oa.size>0&&e.ua.size<e.maxConcurrentLimboResolutions;){const t=e.oa.values().next().value;e.oa.delete(t);const n=new VD(wD.fromString(t)),i=e.fa.next();e.aa.set(i,new uV(n)),e.ua=e.ua.insert(n,i),rM(e.remoteStore,new RN(XR($R(n.path)),i,2,cD.A))}}function FV(e,t,n){return MV.apply(this,arguments)}function MV(){return(MV=(0,ly.Z)(function*(e,t,n){const i=QA(e),r=[],s=[],o=[];var a;i.ia.isEmpty()||(i.ia.forEach((e,a)=>{o.push(i._a(a,t,n).then(e=>{if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),r.push(e);const t=QL.Ys(a.targetId,e);s.push(t)}}))}),yield Promise.all(o),i.sa.zo(r),yield(a=(0,ly.Z)(function*(e,t){const n=QA(e);try{yield n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>gN.forEach(t,t=>gN.forEach(t.Hs,i=>n.persistence.referenceDelegate.addReference(e,t.targetId,i)).next(()=>gN.forEach(t.Js,i=>n.persistence.referenceDelegate.removeReference(e,t.targetId,i)))))}catch(e){if(!wN(e))throw e;ZA("LocalStore","Failed to update sequence numbers: "+e)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.ui.get(e),i=t.withLastLimboFreeSnapshotVersion(t.snapshotVersion);n.ui=n.ui.insert(e,i)}}}),function(e,t){return a.apply(this,arguments)})(i.localStore,s))})).apply(this,arguments)}function VV(e,t){return UV.apply(this,arguments)}function UV(){return(UV=(0,ly.Z)(function*(e,t){const n=QA(e);if(!n.currentUser.isEqual(t)){ZA("SyncEngine","User change. New user:",t.toKey());const e=yield tF(n.localStore,t);n.currentUser=t,function(e,t){e.la.forEach(e=>{e.forEach(e=>{e.reject(new XA(JA.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.la.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),yield FV(n,e.di)}})).apply(this,arguments)}function qV(e,t){const n=QA(e),i=n.aa.get(t);if(i&&i.na)return XO().add(i.key);{let e=XO();const i=n.ra.get(t);if(!i)return e;for(const t of i){const i=n.ia.get(t);e=e.unionWith(i.view.ju)}return e}}function BV(e,t){return jV.apply(this,arguments)}function jV(){return(jV=(0,ly.Z)(function*(e,t){const n=QA(e),i=yield hF(n.localStore,t.query,!0),r=t.view.ta(i);return n.isPrimaryClient&&PV(n,t.targetId,r.Xu),r})).apply(this,arguments)}function zV(e,t){return GV.apply(this,arguments)}function GV(){return(GV=(0,ly.Z)(function*(e,t){const n=QA(e);return pF(n.localStore,t).then(e=>FV(n,e))})).apply(this,arguments)}function ZV(e,t,n,i){return HV.apply(this,arguments)}function HV(){return(HV=(0,ly.Z)(function*(e,t,n,i){const r=QA(e),s=yield function(e,t){const n=QA(e),i=QA(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>i.fn(e,t).next(t=>t?n.fi.Ks(e,t):gN.resolve(null)))}(r.localStore,t);null!==s?("pending"===n?yield wM(r.remoteStore):"acknowledged"===n||"rejected"===n?(DV(r,t,i||null),AV(r,t),function(e,t){QA(QA(e).Bs)._n(t)}(r.localStore,t)):WA(),yield FV(r,s)):ZA("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function YV(){return(YV=(0,ly.Z)(function*(e,t){const n=QA(e);if(nU(n),iU(n),!0===t&&!0!==n.da){const e=n.sharedClientState.getAllActiveQueryTargets(),t=yield $V(n,e.toArray());n.da=!0,yield MM(n.remoteStore,!0);for(const i of t)rM(n.remoteStore,i)}else if(!1===t&&!1!==n.da){const e=[];let t=Promise.resolve();n.ra.forEach((i,r)=>{n.sharedClientState.isLocalQueryTarget(r)?e.push(r):t=t.then(()=>(RV(n,r),cF(n.localStore,r,!0))),sM(n.remoteStore,r)}),yield t,yield $V(n,e),function(e){const t=QA(e);t.aa.forEach((e,n)=>{sM(t.remoteStore,n)}),t.ca.Si(),t.aa=new Map,t.ua=new yR(VD.comparator)}(n),n.da=!1,yield MM(n.remoteStore,!1)}})).apply(this,arguments)}function $V(e,t,n){return WV.apply(this,arguments)}function WV(){return(WV=(0,ly.Z)(function*(e,t,n){const i=QA(e),r=[],s=[];for(const o of t){let e;const t=i.ra.get(o);if(t&&0!==t.length){e=yield lF(i.localStore,XR(t[0]));for(const e of t){const t=i.ia.get(e),n=yield BV(i,t);n.snapshot&&s.push(n.snapshot)}}else{const t=yield dF(i.localStore,o);e=yield lF(i.localStore,t),yield fV(i,KV(t),o,!1)}r.push(e)}return i.sa.zo(s),r})).apply(this,arguments)}function KV(e){return YR(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function QV(e){const t=QA(e);return QA(QA(t.localStore).persistence).Fs()}function JV(e,t,n,i){return XV.apply(this,arguments)}function XV(){return(XV=(0,ly.Z)(function*(e,t,n,i){const r=QA(e);if(r.da)return void ZA("SyncEngine","Ignoring unexpected query state notification.");const s=r.ra.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=yield pF(r.localStore,sO(s[0])),i=nP.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);yield FV(r,e,i);break}case"rejected":yield cF(r.localStore,t,!0),RV(r,t,i);break;default:WA()}})).apply(this,arguments)}function eU(e,t,n){return tU.apply(this,arguments)}function tU(){return(tU=(0,ly.Z)(function*(e,t,n){const i=nU(e);if(i.da){for(const e of t){if(i.ra.has(e)){ZA("SyncEngine","Adding an already active target "+e);continue}const t=yield dF(i.localStore,e),n=yield lF(i.localStore,t);yield fV(i,KV(t),n.targetId,!1),rM(i.remoteStore,n)}for(const e of n)i.ra.has(e)&&(yield cF(i.localStore,e,!1).then(()=>{sM(i.remoteStore,e),RV(i,e)}).catch(TL))}})).apply(this,arguments)}function nU(e){const t=QA(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vV.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CV.bind(null,t),t.sa.zo=JM.bind(null,t.eventManager),t.sa.wa=XM.bind(null,t.eventManager),t}function iU(e){const t=QA(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=EV.bind(null,t),t}class rU{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ly.Z)(function*(){t.M=HF(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return eF(this.persistence,new JL,e.initialUser,this.M)}ya(e){return new EF(xF.Yi,this.M)}ga(e){return new VF}terminate(){var e=this;return(0,ly.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class sU extends rU{constructor(e,t,n){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,n=this;return(0,ly.Z)(function*(){yield t().call(n,e),yield n.Ta.initialize(n,e),yield iU(n.Ta.syncEngine),yield wM(n.Ta.remoteStore),yield n.persistence.Ts(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()))})()}Ia(e){return eF(this.persistence,new JL,e.initialUser,this.M)}pa(e){return new RL(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=WL(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?fL.withCacheSize(this.cacheSizeBytes):fL.DEFAULT;return new HL(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,GF(),ZF(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new VF}}class oU extends sU{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,n=this;return(0,ly.Z)(function*(){yield t().call(n,e);const i=n.Ta.syncEngine;n.sharedClientState instanceof MF&&(n.sharedClientState.syncEngine={$r:ZV.bind(null,i),Br:JV.bind(null,i),Lr:eU.bind(null,i),Fs:QV.bind(null,i),Fr:zV.bind(null,i)},yield n.sharedClientState.start()),yield n.persistence.Ts(function(){var e=(0,ly.Z)(function*(e){yield function(e,t){return YV.apply(this,arguments)}(n.Ta.syncEngine,e),n.gcScheduler&&(e&&!n.gcScheduler.started?n.gcScheduler.start(n.localStore):e||n.gcScheduler.stop())});return function(t){return e.apply(this,arguments)}}())})()}ga(e){const t=GF();if(!MF.vt(t))throw new XA(JA.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=WL(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new MF(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class aU{initialize(e,t){var n=this;return(0,ly.Z)(function*(){n.localStore||(n.localStore=e.localStore,n.sharedClientState=e.sharedClientState,n.datastore=n.createDatastore(t),n.remoteStore=n.createRemoteStore(t),n.eventManager=n.createEventManager(t),n.syncEngine=n.createSyncEngine(t,!e.synchronizeTabs),n.sharedClientState.onlineStateHandler=e=>wV(n.syncEngine,e,1),n.remoteStore.remoteSyncer.handleCredentialChange=VV.bind(null,n.syncEngine),yield MM(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(e){return new YM}createDatastore(e){const t=HF(e.databaseInfo.databaseId),n=new zF(e.databaseInfo);return function(e,t,n,i){return new QF(e,t,n,i)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,i=e.asyncQueue,r=e=>wV(this.syncEngine,e,0),s=qF.vt()?new qF:new UF,new XF(t,n,i,r,s);var t,n,i,r,s}createSyncEngine(e,t){return function(e,t,n,i,r,s,o){const a=new hV(e,t,n,i,r,s);return o&&(a.da=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ly.Z)(function*(e){const t=QA(e);ZA("RemoteStore","RemoteStore shutting down."),t.wu.add(5),yield nM(t),t.gu.shutdown(),t.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function lU(e,t=10240){let n=0;return{read:()=>(0,ly.Z)(function*(){if(n<e.byteLength){const i={value:e.slice(n,n+t),done:!1};return n+=t,i}return{done:!0}})(),cancel:()=>(0,ly.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class cU{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class uU{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new eD,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(e=>{e&&e.Mu()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))},e=>this.metadata.reject(e))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,ly.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,ly.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,ly.Z)(function*(){const t=yield e.Va();if(null===t)return null;const n=e.ba.decode(t),i=Number(n);isNaN(i)&&e.va(`length string (${n}) is not valid number`);const r=yield e.Sa(i);return new nV(JSON.parse(r),t.length+i)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,ly.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const n=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),n})()}Sa(e){var t=this;return(0,ly.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const n=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),n})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,ly.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const n=new Uint8Array(e.buffer.length+t.value.length);n.set(e.buffer),n.set(t.value,e.buffer.length),e.buffer=n}return t.done})()}}class hU{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ly.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new XA(JA.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=yield(i=(0,ly.Z)(function*(e,t){const n=QA(e),i=kP(n.M)+"/documents",r={documents:t.map(e=>bP(n.M,e))},s=yield n._o("BatchGetDocuments",i,r),o=new Map;s.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){KA(!!t.found);const n=wP(e,t.found.name),i=_P(t.found.updateTime),r=new oR({mapValue:{fields:t.found.fields}});return lR.newFoundDocument(n,i,r)}(e,t):"missing"in t?function(e,t){KA(!!t.missing),KA(!!t.readTime);const n=wP(e,t.missing),i=_P(t.readTime);return lR.newNoDocument(n,i)}(e,t):WA()}(n.M,e);o.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=o.get(e.toString());KA(!!t),a.push(t)}),a}),function(e,t){return i.apply(this,arguments)})(t.datastore,e);var i;return n.forEach(e=>t.recordVersion(e)),n})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new VO(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ly.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var n;e.mutations.forEach(e=>{t.delete(e.key.toString())}),t.forEach((t,n)=>{const i=VD.fromPath(n);e.mutations.push(new UO(i,e.precondition(i)))}),yield(n=(0,ly.Z)(function*(e,t){const n=QA(e),i=kP(n.M)+"/documents",r={writes:t.map(e=>xP(n.M,e))};yield n.co("Commit",i,r)}),function(e,t){return n.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw WA();t=gD.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new XA(JA.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?IO.updateTime(t):IO.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(gD.min()))throw new XA(JA.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return IO.updateTime(t)}return IO.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class dU{constructor(e,t,n,i,r){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=i,this.deferred=r,this.xa=n.maxAttempts,this.No=new YF(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,ly.Z)(function*(){const t=new hU(e.datastore),n=e.ka(t);n&&n.then(n=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(n)}).catch(t=>{e.Ma(t)}))}).catch(t=>{e.Ma(t)})}))}ka(e){try{const t=this.updateFunction(e);return!LD(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!zO(t)}return!1}}class pU{constructor(e,t,n,i){var r=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=BA.UNAUTHENTICATED,this.clientId=hD.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,function(){var e=(0,ly.Z)(function*(e){ZA("FirestoreClient","Received user=",e.uid),yield r.authCredentialListener(e),r.user=e});return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(n,e=>(ZA("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}getConfiguration(){var e=this;return(0,ly.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new XA(JA.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new eD;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ly.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(n){const e=jM(n,"Failed to shutdown persistence");t.reject(e)}})),t.promise}}function fU(e,t){return mU.apply(this,arguments)}function mU(){return(mU=(0,ly.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress(),ZA("FirestoreClient","Initializing OfflineComponentProvider");const n=yield e.getConfiguration();yield t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(function(){var e=(0,ly.Z)(function*(e){i.isEqual(e)||(yield tF(t.localStore,e),i=e)});return function(t){return e.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t})).apply(this,arguments)}function gU(e,t){return _U.apply(this,arguments)}function _U(){return(_U=(0,ly.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress();const n=yield yU(e);ZA("FirestoreClient","Initializing OnlineComponentProvider");const i=yield e.getConfiguration();yield t.initialize(n,i),e.setCredentialChangeListener(e=>LM(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>LM(t.remoteStore,n)),e.onlineComponents=t})).apply(this,arguments)}function yU(e){return vU.apply(this,arguments)}function vU(){return(vU=(0,ly.Z)(function*(e){return e.offlineComponents||(ZA("FirestoreClient","Using default OfflineComponentProvider"),yield fU(e,new rU)),e.offlineComponents})).apply(this,arguments)}function bU(e){return wU.apply(this,arguments)}function wU(){return(wU=(0,ly.Z)(function*(e){return e.onlineComponents||(ZA("FirestoreClient","Using default OnlineComponentProvider"),yield gU(e,new aU)),e.onlineComponents})).apply(this,arguments)}function CU(e){return yU(e).then(e=>e.persistence)}function SU(e){return yU(e).then(e=>e.localStore)}function kU(e){return bU(e).then(e=>e.remoteStore)}function IU(e){return bU(e).then(e=>e.syncEngine)}function EU(e){return TU.apply(this,arguments)}function TU(){return(TU=(0,ly.Z)(function*(e){const t=yield bU(e),n=t.eventManager;return n.onListen=dV.bind(null,t.syncEngine),n.onUnlisten=gV.bind(null,t.syncEngine),n})).apply(this,arguments)}function xU(e,t,n={}){const i=new eD;return e.asyncQueue.enqueueAndForget((0,ly.Z)(function*(){return function(e,t,n,i,r){const s=new cU({next:s=>{t.enqueueAndForget(()=>KM(e,o));const a=s.docs.has(n);!a&&s.fromCache?r.reject(new XA(JA.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&i&&"server"===i.source?r.reject(new XA(JA.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:e=>r.reject(e)}),o=new tV($R(n.path),s,{includeMetadataChanges:!0,ku:!0});return $M(e,o)}(yield EU(e),e.asyncQueue,t,n,i)})),i.promise}function AU(e,t,n={}){const i=new eD;return e.asyncQueue.enqueueAndForget((0,ly.Z)(function*(){return function(e,t,n,i,r){const s=new cU({next:n=>{t.enqueueAndForget(()=>KM(e,o)),n.fromCache&&"server"===i.source?r.reject(new XA(JA.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:e=>r.reject(e)}),o=new tV(n,s,{includeMetadataChanges:!0,ku:!0});return $M(e,o)}(yield EU(e),e.asyncQueue,t,n,i)})),i.promise}const DU=new Map;function RU(e,t,n){if(!n)throw new XA(JA.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function OU(e,t,n,i){if(!0===t&&!0===i)throw new XA(JA.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function PU(e){if(!VD.isDocumentKey(e))throw new XA(JA.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function NU(e){if(VD.isDocumentKey(e))throw new XA(JA.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function LU(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":WA()}function FU(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new XA(JA.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=LU(e);throw new XA(JA.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function MU(e,t){if(t<=0)throw new XA(JA.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class VU{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new XA(JA.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new XA(JA.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,OU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class UU{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VU({}),this._settingsFrozen=!1,e instanceof ND?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new XA(JA.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ND(e.options.projectId)}(e))}get app(){if(!this._app)throw new XA(JA.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new XA(JA.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VU(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new nD;switch(e.type){case"gapi":const t=e.client;return KA(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new oD(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new XA(JA.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=DU.get(e);t&&(ZA("ComponentProvider","Removing Datastore"),DU.delete(e),t.terminate())}(this),Promise.resolve()}}class qU{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jU(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qU(this.firestore,e,this._key)}}class BU{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new BU(this.firestore,e,this._query)}}class jU extends BU{constructor(e,t,n){super(e,t,$R(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qU(this.firestore,null,new VD(e))}withConverter(e){return new jU(this.firestore,e,this._path)}}function zU(e,t,...n){if(e=(0,uy.m9)(e),RU("collection","path",t),e instanceof UU){const i=wD.fromString(t,...n);return NU(i),new jU(e,null,i)}{if(!(e instanceof qU||e instanceof jU))throw new XA(JA.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(wD.fromString(t,...n));return NU(i),new jU(e.firestore,null,i)}}function GU(e,t,...n){if(e=(0,uy.m9)(e),1===arguments.length&&(t=hD.R()),RU("doc","path",t),e instanceof UU){const i=wD.fromString(t,...n);return PU(i),new qU(e,null,new VD(i))}{if(!(e instanceof qU||e instanceof jU))throw new XA(JA.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(wD.fromString(t,...n));return PU(i),new qU(e.firestore,e instanceof jU?e.converter:null,new VD(i))}}function ZU(e,t){return e=(0,uy.m9)(e),t=(0,uy.m9)(t),(e instanceof qU||e instanceof jU)&&(t instanceof qU||t instanceof jU)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function HU(e,t){return e=(0,uy.m9)(e),t=(0,uy.m9)(t),e instanceof BU&&t instanceof BU&&e.firestore===t.firestore&&tO(e._query,t._query)&&e.converter===t.converter}class YU{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new YF(this,"async_queue_retry"),this.Qa=()=>{const e=ZF();e&&ZA("AsyncQueue","Visibility state changed to "+e.visibilityState),this.No.Po()};const e=ZF();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=ZF();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new eD;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,ly.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(YI){if(!wN(YI))throw YI;ZA("AsyncQueue","Operation failed with retryable error: "+YI)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(e=>{throw this.Ua=e,this.qa=!1,HA("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.qa=!1,e))));return this.Fa=t,t}enqueueAfterDelay(e,t,n){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const i=BM.createAndSchedule(this,e,t,n,e=>this.Ha(e));return this.La.push(i),i}ja(){this.Ua&&WA()}verifyOperationInProgress(){}Ja(){var e=this;return(0,ly.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function $U(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const i of["next","error","complete"])if(i in n&&"function"==typeof n[i])return!0;return!1}(e)}class WU{constructor(){this._progressObserver={},this._taskCompletionResolver=new eD,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class KU extends UU{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new YU,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||JU(this),this._firestoreClient.terminate()}}function QU(e){return e._firestoreClient||JU(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function JU(e){var t;const n=e._freezeSettings(),i=function(e,t,n,i){return new PD(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new pU(e._authCredentials,e._appCheckCredentials,e._queue,i)}function XU(e,t,n){const i=new eD;return e.asyncQueue.enqueue((0,ly.Z)(function*(){try{yield fU(e,n),yield gU(e,t),i.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===JA.FAILED_PRECONDITION||e.code===JA.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),i.reject(e)}})).then(()=>i.promise)}function eq(e){if(e._initialized||e._terminated)throw new XA(JA.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class tq{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new XA(JA.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new SD(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class nq{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nq(ID.fromBase64String(e))}catch(e){throw new XA(JA.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new nq(ID.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class iq{constructor(e){this._methodName=e}}class rq{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new XA(JA.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new XA(JA.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return dD(this._lat,e._lat)||dD(this._long,e._long)}}const sq=/^__.*__$/;class oq{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new NO(e,this.data,this.fieldMask,t,this.fieldTransforms):new PO(e,this.data,t,this.fieldTransforms)}}class aq{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new NO(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function lq(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw WA()}}class cq{constructor(e,t,n,i,r,s){this.settings=e,this.databaseId=t,this.M=n,this.ignoreUndefinedProperties=i,void 0===r&&this.tc(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new cq(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:n,ic:!1});return i.rc(e),i}oc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:n,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return Aq(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(lq(this.ec)&&sq.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class uq{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=n||HF(e)}lc(e,t,n,i=!1){return new cq({ec:e,methodName:t,hc:n,path:SD.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function hq(e){const t=e._freezeSettings(),n=HF(e._databaseId);return new uq(e._databaseId,!!t.ignoreUndefinedProperties,n)}function dq(e,t,n,i,r,s={}){const o=e.lc(s.merge||s.mergeFields?2:0,t,n,r);Iq("Data must be an object, but it was:",o,i);const a=Sq(i,o);let l,c;if(s.merge)l=new kD(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const i of s.mergeFields){const r=Eq(t,i,n);if(!o.contains(r))throw new XA(JA.INVALID_ARGUMENT,`Field '${r}' is specified in your field mask but missing from your input data.`);Dq(e,r)||e.push(r)}l=new kD(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new oq(new oR(a),l,c)}class pq extends iq{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pq}}function fq(e,t,n){return new cq({ec:3,hc:t.settings.hc,methodName:e._methodName,ic:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}class mq extends iq{_toFieldTransform(e){return new SO(e.path,new mO)}isEqual(e){return e instanceof mq}}class gq extends iq{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=fq(this,e,!0),n=this.fc.map(e=>Cq(e,t)),i=new gO(n);return new SO(e.path,i)}isEqual(e){return this===e}}class _q extends iq{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=fq(this,e,!0),n=this.fc.map(e=>Cq(e,t)),i=new yO(n);return new SO(e.path,i)}isEqual(e){return this===e}}class yq extends iq{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new bO(e.M,uO(e.M,this.dc));return new SO(e.path,t)}isEqual(e){return this===e}}function vq(e,t,n,i){const r=e.lc(1,t,n);Iq("Data must be an object, but it was:",r,i);const s=[],o=oR.empty();yD(i,(e,i)=>{const a=xq(t,e,n);i=(0,uy.m9)(i);const l=r.oc(a);if(i instanceof pq)s.push(a);else{const e=Cq(i,l);null!=e&&(s.push(a),o.set(a,e))}});const a=new kD(s);return new aq(o,a,r.fieldTransforms)}function bq(e,t,n,i,r,s){const o=e.lc(1,t,n),a=[Eq(t,i,n)],l=[r];if(s.length%2!=0)throw new XA(JA.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(Eq(t,s[d])),l.push(s[d+1]);const c=[],u=oR.empty();for(let d=a.length-1;d>=0;--d)if(!Dq(c,a[d])){const e=a[d];let t=l[d];t=(0,uy.m9)(t);const n=o.oc(e);if(t instanceof pq)c.push(e);else{const i=Cq(t,n);null!=i&&(c.push(e),u.set(e,i))}}const h=new kD(c);return new aq(u,h,o.fieldTransforms)}function wq(e,t,n,i=!1){return Cq(n,e.lc(i?4:3,t))}function Cq(e,t){if(kq(e=(0,uy.m9)(e)))return Iq("Unsupported field value:",t,e),Sq(e,t);if(e instanceof iq)return function(e,t){if(!lq(t.ec))throw t.ac(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.ac(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,t){const n=[];let i=0;for(const r of e){let e=Cq(r,t.uc(i));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),i++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,uy.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return uO(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=mD.fromDate(e);return{timestampValue:fP(t.M,n)}}if(e instanceof mD){const n=new mD(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:fP(t.M,n)}}if(e instanceof rq)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof nq)return{bytesValue:mP(t.M,e._byteString)};if(e instanceof qU){const n=t.databaseId,i=e.firestore._databaseId;if(!i.isEqual(n))throw t.ac(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:yP(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ac(`Unsupported field value: ${LU(e)}`)}(e,t)}function Sq(e,t){const n={};return vD(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):yD(e,(e,i)=>{const r=Cq(i,t.sc(e));null!=r&&(n[e]=r)}),{mapValue:{fields:n}}}function kq(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof mD||e instanceof rq||e instanceof nq||e instanceof qU||e instanceof iq)}function Iq(e,t,n){if(!kq(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const i=LU(n);throw t.ac("an object"===i?e+" a custom object":e+" "+i)}}function Eq(e,t,n){if((t=(0,uy.m9)(t))instanceof tq)return t._internalPath;if("string"==typeof t)return xq(e,t);throw Aq("Field path arguments must be of type string or ",e,!1,void 0,n)}const Tq=new RegExp("[~\\*/\\[\\]]");function xq(e,t,n){if(t.search(Tq)>=0)throw Aq(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new tq(...t.split("."))._internalPath}catch(i){throw Aq(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Aq(e,t,n,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new XA(JA.INVALID_ARGUMENT,a+e+l)}function Dq(e,t){return e.some(e=>e.isEqual(t))}class Rq{constructor(e,t,n,i,r){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new qU(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Oq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Pq("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Oq extends Rq{data(){return super.data()}}function Pq(e,t){return"string"==typeof t?xq(e,t):t instanceof tq?t._internalPath:t._delegate._internalPath}class Nq{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lq extends Rq{constructor(e,t,n,i,r,s){super(e,t,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Fq(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Pq("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Fq extends Lq{data(e={}){return super.data(e)}}class Mq{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Nq(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Fq(this._firestore,this._userDataWriter,n.key,n,new Nq(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new XA(JA.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>({type:"added",doc:new Fq(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Nq(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const i=new Fq(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Nq(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let r=-1,s=-1;return 0!==t.type&&(r=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Vq(t.type),doc:i,oldIndex:r,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Vq(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return WA()}}function Uq(e,t){return e instanceof Lq&&t instanceof Lq?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Mq&&t instanceof Mq&&e._firestore===t._firestore&&HU(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function qq(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new XA(JA.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bq{}function jq(e,...t){for(const n of t)e=n._apply(e);return e}class zq extends Bq{constructor(e,t,n){super(),this._c=e,this.wc=t,this.mc=n,this.type="where"}_apply(e){const t=hq(e.firestore),n=function(e,t,n,i,r,s,o){let a;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new XA(JA.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Kq(o,s);const t=[];for(const n of o)t.push(Wq(i,e,n));a={arrayValue:{values:t}}}else a=Wq(i,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Kq(o,s),a=wq(n,"where",o,"in"===s||"not-in"===s);const l=OR.create(r,s,a);return function(e,t){if(t.S()){const n=KR(e);if(null!==n&&!n.isEqual(t.field))throw new XA(JA.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const i=WR(e);null!==i&&Qq(0,t.field,i)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw new XA(JA.INVALID_ARGUMENT,n===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,l),l}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new BU(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new HR(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class Gq extends Bq{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new XA(JA.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new XA(JA.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const i=new jR(t,n);return function(e,t){if(null===WR(e)){const n=KR(e);null!==n&&Qq(0,n,t.field)}}(e,i),i}(e._query,this._c,this.gc);return new BU(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new HR(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Zq extends Bq{constructor(e,t,n){super(),this.type=e,this.yc=t,this.Ic=n}_apply(e){return new BU(e.firestore,e.converter,eO(e._query,this.yc,this.Ic))}}class Hq extends Bq{constructor(e,t,n){super(),this.type=e,this.Tc=t,this.Ec=n}_apply(e){const t=$q(e,this.type,this.Tc,this.Ec);return new BU(e.firestore,e.converter,function(e,t){return new HR(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class Yq extends Bq{constructor(e,t,n){super(),this.type=e,this.Tc=t,this.Ec=n}_apply(e){const t=$q(e,this.type,this.Tc,this.Ec);return new BU(e.firestore,e.converter,function(e,t){return new HR(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function $q(e,t,n,i){if(n[0]=(0,uy.m9)(n[0]),n[0]instanceof Rq)return function(e,t,n,i,r){if(!i)throw new XA(JA.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of JR(e))if(o.field.isKeyField())s.push($D(t,i.key));else{const e=i.data.field(o.field);if(DD(e))throw new XA(JA.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new XA(JA.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new BR(s,r)}(e._query,e.firestore._databaseId,t,n[0]._document,i);{const r=hq(e.firestore);return function(e,t,n,i,r,s){const o=e.explicitOrderBy;if(r.length>o.length)throw new XA(JA.INVALID_ARGUMENT,`Too many arguments provided to ${i}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let l=0;l<r.length;l++){const s=r[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new XA(JA.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${i}(), but got a ${typeof s}`);if(!QR(e)&&-1!==s.indexOf("/"))throw new XA(JA.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${i}() must be a plain document ID, but '${s}' contains a slash.`);const n=e.path.child(wD.fromString(s));if(!VD.isDocumentKey(n))throw new XA(JA.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${i}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const r=new VD(n);a.push($D(t,r))}else{const e=wq(n,i,s);a.push(e)}}return new BR(a,s)}(e._query,e.firestore._databaseId,r,t,n,i)}}function Wq(e,t,n){if("string"==typeof(n=(0,uy.m9)(n))){if(""===n)throw new XA(JA.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QR(t)&&-1!==n.indexOf("/"))throw new XA(JA.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(wD.fromString(n));if(!VD.isDocumentKey(i))throw new XA(JA.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return $D(e,new VD(i))}if(n instanceof qU)return $D(e,n._key);throw new XA(JA.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${LU(n)}.`)}function Kq(e,t){if(!Array.isArray(e)||0===e.length)throw new XA(JA.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new XA(JA.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function Qq(e,t,n){if(!n.isEqual(t))throw new XA(JA.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}const Jq={maxAttempts:5};class Xq{convertValue(e,t="none"){switch(BD(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xD(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(AD(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw WA()}}convertObject(e,t){const n={};return yD(e.fields,(e,i)=>{n[e]=this.convertValue(i,t)}),n}convertGeoPoint(e){return new rq(xD(e.latitude),xD(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=RD(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(OD(e));default:return null}}convertTimestamp(e){const t=TD(e);return new mD(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=wD.fromString(e);KA(BP(n));const i=new ND(n.get(1),n.get(3)),r=new VD(n.popFirst(5));return i.isEqual(t)||HA(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),r}}function eB(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}class tB extends Xq{constructor(e){super(),this.firestore=e}convertBytes(e){return new nq(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qU(this.firestore,null,t)}}class nB{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=hq(e)}set(e,t,n){this._verifyNotCommitted();const i=iB(e,this._firestore),r=eB(i.converter,t,n),s=dq(this._dataReader,"WriteBatch.set",i._key,r,null!==i.converter,n);return this._mutations.push(s.toMutation(i._key,IO.none())),this}update(e,t,n,...i){this._verifyNotCommitted();const r=iB(e,this._firestore);let s;return s="string"==typeof(t=(0,uy.m9)(t))||t instanceof tq?bq(this._dataReader,"WriteBatch.update",r._key,t,n,i):vq(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(s.toMutation(r._key,IO.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=iB(e,this._firestore);return this._mutations=this._mutations.concat(new VO(t._key,IO.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new XA(JA.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function iB(e,t){if((e=(0,uy.m9)(e)).firestore!==t)throw new XA(JA.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class rB extends Xq{constructor(e){super(),this.firestore=e}convertBytes(e){return new nq(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qU(this.firestore,null,t)}}function sB(e,t,n){e=FU(e,qU);const i=FU(e.firestore,KU),r=eB(e.converter,t,n);return lB(i,[dq(hq(i),"setDoc",e._key,r,null!==e.converter,n).toMutation(e._key,IO.none())])}function oB(e,t,n,...i){e=FU(e,qU);const r=FU(e.firestore,KU),s=hq(r);let o;return o="string"==typeof(t=(0,uy.m9)(t))||t instanceof tq?bq(s,"updateDoc",e._key,t,n,i):vq(s,"updateDoc",e._key,t),lB(r,[o.toMutation(e._key,IO.exists(!0))])}function aB(e,...t){var n,i,r;e=(0,uy.m9)(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||$U(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if($U(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(i=e.error)||void 0===i?void 0:i.bind(e),t[o+2]=null===(r=e.complete)||void 0===r?void 0:r.bind(e)}let l,c,u;if(e instanceof qU)c=FU(e.firestore,KU),u=$R(e._key.path),l={next:n=>{t[o]&&t[o](cB(c,e,n))},error:t[o+1],complete:t[o+2]};else{const n=FU(e,BU);c=FU(n.firestore,KU),u=n._query;const i=new rB(c);l={next:e=>{t[o]&&t[o](new Mq(c,i,n,e))},error:t[o+1],complete:t[o+2]},qq(e._query)}return function(e,t,n,i){const r=new cU(i),s=new tV(t,r,n);return e.asyncQueue.enqueueAndForget((0,ly.Z)(function*(){return $M(yield EU(e),s)})),()=>{r.Aa(),e.asyncQueue.enqueueAndForget((0,ly.Z)(function*(){return KM(yield EU(e),s)}))}}(QU(c),u,a,l)}function lB(e,t){return function(e,t){const n=new eD;return e.asyncQueue.enqueueAndForget((0,ly.Z)(function*(){return function(e,t,n){return yV.apply(this,arguments)}(yield IU(e),t,n)})),n.promise}(QU(e),t)}function cB(e,t,n){const i=n.docs.get(t._key),r=new rB(e);return new Lq(e,r,t._key,i,new Nq(n.hasPendingWrites,n.fromCache),t.converter)}class uB extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=hq(e)}get(e){const t=iB(e,this._firestore),n=new tB(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return WA();const i=e[0];if(i.isFoundDocument())return new Rq(this._firestore,n,i.key,i,t.converter);if(i.isNoDocument())return new Rq(this._firestore,n,t._key,null,t.converter);throw WA()})}set(e,t,n){const i=iB(e,this._firestore),r=eB(i.converter,t,n),s=dq(this._dataReader,"Transaction.set",i._key,r,null!==i.converter,n);return this._transaction.set(i._key,s),this}update(e,t,n,...i){const r=iB(e,this._firestore);let s;return s="string"==typeof(t=(0,uy.m9)(t))||t instanceof tq?bq(this._dataReader,"Transaction.update",r._key,t,n,i):vq(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,s),this}delete(e){const t=iB(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=iB(e,this._firestore),n=new rB(this._firestore);return super.get(e).then(e=>new Lq(this._firestore,n,t._key,e._document,new Nq(!1,!1),t.converter))}}function hB(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new XA("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function dB(){if("undefined"==typeof Uint8Array)throw new XA("unimplemented","Uint8Arrays are not available in this environment.")}function pB(){if("undefined"==typeof atob)throw new XA("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){!function(e){jA=e}(cy.SDK_VERSION),(0,cy._registerComponent)(new ay.wA("firestore",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=new KU(i,new rD(e.getProvider("auth-internal")),new lD(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),r._setSettings(n),r},"PUBLIC")),(0,cy.registerVersion)(qA,"3.4.9",e),(0,cy.registerVersion)(qA,"3.4.9","esm2017")}();class fB{constructor(e){this._delegate=e}static fromBase64String(e){return pB(),new fB(nq.fromBase64String(e))}static fromUint8Array(e){return dB(),new fB(nq.fromUint8Array(e))}toBase64(){return pB(),this._delegate.toBase64()}toUint8Array(){return dB(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function mB(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const i of["next","error","complete"])if(i in n&&"function"==typeof n[i])return!0;return!1}(e)}class gB{enableIndexedDbPersistence(e,t){return function(e,t){eq(e=FU(e,KU));const n=QU(e),i=e._freezeSettings(),r=new aU;return XU(n,r,new sU(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){eq(e=FU(e,KU));const t=QU(e),n=e._freezeSettings(),i=new aU;return XU(t,i,new oU(i,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new XA(JA.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new eD;return e._queue.enqueueAndForgetEvenWhileRestricted((0,ly.Z)(function*(){try{yield(n=(0,ly.Z)(function*(e){if(!yN.vt())return Promise.resolve();const t=e+"main";yield yN.delete(t)}),function(e){return n.apply(this,arguments)})(WL(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var n})),t.promise}(e._delegate)}}class _B{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof ND||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||YA("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,i={}){var r;const s=(e=FU(e,UU))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&YA("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),i.mockUserToken){let t,n;if("string"==typeof i.mockUserToken)t=i.mockUserToken,n=BA.MOCK_USER;else{t=(0,uy.Sg)(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);const s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new XA(JA.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new BA(s)}e._authCredentials=new iD(new tD(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((0,ly.Z)(function*(){const t=yield CU(e),n=yield kU(e);return t.setNetworkEnabled(!0),function(e){const t=QA(e);return t.wu.delete(0),eM(t)}(n)}))}(QU(e=FU(e,KU)))}(this._delegate)}disableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((0,ly.Z)(function*(){const t=yield CU(e),n=yield kU(e);return t.setNetworkEnabled(!1),(i=(0,ly.Z)(function*(e){const t=QA(e);t.wu.add(0),yield nM(t),t.yu.set("Offline")}),function(e){return i.apply(this,arguments)})(n);var i}))}(QU(e=FU(e,KU)))}(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,OU("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){return function(e){const t=new eD;return e.asyncQueue.enqueueAndForget((0,ly.Z)(function*(){return function(e,t){return xV.apply(this,arguments)}(yield IU(e),t)})),t.promise}(QU(e=FU(e,KU)))}(this._delegate)}onSnapshotsInSync(e){return function(e,t){return function(e,t){const n=new cU(t);return e.asyncQueue.enqueueAndForget((0,ly.Z)(function*(){return function(e,t){QA(e).bu.add(t),t.next()}(yield EU(e),n)})),()=>{n.Aa(),e.asyncQueue.enqueueAndForget((0,ly.Z)(function*(){return function(e,t){QA(e).bu.delete(t)}(yield EU(e),n)}))}}(QU(e=FU(e,KU)),$U(t)?t:{next:t})}(this._delegate,e)}get app(){if(!this._appCompat)throw new XA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new RB(this,zU(this._delegate,e))}catch(t){throw SB(t,"collection()","Firestore.collection()")}}doc(e){try{return new CB(this,GU(this._delegate,e))}catch(t){throw SB(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new xB(this,function(e,t){if(e=FU(e,UU),RU("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new XA(JA.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new BU(e,null,function(e){return new HR(wD.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw SB(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=FU(e,KU);const i=Object.assign(Object.assign({},Jq),void 0);return function(e){if(e.maxAttempts<1)throw new XA(JA.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(e,t,n){const i=new eD;return e.asyncQueue.enqueueAndForget((0,ly.Z)(function*(){const r=yield function(e){return bU(e).then(e=>e.datastore)}(e);new dU(e.asyncQueue,r,n,t,i).run()})),i.promise}(QU(e),n=>t(new uB(e,n)),i)}(this._delegate,t=>e(new vB(this,t)))}batch(){return QU(this._delegate),new bB(new nB(this._delegate,e=>lB(this._delegate,e)))}loadBundle(e){return function(e,t){const n=QU(e=FU(e,KU)),i=new WU;return function(e,t,n,i){const r=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new uU(e,t)}(function(e,t){if(e instanceof Uint8Array)return lU(e,t);if(e instanceof ArrayBuffer)return lU(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,HF(t));e.asyncQueue.enqueueAndForget((0,ly.Z)(function*(){!function(e,t,n){const i=QA(e);var r;(r=(0,ly.Z)(function*(e,t,n){try{const i=yield t.getMetadata();if(yield function(e,t){const n=QA(e),i=_P(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n._s.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(i)>=0)}(e.localStore,i))return yield t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),Promise.resolve(new Set);n._updateProgress(sV(i));const r=new rV(i,e.localStore,t.M);let s=yield t.ma();for(;s;){const e=yield r.Fu(s);e&&n._updateProgress(e),s=yield t.ma()}const o=yield r.complete();return yield FV(e,o.Lu,void 0),yield function(e,t){const n=QA(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n._s.saveBundleMetadata(e,t))}(e.localStore,i),n._completeWith(o.progress),Promise.resolve(o.Bu)}catch(e){return YA("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}}),function(e,t,n){return r.apply(this,arguments)})(i,t,n).then(e=>{i.sharedClientState.notifyBundleLoaded(e)})}(yield IU(e),r,i)}))}(n,e._databaseId,t,i),i}(this._delegate,e)}namedQuery(e){return function(e,t){return function(e,t){return e.asyncQueue.enqueue((0,ly.Z)(function*(){return function(e,t){const n=QA(e);return n.persistence.runTransaction("Get named query","readonly",e=>n._s.getNamedQuery(e,t))}(yield SU(e),t)}))}(QU(e=FU(e,KU)),t).then(t=>t?new BU(e,null,t.query):null)}(this._delegate,e).then(e=>e?new xB(this,e):null)}}class yB extends Xq{constructor(e){super(),this.firestore=e}convertBytes(e){return new fB(new nq(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return CB.forKey(t,this.firestore,null)}}class vB{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new yB(e)}get(e){const t=OB(e);return this._delegate.get(t).then(e=>new EB(this._firestore,new Lq(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const i=OB(e);return n?(hB("Transaction.set",n),this._delegate.set(i,t,n)):this._delegate.set(i,t),this}update(e,t,n,...i){const r=OB(e);return 2===arguments.length?this._delegate.update(r,t):this._delegate.update(r,t,n,...i),this}delete(e){const t=OB(e);return this._delegate.delete(t),this}}class bB{constructor(e){this._delegate=e}set(e,t,n){const i=OB(e);return n?(hB("WriteBatch.set",n),this._delegate.set(i,t,n)):this._delegate.set(i,t),this}update(e,t,n,...i){const r=OB(e);return 2===arguments.length?this._delegate.update(r,t):this._delegate.update(r,t,n,...i),this}delete(e){const t=OB(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class wB{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Fq(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new TB(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=wB.INSTANCES;let i=n.get(e);i||(i=new WeakMap,n.set(e,i));let r=i.get(t);return r||(r=new wB(e,new yB(e),t),i.set(t,r)),r}}wB.INSTANCES=new WeakMap;class CB{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yB(e)}static forPath(e,t,n){if(e.length%2!=0)throw new XA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new CB(t,new qU(t._delegate,n,new VD(e)))}static forKey(e,t,n){return new CB(t,new qU(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new RB(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new RB(this.firestore,zU(this._delegate,e))}catch(t){throw SB(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,uy.m9)(e))instanceof qU&&ZU(this._delegate,e)}set(e,t){t=hB("DocumentReference.set",t);try{return t?sB(this._delegate,e,t):sB(this._delegate,e)}catch(n){throw SB(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?oB(this._delegate,e):oB(this._delegate,e,t,...n)}catch(i){throw SB(i,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return lB(FU(e.firestore,KU),[new VO(e._key,IO.none())])}(this._delegate)}onSnapshot(...e){const t=kB(e),n=IB(e,e=>new EB(this.firestore,new Lq(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return aB(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=FU(e,qU);const t=FU(e.firestore,KU),n=QU(t),i=new rB(t);return function(e,t){const n=new eD;return e.asyncQueue.enqueueAndForget((0,ly.Z)(function*(){return(i=(0,ly.Z)(function*(e,t,n){try{const i=yield function(e,t){const n=QA(e);return n.persistence.runTransaction("read document","readonly",e=>n.fi.Ls(e,t))}(e,t);i.isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new XA(JA.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const i=jM(e,`Failed to get document '${t} from cache`);n.reject(i)}}),function(e,t,n){return i.apply(this,arguments)})(yield SU(e),t,n);var i})),n.promise}(n,e._key).then(n=>new Lq(t,i,e._key,n,new Nq(null!==n&&n.hasLocalMutations,!0),e.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=FU(e,qU);const t=FU(e.firestore,KU);return xU(QU(t),e._key,{source:"server"}).then(n=>cB(t,e,n))}(this._delegate):function(e){e=FU(e,qU);const t=FU(e.firestore,KU);return xU(QU(t),e._key).then(n=>cB(t,e,n))}(this._delegate),t.then(e=>new EB(this.firestore,new Lq(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new CB(this.firestore,this._delegate.withConverter(e?wB.getInstance(this.firestore,e):null))}}function SB(e,t,n){return e.message=e.message.replace(t,n),e}function kB(e){for(const t of e)if("object"==typeof t&&!mB(t))return t;return{}}function IB(e,t){var n,i;let r;return r=mB(e[0])?e[0]:mB(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{r.next&&r.next(t(e))},error:null===(n=r.error)||void 0===n?void 0:n.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class EB{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new CB(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Uq(this._delegate,e._delegate)}}class TB extends EB{data(e){const t=this._delegate.data(e);return function(e,t){e||WA()}(void 0!==t),t}}class xB{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yB(e)}where(e,t,n){try{return new xB(this.firestore,jq(this._delegate,function(e,t,n){const i=t,r=Pq("where",e);return new zq(r,i,n)}(e,t,n)))}catch(i){throw SB(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new xB(this.firestore,jq(this._delegate,function(e,t="asc"){const n=t,i=Pq("orderBy",e);return new Gq(i,n)}(e,t)))}catch(n){throw SB(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new xB(this.firestore,jq(this._delegate,function(e){return MU("limit",e),new Zq("limit",e,"F")}(e)))}catch(t){throw SB(t,"limit()","Query.limit()")}}limitToLast(e){try{return new xB(this.firestore,jq(this._delegate,function(e){return MU("limitToLast",e),new Zq("limitToLast",e,"L")}(e)))}catch(t){throw SB(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new xB(this.firestore,jq(this._delegate,function(...e){return new Hq("startAt",e,!0)}(...e)))}catch(t){throw SB(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new xB(this.firestore,jq(this._delegate,function(...e){return new Hq("startAfter",e,!1)}(...e)))}catch(t){throw SB(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new xB(this.firestore,jq(this._delegate,function(...e){return new Yq("endBefore",e,!1)}(...e)))}catch(t){throw SB(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new xB(this.firestore,jq(this._delegate,function(...e){return new Yq("endAt",e,!0)}(...e)))}catch(t){throw SB(t,"endAt()","Query.endAt()")}}isEqual(e){return HU(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=FU(e,BU);const t=FU(e.firestore,KU),n=QU(t),i=new rB(t);return function(e,t){const n=new eD;return e.asyncQueue.enqueueAndForget((0,ly.Z)(function*(){return(i=(0,ly.Z)(function*(e,t,n){try{const i=yield hF(e,t,!0),r=new lV(t,i._i),s=r.Wu(i.documents),o=r.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const i=jM(e,`Failed to execute query '${t} against cache`);n.reject(i)}}),function(e,t,n){return i.apply(this,arguments)})(yield SU(e),t,n);var i})),n.promise}(n,e._query).then(n=>new Mq(t,i,e,n))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=FU(e,BU);const t=FU(e.firestore,KU),n=QU(t),i=new rB(t);return AU(n,e._query,{source:"server"}).then(n=>new Mq(t,i,e,n))}(this._delegate):function(e){e=FU(e,BU);const t=FU(e.firestore,KU),n=QU(t),i=new rB(t);return qq(e._query),AU(n,e._query).then(n=>new Mq(t,i,e,n))}(this._delegate),t.then(e=>new DB(this.firestore,new Mq(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(...e){const t=kB(e),n=IB(e,e=>new DB(this.firestore,new Mq(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return aB(this._delegate,t,n)}withConverter(e){return new xB(this.firestore,this._delegate.withConverter(e?wB.getInstance(this.firestore,e):null))}}class AB{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new TB(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class DB{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new xB(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new TB(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new AB(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new TB(this._firestore,n))})}isEqual(e){return Uq(this._delegate,e._delegate)}}class RB extends xB{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new CB(this.firestore,e):null}doc(e){try{return new CB(this.firestore,void 0===e?GU(this._delegate):GU(this._delegate,e))}catch(t){throw SB(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=FU(e.firestore,KU),i=GU(e),r=eB(e.converter,t);return lB(n,[dq(hq(e.firestore),"addDoc",i._key,r,null!==e.converter,{}).toMutation(i._key,IO.exists(!1))]).then(()=>i)}(this._delegate,e).then(e=>new CB(this.firestore,e))}isEqual(e){return ZU(this._delegate,e._delegate)}withConverter(e){return new RB(this.firestore,this._delegate.withConverter(e?wB.getInstance(this.firestore,e):null))}}function OB(e){return FU(e,qU)}class PB{constructor(...e){this._delegate=new tq(...e)}static documentId(){return new PB(SD.keyField().canonicalString())}isEqual(e){return(e=(0,uy.m9)(e))instanceof tq&&this._delegate._internalPath.isEqual(e._internalPath)}}class NB{constructor(e){this._delegate=e}static serverTimestamp(){const e=new mq("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new NB(e)}static delete(){const e=new pq("deleteField");return e._methodName="FieldValue.delete",new NB(e)}static arrayUnion(...e){const t=function(...e){return new gq("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new NB(t)}static arrayRemove(...e){const t=function(...e){return new _q("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new NB(t)}static increment(e){const t=function(e){return new yq("increment",e)}(e);return t._methodName="FieldValue.increment",new NB(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const LB={Firestore:_B,GeoPoint:rq,Timestamp:mD,Blob:fB,Transaction:vB,WriteBatch:bB,DocumentReference:CB,DocumentSnapshot:EB,Query:xB,QueryDocumentSnapshot:TB,QuerySnapshot:DB,CollectionReference:RB,FieldPath:PB,FieldValue:NB,setLogLevel:function(e){!function(e){zA.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};function FB(e,t){return function(e,t=qe.z){return new Ot.y(n=>{let i;return null!=t?t.schedule(()=>{i=e.onSnapshot({includeMetadataChanges:!0},n)}):i=e.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=i&&i()}})}(e,t)}function MB(e,t){return FB(e,t).pipe((0,$e.U)(e=>({payload:e,type:"query"})))}function VB(e,t){return MB(e,t).pipe(En(void 0),Vl(),(0,$e.U)(([e,t])=>{const n=t.payload.docChanges(),i=n.map(e=>({type:e.type,payload:e}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(t.payload.metadata)&&t.payload.docs.forEach((t,r)=>{const s=n.find(e=>e.doc.ref.isEqual(t.ref)),o=null==e?void 0:e.payload.docs.find(e=>e.ref.isEqual(t.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(t.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(t.metadata)||i.push({type:"modified",payload:{oldIndex:r,newIndex:r,type:"modified",doc:t}})}),i}))}function UB(e,t,n){return VB(e,n).pipe(Uf((e,n)=>function(e,t,n){return t.forEach(t=>{n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return qB(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return qB(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return qB(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(e=>e.payload),t),[]),it(),(0,$e.U)(e=>e.map(e=>({type:e.type,payload:e}))))}function qB(e,t,n,...i){const r=e.slice();return r.splice(t,n,...i),r}function BB(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}!function(e){e.INTERNAL.registerComponent(new ay.wA("firestore-compat",e=>{return t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("firestore").getImmediate(),new _B(t,n,new gB);var t,n},"PUBLIC").setServiceProps(Object.assign({},LB))),e.registerVersion("@firebase/firestore-compat","0.1.18")}(oy.Z);class jB{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){let t=VB(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,$e.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)))),t.pipe(En(void 0),Vl(),Ze(([e,t])=>t.length>0||!e),(0,$e.U)(([e,t])=>t),ry.iC)}auditTrail(e){return this.stateChanges(e).pipe(Uf((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=BB(e);return UB(this.query,t,this.afs.schedulers.outsideAngular).pipe(ry.iC)}valueChanges(e={}){return MB(this.query,this.afs.schedulers.outsideAngular).pipe((0,$e.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data())),ry.iC)}get(e){return(0,ha.D)(this.query.get(e)).pipe(ry.iC)}add(e){return this.ref.add(e)}doc(e){return new zB(this.ref.doc(e),this.afs)}}class zB{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:i,query:r}=WB(n,t);return new jB(i,r,this.afs)}snapshotChanges(){return function(e,t){return FB(e,t).pipe(En(void 0),Vl(),(0,$e.U)(([e,t])=>t.exists?(null==e?void 0:e.exists)?{payload:t,type:"modified"}:{payload:t,type:"added"}:{payload:t,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ry.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,$e.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ha.D)(this.ref.get(e)).pipe(ry.iC)}}class GB{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?VB(this.query,this.afs.schedulers.outsideAngular).pipe((0,$e.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)),Ze(e=>e.length>0),ry.iC):VB(this.query,this.afs.schedulers.outsideAngular).pipe(ry.iC)}auditTrail(e){return this.stateChanges(e).pipe(Uf((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=BB(e);return UB(this.query,t,this.afs.schedulers.outsideAngular).pipe(ry.iC)}valueChanges(e={}){return MB(this.query,this.afs.schedulers.outsideAngular).pipe((0,$e.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign({[e.idField]:t.id},t.data()):t.data())),ry.iC)}get(e){return(0,ha.D)(this.query.get(e)).pipe(ry.iC)}}const ZB=new i.OlP("angularfire2.enableFirestorePersistence"),HB=new i.OlP("angularfire2.firestore.persistenceSettings"),YB=new i.OlP("angularfire2.firestore.settings"),$B=new i.OlP("angularfire2.firestore.use-emulator");function WB(e,t=(e=>e)){return{query:t(e),ref:e}}let KB=(()=>{class e{constructor(e,t,n,i,r,s,o,a,l,c,u,h,d,p,f,m,g){this.schedulers=o;const _=(0,sy.on)(e,s,t),y=l;c&&aI(_,s,u,d,p,f,h,m),[this.firestore,this.persistenceEnabled$]=(0,sy.cc)(`${_.name}.firestore`,"AngularFirestore",_.name,()=>{const e=s.runOutsideAngular(()=>_.firestore());if(i&&e.settings(i),y&&e.useEmulator(...y),n&&!Z(r)){const t=()=>{try{return(0,ha.D)(e.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(t){return"undefined"!=typeof console&&console.warn(t),(0,Oe.of)(!1)}};return[e,s.runOutsideAngular(t)]}return[e,(0,Oe.of)(!1)]},[i,y,n])}collection(e,t){let n;n="string"==typeof e?this.firestore.collection(e):e;const{ref:i,query:r}=WB(n,t),s=this.schedulers.ngZone.run(()=>i);return new jB(s,r,this)}collectionGroup(e,t){const n=t||(e=>e),i=this.firestore.collectionGroup(e);return new GB(n(i),this)}doc(e){let t;t="string"==typeof e?this.firestore.doc(e):e;const n=this.schedulers.ngZone.run(()=>t);return new zB(n,this)}createId(){return this.firestore.collection("_").doc().id}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(sy.Dh),i.LFG(sy.xv,8),i.LFG(ZB,8),i.LFG(YB,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(ry.HU),i.LFG(HB,8),i.LFG($B,8),i.LFG(lI,8),i.LFG(tI,8),i.LFG(nI,8),i.LFG(iI,8),i.LFG(rI,8),i.LFG(sI,8),i.LFG(oI,8),i.LFG(Xk,8))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})();function QB(e,t){1&e&&(i.TgZ(0,"p",5),i._uU(1,"There is no data added yet!"),i.qZA())}function JB(e,t){1&e&&(i.TgZ(0,"th",18),i._uU(1,"ID"),i.qZA())}function XB(e,t){if(1&e&&(i.TgZ(0,"td",19),i._uU(1),i.qZA()),2&e){const e=t.$implicit;i.xp6(1),i.Oqu(e.$key)}}function ej(e,t){1&e&&(i.TgZ(0,"th",18),i._uU(1,"id"),i.qZA())}function tj(e,t){if(1&e&&(i.TgZ(0,"td",19),i._uU(1),i.qZA()),2&e){const e=t.$implicit;i.xp6(1),i.Oqu(e.id)}}function nj(e,t){1&e&&(i.TgZ(0,"th",18),i._uU(1,"Nombre"),i.qZA())}function ij(e,t){if(1&e&&(i.TgZ(0,"td",19),i._uU(1),i.qZA()),2&e){const e=t.$implicit;i.xp6(1),i.Oqu(e.nombre)}}function rj(e,t){1&e&&(i.TgZ(0,"th",18),i._uU(1,"Action"),i.qZA())}const sj=function(e){return["/edit-book/",e]};function oj(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"td",19),i.TgZ(1,"button",20),i._uU(2," Editar "),i.qZA(),i.TgZ(3,"button",21),i.NdJ("click",function(){const t=i.CHM(e),n=t.index,r=t.$implicit;return i.oxw(2).deleteItem(n,r)}),i._uU(4," Eliminar "),i.qZA(),i.qZA()}if(2&e){const e=t.$implicit;i.xp6(1),i.Q6J("routerLink",i.VKq(1,sj,e.$key))}}function aj(e,t){1&e&&i._UZ(0,"tr",22)}function lj(e,t){1&e&&i._UZ(0,"tr",23)}const cj=function(){return[5,10,20]};function uj(e,t){if(1&e&&(i.TgZ(0,"div",6),i.TgZ(1,"div",7),i.TgZ(2,"table",8),i.ynx(3,9),i.YNc(4,JB,2,0,"th",10),i.YNc(5,XB,2,1,"td",11),i.BQk(),i.ynx(6,12),i.YNc(7,ej,2,0,"th",10),i.YNc(8,tj,2,1,"td",11),i.BQk(),i.ynx(9,13),i.YNc(10,nj,2,0,"th",10),i.YNc(11,ij,2,1,"td",11),i.BQk(),i.ynx(12,14),i.YNc(13,rj,2,0,"th",10),i.YNc(14,oj,5,3,"td",11),i.BQk(),i.YNc(15,aj,1,0,"tr",15),i.YNc(16,lj,1,0,"tr",16),i.qZA(),i._UZ(17,"mat-paginator",17),i.qZA(),i.qZA()),2&e){const e=i.oxw();i.xp6(2),i.Q6J("dataSource",e.dataItems),i.xp6(13),i.Q6J("matHeaderRowDef",e.displayedColumns),i.xp6(1),i.Q6J("matRowDefColumns",e.displayedColumns),i.xp6(1),i.Q6J("pageSizeOptions",i.DdM(4,cj))}}let hj=(()=>{class e{constructor(e,t){this.itemApi=e,this.afs=t,this.ItemData=[],this.displayedColumns=["$key","nombre","id"],this.itemsCollection=t.collection("cursos"),this.items=this.itemsCollection.valueChanges(["added","removed"]),this.afs.collection("cursos").valueChanges().subscribe(e=>{this.dataItems=e,console.log("this.dataItems",this.dataItems)}),console.log("this.itemsCollection",this.items),this.itemApi.GetItemList().snapshotChanges().subscribe(e=>{console.log(e),e.forEach(e=>{let t=e.payload.toJSON();t.$key=e.key,this.ItemData.push(t)}),this.dataSource=new Af(this.ItemData),setTimeout(()=>{this.dataSource.paginator=this.paginator},0)})}deleteItem(e,t){if(window.confirm("Estas Seguro?")){const n=this.dataSource.data;n.splice(this.paginator.pageIndex*this.paginator.pageSize+e,1),this.dataSource.data=n,this.itemApi.DeleteItem(t.$key)}}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(EI),i.Y36(KB))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-item-list"]],viewQuery:function(e,t){if(1&e&&i.Gf(sp,5),2&e){let e;i.iGM(e=i.CRH())&&(t.paginator=e.first)}},decls:6,vars:2,consts:[[1,"title-group"],[1,"mat-h1"],["fxFlex","1 0"],["class","no-data",4,"ngIf"],["class","container",4,"ngIf"],[1,"no-data"],[1,"container"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","$key"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["matColumnDef","nombre"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-raised-button","","color","primary",1,"push-right",3,"routerLink"],["mat-raised-button","","color","accent",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"h1",1),i._uU(2,"Items"),i.qZA(),i._UZ(3,"mat-divider",2),i.qZA(),i.YNc(4,QB,2,0,"p",3),i.YNc(5,uj,18,5,"div",4)),2&e&&(i.xp6(4),i.Q6J("ngIf",t.dataItems.length<=0),i.xp6(1),i.Q6J("ngIf",t.dataItems.length>0))},directives:[Bh,O,yf,wf,bf,vf,kf,If,sp,Cf,Sf,bo,R_,Ef,Tf],styles:[""]}),e})();const dj=[{path:"",pathMatch:"full",redirectTo:"item-list"},{path:"add-item",component:OI},{path:"edit-item/:id",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-edit-item"]],decls:2,vars:0,template:function(e,t){1&e&&(i.TgZ(0,"p"),i._uU(1,"edit-item works!"),i.qZA())},styles:[""]}),e})()},{path:"items-list",component:hj}];let pj=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[Z_.forRoot(dj)],Z_]}),e})();const fj=["sidenav"];let mj=(()=>{class e{constructor(){this.opened=!0}ngOnInit(){window.innerWidth<768?(this.sidenav.fixedTopGap=55,this.opened=!1):(this.sidenav.fixedTopGap=55,this.opened=!0)}onResize(e){e.target.innerWidth<768?(this.sidenav.fixedTopGap=55,this.opened=!1):(this.sidenav.fixedTopGap=55,this.opened=!0)}isBiggerScreen(){return(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<768}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-root"]],viewQuery:function(e,t){if(1&e&&i.Gf(fj,5),2&e){let e;i.iGM(e=i.CRH())&&(t.sidenav=e.first)}},hostBindings:function(e,t){1&e&&i.NdJ("resize",function(e){return t.onResize(e)},!1,i.Jf7)},decls:41,vars:0,consts:[["color","primary",1,"header"],[1,"nav-tool-items"],[1,"hamburger"],[1,"example-button-container",2,"position","fixed","right","10px","bottom","10px","z-index","999",3,"click"],["mat-fab","","color","primary"],[1,"sidenav-full"],["mode","side","position","end","role","navigation",1,"sidenav-wv"],["sidenav1",""],["opened","","mode","side","opened","true","position","start","role","navigation",1,"sidenav-wv"],["sidenav2",""],["fxLayout","column",1,"sidenav-normal"],["mat-button","",1,"align-center","color-white",3,"click"],[1,"material-icons"],["mat-button","",1,"rec-menu","mt-30",3,"click"],[1,"color-white"],["mat-list-item","","routerLinkActive","active","routerLink","/add-item"],["mat-list-item","","routerLinkActive","active","routerLink","/items-list"]],template:function(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"mat-toolbar",0),i.TgZ(1,"div"),i._uU(2,"MTI IT 2022"),i.qZA(),i.TgZ(3,"span",1),i.TgZ(4,"mat-icon",2),i._uU(5,"menu"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(6,"div",3),i.NdJ("click",function(){return i.CHM(e),i.MAs(13).toggle()}),i.TgZ(7,"button",4),i.TgZ(8,"mat-icon"),i._uU(9,"add"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(10,"div"),i.TgZ(11,"mat-sidenav-container",5),i.TgZ(12,"mat-sidenav",6,7),i._UZ(14,"app-add-item"),i.qZA(),i.TgZ(15,"mat-sidenav-content"),i.TgZ(16,"mat-sidenav-container",5),i.TgZ(17,"mat-sidenav",8,9),i.TgZ(19,"div",10),i.TgZ(20,"button",11),i.NdJ("click",function(){return i.CHM(e),i.MAs(18).toggle()}),i.TgZ(21,"i",12),i._uU(22,"reorder"),i.qZA(),i.qZA(),i.TgZ(23,"button",13),i.NdJ("click",function(){return i.CHM(e),i.MAs(13).toggle()}),i.TgZ(24,"span",14),i._uU(25,"menu 1"),i.qZA(),i.qZA(),i.TgZ(26,"button",13),i.NdJ("click",function(){return i.CHM(e),i.MAs(13).toggle()}),i.TgZ(27,"span",14),i._uU(28,"menu 2"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(29,"mat-nav-list"),i.TgZ(30,"a",15),i.TgZ(31,"mat-icon"),i._uU(32,"add"),i.qZA(),i._uU(33," Add Item "),i.qZA(),i.TgZ(34,"a",16),i.TgZ(35,"mat-icon"),i._uU(36,"format_list_bulleted"),i.qZA(),i._uU(37," View Items "),i.qZA(),i.qZA(),i.qZA(),i.TgZ(38,"mat-sidenav-content"),i.TgZ(39,"div"),i._UZ(40,"router-outlet"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}},directives:[Nf,Uh,bo,Ap,xp,OI,Tp,Kh,Xh,O_,N_,L_],styles:[""]}),e})();const gj={apiKey:"AIzaSyAkMQ_5iEtd-ZAUD6AqBojCOIlOApSs0IA",authDomain:"mti22-56493.firebaseapp.com",databaseURL:"https://mti22-56493-default-rtdb.firebaseio.com",projectId:"mti22-56493",storageBucket:"mti22-56493.appspot.com",messagingSenderId:"582361656190",appId:"1:582361656190:web:feeb59fa56f43bb633a12f",measurementId:"G-PRF1H59YM3"};let _j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e,bootstrap:[mj]}),e.\u0275inj=i.cJS({providers:[EI],imports:[[Te,pj,gs,Ff,sy.hO.initializeApp(gj),II,Il,El,wo,Dp,ed]]}),e})();(0,i.G48)(),Ie().bootstrapModule(_j).catch(e=>console.error(e))},6304:(e,t,n)=>{"use strict";function i(e,t,n,i,r,s,o){try{var a=e[s](o),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(i,r)}function r(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){i(o,r,s,a,l,"next",e)}function l(e){i(o,r,s,a,l,"throw",e)}a(void 0)})}}n.d(t,{Z:()=>r})}},e=>{"use strict";e(e.s=5526)}]);